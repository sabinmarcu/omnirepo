/* eslint-disable */
//prettier-ignore
module.exports = {
name: "@yarnpkg/plugin-yaml-manifest",
factory: function (require) {
var plugin=(()=>{var Sf=Object.create,Zt=Object.defineProperty,Ef=Object.defineProperties,vf=Object.getOwnPropertyDescriptor,Af=Object.getOwnPropertyDescriptors,wf=Object.getOwnPropertyNames,Di=Object.getOwnPropertySymbols,bf=Object.getPrototypeOf,qi=Object.prototype.hasOwnProperty,Of=Object.prototype.propertyIsEnumerable;var Fi=(t,e,r)=>e in t?Zt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,F=(t,e)=>{for(var r in e||(e={}))qi.call(e,r)&&Fi(t,r,e[r]);if(Di)for(var r of Di(e))Of.call(e,r)&&Fi(t,r,e[r]);return t},ne=(t,e)=>Ef(t,Af(e)),Pf=t=>Zt(t,"__esModule",{value:!0});var H=t=>{if(typeof require!="undefined")return require(t);throw new Error('Dynamic require of "'+t+'" is not supported')};var v=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),Tf=(t,e)=>{for(var r in e)Zt(t,r,{get:e[r],enumerable:!0})},Rf=(t,e,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let n of wf(e))!qi.call(t,n)&&n!=="default"&&Zt(t,n,{get:()=>e[n],enumerable:!(r=vf(e,n))||r.enumerable});return t},er=t=>Rf(Pf(Zt(t!=null?Sf(bf(t)):{},"default",t&&t.__esModule&&"default"in t?{get:()=>t.default,enumerable:!0}:{value:t,enumerable:!0})),t);var Ue=v(ye=>{"use strict";var Ye={ANCHOR:"&",COMMENT:"#",TAG:"!",DIRECTIVES_END:"-",DOCUMENT_END:"."},tr={ALIAS:"ALIAS",BLANK_LINE:"BLANK_LINE",BLOCK_FOLDED:"BLOCK_FOLDED",BLOCK_LITERAL:"BLOCK_LITERAL",COMMENT:"COMMENT",DIRECTIVE:"DIRECTIVE",DOCUMENT:"DOCUMENT",FLOW_MAP:"FLOW_MAP",FLOW_SEQ:"FLOW_SEQ",MAP:"MAP",MAP_KEY:"MAP_KEY",MAP_VALUE:"MAP_VALUE",PLAIN:"PLAIN",QUOTE_DOUBLE:"QUOTE_DOUBLE",QUOTE_SINGLE:"QUOTE_SINGLE",SEQ:"SEQ",SEQ_ITEM:"SEQ_ITEM"},Lf="tag:yaml.org,2002:",Nf={MAP:"tag:yaml.org,2002:map",SEQ:"tag:yaml.org,2002:seq",STR:"tag:yaml.org,2002:str"};function Bi(t){let e=[0],r=t.indexOf(`
`);for(;r!==-1;)r+=1,e.push(r),r=t.indexOf(`
`,r);return e}function Hi(t){let e,r;return typeof t=="string"?(e=Bi(t),r=t):(Array.isArray(t)&&(t=t[0]),t&&t.context&&(t.lineStarts||(t.lineStarts=Bi(t.context.src)),e=t.lineStarts,r=t.context.src)),{lineStarts:e,src:r}}function Nn(t,e){if(typeof t!="number"||t<0)return null;let{lineStarts:r,src:n}=Hi(e);if(!r||!n||t>n.length)return null;for(let i=0;i<r.length;++i){let o=r[i];if(t<o)return{line:i,col:t-r[i-1]+1};if(t===o)return{line:i+1,col:1}}let s=r.length;return{line:s,col:t-r[s-1]+1}}function Mf(t,e){let{lineStarts:r,src:n}=Hi(e);if(!r||!(t>=1)||t>r.length)return null;let s=r[t-1],i=r[t];for(;i&&i>s&&n[i-1]===`
`;)--i;return n.slice(s,i)}function xf({start:t,end:e},r,n=80){let s=Mf(t.line,r);if(!s)return null;let{col:i}=t;if(s.length>n)if(i<=n-10)s=s.substr(0,n-1)+"\u2026";else{let l=Math.round(n/2);s.length>i+l&&(s=s.substr(0,i+l-1)+"\u2026"),i-=s.length-n,s="\u2026"+s.substr(1-n)}let o=1,a="";e&&(e.line===t.line&&i+(e.col-t.col)<=n+1?o=e.col-t.col:(o=Math.min(s.length+1,n)-i,a="\u2026"));let c=i>1?" ".repeat(i-1):"",u="^".repeat(o);return`${s}
${c}${u}${a}`}var pt=class{static copy(e){return new pt(e.start,e.end)}constructor(e,r){this.start=e,this.end=r||e}isEmpty(){return typeof this.start!="number"||!this.end||this.end<=this.start}setOrigRange(e,r){let{start:n,end:s}=this;if(e.length===0||s<=e[0])return this.origStart=n,this.origEnd=s,r;let i=r;for(;i<e.length&&!(e[i]>n);)++i;this.origStart=n+i;let o=i;for(;i<e.length&&!(e[i]>=s);)++i;return this.origEnd=s+i,o}},ie=class{static addStringTerminator(e,r,n){if(n[n.length-1]===`
`)return n;let s=ie.endOfWhiteSpace(e,r);return s>=e.length||e[s]===`
`?n+`
`:n}static atDocumentBoundary(e,r,n){let s=e[r];if(!s)return!0;let i=e[r-1];if(i&&i!==`
`)return!1;if(n){if(s!==n)return!1}else if(s!==Ye.DIRECTIVES_END&&s!==Ye.DOCUMENT_END)return!1;let o=e[r+1],a=e[r+2];if(o!==s||a!==s)return!1;let c=e[r+3];return!c||c===`
`||c==="	"||c===" "}static endOfIdentifier(e,r){let n=e[r],s=n==="<",i=s?[`
`,"	"," ",">"]:[`
`,"	"," ","[","]","{","}",","];for(;n&&i.indexOf(n)===-1;)n=e[r+=1];return s&&n===">"&&(r+=1),r}static endOfIndent(e,r){let n=e[r];for(;n===" ";)n=e[r+=1];return r}static endOfLine(e,r){let n=e[r];for(;n&&n!==`
`;)n=e[r+=1];return r}static endOfWhiteSpace(e,r){let n=e[r];for(;n==="	"||n===" ";)n=e[r+=1];return r}static startOfLine(e,r){let n=e[r-1];if(n===`
`)return r;for(;n&&n!==`
`;)n=e[r-=1];return r+1}static endOfBlockIndent(e,r,n){let s=ie.endOfIndent(e,n);if(s>n+r)return s;{let i=ie.endOfWhiteSpace(e,s),o=e[i];if(!o||o===`
`)return i}return null}static atBlank(e,r,n){let s=e[r];return s===`
`||s==="	"||s===" "||n&&!s}static nextNodeIsIndented(e,r,n){return!e||r<0?!1:r>0?!0:n&&e==="-"}static normalizeOffset(e,r){let n=e[r];return n?n!==`
`&&e[r-1]===`
`?r-1:ie.endOfWhiteSpace(e,r):r}static foldNewline(e,r,n){let s=0,i=!1,o="",a=e[r+1];for(;a===" "||a==="	"||a===`
`;){switch(a){case`
`:s=0,r+=1,o+=`
`;break;case"	":s<=n&&(i=!0),r=ie.endOfWhiteSpace(e,r+2)-1;break;case" ":s+=1,r+=1;break}a=e[r+1]}return o||(o=" "),a&&s<=n&&(i=!0),{fold:o,offset:r,error:i}}constructor(e,r,n){Object.defineProperty(this,"context",{value:n||null,writable:!0}),this.error=null,this.range=null,this.valueRange=null,this.props=r||[],this.type=e,this.value=null}getPropValue(e,r,n){if(!this.context)return null;let{src:s}=this.context,i=this.props[e];return i&&s[i.start]===r?s.slice(i.start+(n?1:0),i.end):null}get anchor(){for(let e=0;e<this.props.length;++e){let r=this.getPropValue(e,Ye.ANCHOR,!0);if(r!=null)return r}return null}get comment(){let e=[];for(let r=0;r<this.props.length;++r){let n=this.getPropValue(r,Ye.COMMENT,!0);n!=null&&e.push(n)}return e.length>0?e.join(`
`):null}commentHasRequiredWhitespace(e){let{src:r}=this.context;if(this.header&&e===this.header.end||!this.valueRange)return!1;let{end:n}=this.valueRange;return e!==n||ie.atBlank(r,n-1)}get hasComment(){if(this.context){let{src:e}=this.context;for(let r=0;r<this.props.length;++r)if(e[this.props[r].start]===Ye.COMMENT)return!0}return!1}get hasProps(){if(this.context){let{src:e}=this.context;for(let r=0;r<this.props.length;++r)if(e[this.props[r].start]!==Ye.COMMENT)return!0}return!1}get includesTrailingLines(){return!1}get jsonLike(){return[tr.FLOW_MAP,tr.FLOW_SEQ,tr.QUOTE_DOUBLE,tr.QUOTE_SINGLE].indexOf(this.type)!==-1}get rangeAsLinePos(){if(!this.range||!this.context)return;let e=Nn(this.range.start,this.context.root);if(!e)return;let r=Nn(this.range.end,this.context.root);return{start:e,end:r}}get rawValue(){if(!this.valueRange||!this.context)return null;let{start:e,end:r}=this.valueRange;return this.context.src.slice(e,r)}get tag(){for(let e=0;e<this.props.length;++e){let r=this.getPropValue(e,Ye.TAG,!1);if(r!=null){if(r[1]==="<")return{verbatim:r.slice(2,-1)};{let[n,s,i]=r.match(/^(.*!)([^!]*)$/);return{handle:s,suffix:i}}}}return null}get valueRangeContainsNewline(){if(!this.valueRange||!this.context)return!1;let{start:e,end:r}=this.valueRange,{src:n}=this.context;for(let s=e;s<r;++s)if(n[s]===`
`)return!0;return!1}parseComment(e){let{src:r}=this.context;if(r[e]===Ye.COMMENT){let n=ie.endOfLine(r,e+1),s=new pt(e,n);return this.props.push(s),n}return e}setOrigRanges(e,r){return this.range&&(r=this.range.setOrigRange(e,r)),this.valueRange&&this.valueRange.setOrigRange(e,r),this.props.forEach(n=>n.setOrigRange(e,r)),r}toString(){let{context:{src:e},range:r,value:n}=this;if(n!=null)return n;let s=e.slice(r.start,r.end);return ie.addStringTerminator(e,r.end,s)}},Nt=class extends Error{constructor(e,r,n){if(!n||!(r instanceof ie))throw new Error(`Invalid arguments for new ${e}`);super();this.name=e,this.message=n,this.source=r}makePretty(){if(!this.source)return;this.nodeType=this.source.type;let e=this.source.context&&this.source.context.root;if(typeof this.offset=="number"){this.range=new pt(this.offset,this.offset+1);let r=e&&Nn(this.offset,e);if(r){let n={line:r.line,col:r.col+1};this.linePos={start:r,end:n}}delete this.offset}else this.range=this.source.range,this.linePos=this.source.rangeAsLinePos;if(this.linePos){let{line:r,col:n}=this.linePos.start;this.message+=` at line ${r}, column ${n}`;let s=e&&xf(this.linePos,e);s&&(this.message+=`:

${s}
`)}delete this.source}},ji=class extends Nt{constructor(e,r){super("YAMLReferenceError",e,r)}},vr=class extends Nt{constructor(e,r){super("YAMLSemanticError",e,r)}},Yi=class extends Nt{constructor(e,r){super("YAMLSyntaxError",e,r)}},Ui=class extends Nt{constructor(e,r){super("YAMLWarning",e,r)}};function Cf(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var rr=class extends ie{static endOfLine(e,r,n){let s=e[r],i=r;for(;s&&s!==`
`&&!(n&&(s==="["||s==="]"||s==="{"||s==="}"||s===","));){let o=e[i+1];if(s===":"&&(!o||o===`
`||o==="	"||o===" "||n&&o===",")||(s===" "||s==="	")&&o==="#")break;i+=1,s=o}return i}get strValue(){if(!this.valueRange||!this.context)return null;let{start:e,end:r}=this.valueRange,{src:n}=this.context,s=n[r-1];for(;e<r&&(s===`
`||s==="	"||s===" ");)s=n[--r-1];let i="";for(let a=e;a<r;++a){let c=n[a];if(c===`
`){let{fold:u,offset:l}=ie.foldNewline(n,a,-1);i+=u,a=l}else if(c===" "||c==="	"){let u=a,l=n[a+1];for(;a<r&&(l===" "||l==="	");)a+=1,l=n[a+1];l!==`
`&&(i+=a>u?n.slice(u,a+1):c)}else i+=c}let o=n[e];switch(o){case"	":{let a="Plain value cannot start with a tab character";return{errors:[new vr(this,a)],str:i}}case"@":case"`":{let a=`Plain value cannot start with reserved character ${o}`;return{errors:[new vr(this,a)],str:i}}default:return i}}parseBlockValue(e){let{indent:r,inFlow:n,src:s}=this.context,i=e,o=e;for(let a=s[i];a===`
`&&!ie.atDocumentBoundary(s,i+1);a=s[i]){let c=ie.endOfBlockIndent(s,r,i+1);if(c===null||s[c]==="#")break;s[c]===`
`?i=c:(o=rr.endOfLine(s,c,n),i=o)}return this.valueRange.isEmpty()&&(this.valueRange.start=e),this.valueRange.end=o,o}parse(e,r){this.context=e;let{inFlow:n,src:s}=e,i=r,o=s[i];return o&&o!=="#"&&o!==`
`&&(i=rr.endOfLine(s,r,n)),this.valueRange=new pt(r,i),i=ie.endOfWhiteSpace(s,i),i=this.parseComment(i),(!this.hasComment||this.valueRange.isEmpty())&&(i=this.parseBlockValue(i)),i}};ye.Char=Ye;ye.Node=ie;ye.PlainValue=rr;ye.Range=pt;ye.Type=tr;ye.YAMLError=Nt;ye.YAMLReferenceError=ji;ye.YAMLSemanticError=vr;ye.YAMLSyntaxError=Yi;ye.YAMLWarning=Ui;ye._defineProperty=Cf;ye.defaultTagPrefix=Lf;ye.defaultTags=Nf});var Qi=v(Ji=>{"use strict";var d=Ue(),Mt=class extends d.Node{constructor(){super(d.Type.BLANK_LINE)}get includesTrailingLines(){return!0}parse(e,r){return this.context=e,this.range=new d.Range(r,r+1),r+1}},Ar=class extends d.Node{constructor(e,r){super(e,r);this.node=null}get includesTrailingLines(){return!!this.node&&this.node.includesTrailingLines}parse(e,r){this.context=e;let{parseNode:n,src:s}=e,{atLineStart:i,lineStart:o}=e;!i&&this.type===d.Type.SEQ_ITEM&&(this.error=new d.YAMLSemanticError(this,"Sequence items must not have preceding content on the same line"));let a=i?r-o:e.indent,c=d.Node.endOfWhiteSpace(s,r+1),u=s[c],l=u==="#",f=[],h=null;for(;u===`
`||u==="#";){if(u==="#"){let p=d.Node.endOfLine(s,c+1);f.push(new d.Range(c,p)),c=p}else{i=!0,o=c+1;let p=d.Node.endOfWhiteSpace(s,o);s[p]===`
`&&f.length===0&&(h=new Mt,o=h.parse({src:s},o)),c=d.Node.endOfIndent(s,o)}u=s[c]}if(d.Node.nextNodeIsIndented(u,c-(o+a),this.type!==d.Type.SEQ_ITEM)?this.node=n({atLineStart:i,inCollection:!1,indent:a,lineStart:o,parent:this},c):u&&o>r+1&&(c=o-1),this.node){if(h){let p=e.parent.items||e.parent.contents;p&&p.push(h)}f.length&&Array.prototype.push.apply(this.props,f),c=this.node.range.end}else if(l){let p=f[0];this.props.push(p),c=p.end}else c=d.Node.endOfLine(s,r+1);let y=this.node?this.node.valueRange.end:c;return this.valueRange=new d.Range(r,y),c}setOrigRanges(e,r){return r=super.setOrigRanges(e,r),this.node?this.node.setOrigRanges(e,r):r}toString(){let{context:{src:e},node:r,range:n,value:s}=this;if(s!=null)return s;let i=r?e.slice(n.start,r.range.start)+String(r):e.slice(n.start,n.end);return d.Node.addStringTerminator(e,n.end,i)}},xt=class extends d.Node{constructor(){super(d.Type.COMMENT)}parse(e,r){this.context=e;let n=this.parseComment(r);return this.range=new d.Range(r,n),n}};function Mn(t){let e=t;for(;e instanceof Ar;)e=e.node;if(!(e instanceof Ct))return null;let r=e.items.length,n=-1;for(let o=r-1;o>=0;--o){let a=e.items[o];if(a.type===d.Type.COMMENT){let{indent:c,lineStart:u}=a.context;if(c>0&&a.range.start>=u+c)break;n=o}else if(a.type===d.Type.BLANK_LINE)n=o;else break}if(n===-1)return null;let s=e.items.splice(n,r-n),i=s[0].range.start;for(;e.range.end=i,e.valueRange&&e.valueRange.end>i&&(e.valueRange.end=i),e!==t;)e=e.context.parent;return s}var Ct=class extends d.Node{static nextContentHasIndent(e,r,n){let s=d.Node.endOfLine(e,r)+1;r=d.Node.endOfWhiteSpace(e,s);let i=e[r];return i?r>=s+n?!0:i!=="#"&&i!==`
`?!1:Ct.nextContentHasIndent(e,r,n):!1}constructor(e){super(e.type===d.Type.SEQ_ITEM?d.Type.SEQ:d.Type.MAP);for(let n=e.props.length-1;n>=0;--n)if(e.props[n].start<e.context.lineStart){this.props=e.props.slice(0,n+1),e.props=e.props.slice(n+1);let s=e.props[0]||e.valueRange;e.range.start=s.start;break}this.items=[e];let r=Mn(e);r&&Array.prototype.push.apply(this.items,r)}get includesTrailingLines(){return this.items.length>0}parse(e,r){this.context=e;let{parseNode:n,src:s}=e,i=d.Node.startOfLine(s,r),o=this.items[0];o.context.parent=this,this.valueRange=d.Range.copy(o.valueRange);let a=o.range.start-o.context.lineStart,c=r;c=d.Node.normalizeOffset(s,c);let u=s[c],l=d.Node.endOfWhiteSpace(s,i)===c,f=!1;for(;u;){for(;u===`
`||u==="#";){if(l&&u===`
`&&!f){let p=new Mt;if(c=p.parse({src:s},c),this.valueRange.end=c,c>=s.length){u=null;break}this.items.push(p),c-=1}else if(u==="#"){if(c<i+a&&!Ct.nextContentHasIndent(s,c,a))return c;let p=new xt;if(c=p.parse({indent:a,lineStart:i,src:s},c),this.items.push(p),this.valueRange.end=c,c>=s.length){u=null;break}}if(i=c+1,c=d.Node.endOfIndent(s,i),d.Node.atBlank(s,c)){let p=d.Node.endOfWhiteSpace(s,c),g=s[p];(!g||g===`
`||g==="#")&&(c=p)}u=s[c],l=!0}if(!u)break;if(c!==i+a&&(l||u!==":")){if(c<i+a){i>r&&(c=i);break}else if(!this.error){let p="All collection items must start at the same column";this.error=new d.YAMLSyntaxError(this,p)}}if(o.type===d.Type.SEQ_ITEM){if(u!=="-"){i>r&&(c=i);break}}else if(u==="-"&&!this.error){let p=s[c+1];if(!p||p===`
`||p==="	"||p===" "){let g="A collection cannot be both a mapping and a sequence";this.error=new d.YAMLSyntaxError(this,g)}}let h=n({atLineStart:l,inCollection:!0,indent:a,lineStart:i,parent:this},c);if(!h)return c;if(this.items.push(h),this.valueRange.end=h.valueRange.end,c=d.Node.normalizeOffset(s,h.range.end),u=s[c],l=!1,f=h.includesTrailingLines,u){let p=c-1,g=s[p];for(;g===" "||g==="	";)g=s[--p];g===`
`&&(i=p+1,l=!0)}let y=Mn(h);y&&Array.prototype.push.apply(this.items,y)}return c}setOrigRanges(e,r){return r=super.setOrigRanges(e,r),this.items.forEach(n=>{r=n.setOrigRanges(e,r)}),r}toString(){let{context:{src:e},items:r,range:n,value:s}=this;if(s!=null)return s;let i=e.slice(n.start,r[0].range.start)+String(r[0]);for(let o=1;o<r.length;++o){let a=r[o],{atLineStart:c,indent:u}=a.context;if(c)for(let l=0;l<u;++l)i+=" ";i+=String(a)}return d.Node.addStringTerminator(e,n.end,i)}},Wi=class extends d.Node{constructor(){super(d.Type.DIRECTIVE);this.name=null}get parameters(){let e=this.rawValue;return e?e.trim().split(/[ \t]+/):[]}parseName(e){let{src:r}=this.context,n=e,s=r[n];for(;s&&s!==`
`&&s!=="	"&&s!==" ";)s=r[n+=1];return this.name=r.slice(e,n),n}parseParameters(e){let{src:r}=this.context,n=e,s=r[n];for(;s&&s!==`
`&&s!=="#";)s=r[n+=1];return this.valueRange=new d.Range(e,n),n}parse(e,r){this.context=e;let n=this.parseName(r+1);return n=this.parseParameters(n),n=this.parseComment(n),this.range=new d.Range(r,n),n}},nr=class extends d.Node{static startCommentOrEndBlankLine(e,r){let n=d.Node.endOfWhiteSpace(e,r),s=e[n];return s==="#"||s===`
`?n:r}constructor(){super(d.Type.DOCUMENT);this.directives=null,this.contents=null,this.directivesEndMarker=null,this.documentEndMarker=null}parseDirectives(e){let{src:r}=this.context;this.directives=[];let n=!0,s=!1,i=e;for(;!d.Node.atDocumentBoundary(r,i,d.Char.DIRECTIVES_END);)switch(i=nr.startCommentOrEndBlankLine(r,i),r[i]){case`
`:if(n){let o=new Mt;i=o.parse({src:r},i),i<r.length&&this.directives.push(o)}else i+=1,n=!0;break;case"#":{let o=new xt;i=o.parse({src:r},i),this.directives.push(o),n=!1}break;case"%":{let o=new Wi;i=o.parse({parent:this,src:r},i),this.directives.push(o),s=!0,n=!1}break;default:return s?this.error=new d.YAMLSemanticError(this,"Missing directives-end indicator line"):this.directives.length>0&&(this.contents=this.directives,this.directives=[]),i}return r[i]?(this.directivesEndMarker=new d.Range(i,i+3),i+3):(s?this.error=new d.YAMLSemanticError(this,"Missing directives-end indicator line"):this.directives.length>0&&(this.contents=this.directives,this.directives=[]),i)}parseContents(e){let{parseNode:r,src:n}=this.context;this.contents||(this.contents=[]);let s=e;for(;n[s-1]==="-";)s-=1;let i=d.Node.endOfWhiteSpace(n,e),o=s===e;for(this.valueRange=new d.Range(i);!d.Node.atDocumentBoundary(n,i,d.Char.DOCUMENT_END);){switch(n[i]){case`
`:if(o){let a=new Mt;i=a.parse({src:n},i),i<n.length&&this.contents.push(a)}else i+=1,o=!0;s=i;break;case"#":{let a=new xt;i=a.parse({src:n},i),this.contents.push(a),o=!1}break;default:{let a=d.Node.endOfIndent(n,i),u=r({atLineStart:o,indent:-1,inFlow:!1,inCollection:!1,lineStart:s,parent:this},a);if(!u)return this.valueRange.end=a;this.contents.push(u),i=u.range.end,o=!1;let l=Mn(u);l&&Array.prototype.push.apply(this.contents,l)}}i=nr.startCommentOrEndBlankLine(n,i)}if(this.valueRange.end=i,n[i]&&(this.documentEndMarker=new d.Range(i,i+3),i+=3,n[i])){if(i=d.Node.endOfWhiteSpace(n,i),n[i]==="#"){let a=new xt;i=a.parse({src:n},i),this.contents.push(a)}switch(n[i]){case`
`:i+=1;break;case void 0:break;default:this.error=new d.YAMLSyntaxError(this,"Document end marker line cannot have a non-comment suffix")}}return i}parse(e,r){e.root=this,this.context=e;let{src:n}=e,s=n.charCodeAt(r)===65279?r+1:r;return s=this.parseDirectives(s),s=this.parseContents(s),s}setOrigRanges(e,r){return r=super.setOrigRanges(e,r),this.directives.forEach(n=>{r=n.setOrigRanges(e,r)}),this.directivesEndMarker&&(r=this.directivesEndMarker.setOrigRange(e,r)),this.contents.forEach(n=>{r=n.setOrigRanges(e,r)}),this.documentEndMarker&&(r=this.documentEndMarker.setOrigRange(e,r)),r}toString(){let{contents:e,directives:r,value:n}=this;if(n!=null)return n;let s=r.join("");return e.length>0&&((r.length>0||e[0].type===d.Type.COMMENT)&&(s+=`---
`),s+=e.join("")),s[s.length-1]!==`
`&&(s+=`
`),s}},Gi=class extends d.Node{parse(e,r){this.context=e;let{src:n}=e,s=d.Node.endOfIdentifier(n,r+1);return this.valueRange=new d.Range(r+1,s),s=d.Node.endOfWhiteSpace(n,s),s=this.parseComment(s),s}},Ze={CLIP:"CLIP",KEEP:"KEEP",STRIP:"STRIP"},Ki=class extends d.Node{constructor(e,r){super(e,r);this.blockIndent=null,this.chomping=Ze.CLIP,this.header=null}get includesTrailingLines(){return this.chomping===Ze.KEEP}get strValue(){if(!this.valueRange||!this.context)return null;let{start:e,end:r}=this.valueRange,{indent:n,src:s}=this.context;if(this.valueRange.isEmpty())return"";let i=null,o=s[r-1];for(;o===`
`||o==="	"||o===" ";){if(r-=1,r<=e){if(this.chomping===Ze.KEEP)break;return""}o===`
`&&(i=r),o=s[r-1]}let a=r+1;i&&(this.chomping===Ze.KEEP?(a=i,r=this.valueRange.end):r=i);let c=n+this.blockIndent,u=this.type===d.Type.BLOCK_FOLDED,l=!0,f="",h="",y=!1;for(let p=e;p<r;++p){for(let A=0;A<c&&s[p]===" ";++A)p+=1;let g=s[p];if(g===`
`)h===`
`?f+=`
`:h=`
`;else{let A=d.Node.endOfLine(s,p),O=s.slice(p,A);p=A,u&&(g===" "||g==="	")&&p<a?(h===" "?h=`
`:!y&&!l&&h===`
`&&(h=`

`),f+=h+O,h=A<r&&s[A]||"",y=!0):(f+=h+O,h=u&&p<a?" ":`
`,y=!1),l&&O!==""&&(l=!1)}}return this.chomping===Ze.STRIP?f:f+`
`}parseBlockHeader(e){let{src:r}=this.context,n=e+1,s="";for(;;){let i=r[n];switch(i){case"-":this.chomping=Ze.STRIP;break;case"+":this.chomping=Ze.KEEP;break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":s+=i;break;default:return this.blockIndent=Number(s)||null,this.header=new d.Range(e,n),n}n+=1}}parseBlockValue(e){let{indent:r,src:n}=this.context,s=!!this.blockIndent,i=e,o=e,a=1;for(let c=n[i];c===`
`&&(i+=1,!d.Node.atDocumentBoundary(n,i));c=n[i]){let u=d.Node.endOfBlockIndent(n,r,i);if(u===null)break;let l=n[u],f=u-(i+r);if(this.blockIndent){if(l&&l!==`
`&&f<this.blockIndent){if(n[u]==="#")break;if(!this.error){let y=`Block scalars must not be less indented than their ${s?"explicit indentation indicator":"first line"}`;this.error=new d.YAMLSemanticError(this,y)}}}else if(n[u]!==`
`){if(f<a){let h="Block scalars with more-indented leading empty lines must use an explicit indentation indicator";this.error=new d.YAMLSemanticError(this,h)}this.blockIndent=f}else f>a&&(a=f);n[u]===`
`?i=u:i=o=d.Node.endOfLine(n,u)}return this.chomping!==Ze.KEEP&&(i=n[o]?o+1:o),this.valueRange=new d.Range(e+1,i),i}parse(e,r){this.context=e;let{src:n}=e,s=this.parseBlockHeader(r);return s=d.Node.endOfWhiteSpace(n,s),s=this.parseComment(s),s=this.parseBlockValue(s),s}setOrigRanges(e,r){return r=super.setOrigRanges(e,r),this.header?this.header.setOrigRange(e,r):r}},Vi=class extends d.Node{constructor(e,r){super(e,r);this.items=null}prevNodeIsJsonLike(e=this.items.length){let r=this.items[e-1];return!!r&&(r.jsonLike||r.type===d.Type.COMMENT&&this.prevNodeIsJsonLike(e-1))}parse(e,r){this.context=e;let{parseNode:n,src:s}=e,{indent:i,lineStart:o}=e,a=s[r];this.items=[{char:a,offset:r}];let c=d.Node.endOfWhiteSpace(s,r+1);for(a=s[c];a&&a!=="]"&&a!=="}";){switch(a){case`
`:{o=c+1;let u=d.Node.endOfWhiteSpace(s,o);if(s[u]===`
`){let l=new Mt;o=l.parse({src:s},o),this.items.push(l)}if(c=d.Node.endOfIndent(s,o),c<=o+i&&(a=s[c],c<o+i||a!=="]"&&a!=="}")){let l="Insufficient indentation in flow collection";this.error=new d.YAMLSemanticError(this,l)}}break;case",":this.items.push({char:a,offset:c}),c+=1;break;case"#":{let u=new xt;c=u.parse({src:s},c),this.items.push(u)}break;case"?":case":":{let u=s[c+1];if(u===`
`||u==="	"||u===" "||u===","||a===":"&&this.prevNodeIsJsonLike()){this.items.push({char:a,offset:c}),c+=1;break}}default:{let u=n({atLineStart:!1,inCollection:!1,inFlow:!0,indent:-1,lineStart:o,parent:this},c);if(!u)return this.valueRange=new d.Range(r,c),c;this.items.push(u),c=d.Node.normalizeOffset(s,u.range.end)}}c=d.Node.endOfWhiteSpace(s,c),a=s[c]}return this.valueRange=new d.Range(r,c+1),a&&(this.items.push({char:a,offset:c}),c=d.Node.endOfWhiteSpace(s,c+1),c=this.parseComment(c)),c}setOrigRanges(e,r){return r=super.setOrigRanges(e,r),this.items.forEach(n=>{if(n instanceof d.Node)r=n.setOrigRanges(e,r);else if(e.length===0)n.origOffset=n.offset;else{let s=r;for(;s<e.length&&!(e[s]>n.offset);)++s;n.origOffset=n.offset+s,r=s}}),r}toString(){let{context:{src:e},items:r,range:n,value:s}=this;if(s!=null)return s;let i=r.filter(c=>c instanceof d.Node),o="",a=n.start;return i.forEach(c=>{let u=e.slice(a,c.range.start);a=c.range.end,o+=u+String(c),o[o.length-1]===`
`&&e[a-1]!==`
`&&e[a]===`
`&&(a+=1)}),o+=e.slice(a,n.end),d.Node.addStringTerminator(e,n.end,o)}},wr=class extends d.Node{static endOfQuote(e,r){let n=e[r];for(;n&&n!=='"';)r+=n==="\\"?2:1,n=e[r];return r+1}get strValue(){if(!this.valueRange||!this.context)return null;let e=[],{start:r,end:n}=this.valueRange,{indent:s,src:i}=this.context;i[n-1]!=='"'&&e.push(new d.YAMLSyntaxError(this,'Missing closing "quote'));let o="";for(let a=r+1;a<n-1;++a){let c=i[a];if(c===`
`){d.Node.atDocumentBoundary(i,a+1)&&e.push(new d.YAMLSemanticError(this,"Document boundary indicators are not allowed within string values"));let{fold:u,offset:l,error:f}=d.Node.foldNewline(i,a,s);o+=u,a=l,f&&e.push(new d.YAMLSemanticError(this,"Multi-line double-quoted string needs to be sufficiently indented"))}else if(c==="\\")switch(a+=1,i[a]){case"0":o+="\0";break;case"a":o+="\x07";break;case"b":o+="\b";break;case"e":o+="";break;case"f":o+="\f";break;case"n":o+=`
`;break;case"r":o+="\r";break;case"t":o+="	";break;case"v":o+="\v";break;case"N":o+="\x85";break;case"_":o+="\xA0";break;case"L":o+="\u2028";break;case"P":o+="\u2029";break;case" ":o+=" ";break;case'"':o+='"';break;case"/":o+="/";break;case"\\":o+="\\";break;case"	":o+="	";break;case"x":o+=this.parseCharCode(a+1,2,e),a+=2;break;case"u":o+=this.parseCharCode(a+1,4,e),a+=4;break;case"U":o+=this.parseCharCode(a+1,8,e),a+=8;break;case`
`:for(;i[a+1]===" "||i[a+1]==="	";)a+=1;break;default:e.push(new d.YAMLSyntaxError(this,`Invalid escape sequence ${i.substr(a-1,2)}`)),o+="\\"+i[a]}else if(c===" "||c==="	"){let u=a,l=i[a+1];for(;l===" "||l==="	";)a+=1,l=i[a+1];l!==`
`&&(o+=a>u?i.slice(u,a+1):c)}else o+=c}return e.length>0?{errors:e,str:o}:o}parseCharCode(e,r,n){let{src:s}=this.context,i=s.substr(e,r),a=i.length===r&&/^[0-9a-fA-F]+$/.test(i)?parseInt(i,16):NaN;return isNaN(a)?(n.push(new d.YAMLSyntaxError(this,`Invalid escape sequence ${s.substr(e-2,r+2)}`)),s.substr(e-2,r+2)):String.fromCodePoint(a)}parse(e,r){this.context=e;let{src:n}=e,s=wr.endOfQuote(n,r+1);return this.valueRange=new d.Range(r,s),s=d.Node.endOfWhiteSpace(n,s),s=this.parseComment(s),s}},br=class extends d.Node{static endOfQuote(e,r){let n=e[r];for(;n;)if(n==="'"){if(e[r+1]!=="'")break;n=e[r+=2]}else n=e[r+=1];return r+1}get strValue(){if(!this.valueRange||!this.context)return null;let e=[],{start:r,end:n}=this.valueRange,{indent:s,src:i}=this.context;i[n-1]!=="'"&&e.push(new d.YAMLSyntaxError(this,"Missing closing 'quote"));let o="";for(let a=r+1;a<n-1;++a){let c=i[a];if(c===`
`){d.Node.atDocumentBoundary(i,a+1)&&e.push(new d.YAMLSemanticError(this,"Document boundary indicators are not allowed within string values"));let{fold:u,offset:l,error:f}=d.Node.foldNewline(i,a,s);o+=u,a=l,f&&e.push(new d.YAMLSemanticError(this,"Multi-line single-quoted string needs to be sufficiently indented"))}else if(c==="'")o+=c,a+=1,i[a]!=="'"&&e.push(new d.YAMLSyntaxError(this,"Unescaped single quote? This should not happen."));else if(c===" "||c==="	"){let u=a,l=i[a+1];for(;l===" "||l==="	";)a+=1,l=i[a+1];l!==`
`&&(o+=a>u?i.slice(u,a+1):c)}else o+=c}return e.length>0?{errors:e,str:o}:o}parse(e,r){this.context=e;let{src:n}=e,s=br.endOfQuote(n,r+1);return this.valueRange=new d.Range(r,s),s=d.Node.endOfWhiteSpace(n,s),s=this.parseComment(s),s}};function kf(t,e){switch(t){case d.Type.ALIAS:return new Gi(t,e);case d.Type.BLOCK_FOLDED:case d.Type.BLOCK_LITERAL:return new Ki(t,e);case d.Type.FLOW_MAP:case d.Type.FLOW_SEQ:return new Vi(t,e);case d.Type.MAP_KEY:case d.Type.MAP_VALUE:case d.Type.SEQ_ITEM:return new Ar(t,e);case d.Type.COMMENT:case d.Type.PLAIN:return new d.PlainValue(t,e);case d.Type.QUOTE_DOUBLE:return new wr(t,e);case d.Type.QUOTE_SINGLE:return new br(t,e);default:return null}}var kt=class{static parseType(e,r,n){switch(e[r]){case"*":return d.Type.ALIAS;case">":return d.Type.BLOCK_FOLDED;case"|":return d.Type.BLOCK_LITERAL;case"{":return d.Type.FLOW_MAP;case"[":return d.Type.FLOW_SEQ;case"?":return!n&&d.Node.atBlank(e,r+1,!0)?d.Type.MAP_KEY:d.Type.PLAIN;case":":return!n&&d.Node.atBlank(e,r+1,!0)?d.Type.MAP_VALUE:d.Type.PLAIN;case"-":return!n&&d.Node.atBlank(e,r+1,!0)?d.Type.SEQ_ITEM:d.Type.PLAIN;case'"':return d.Type.QUOTE_DOUBLE;case"'":return d.Type.QUOTE_SINGLE;default:return d.Type.PLAIN}}constructor(e={},{atLineStart:r,inCollection:n,inFlow:s,indent:i,lineStart:o,parent:a}={}){d._defineProperty(this,"parseNode",(c,u)=>{if(d.Node.atDocumentBoundary(this.src,u))return null;let l=new kt(this,c),{props:f,type:h,valueStart:y}=l.parseProps(u),p=kf(h,f),g=p.parse(l,y);if(p.range=new d.Range(u,g),g<=u&&(p.error=new Error("Node#parse consumed no characters"),p.error.parseEnd=g,p.error.source=p,p.range.end=u+1),l.nodeStartsCollection(p)){!p.error&&!l.atLineStart&&l.parent.type===d.Type.DOCUMENT&&(p.error=new d.YAMLSyntaxError(p,"Block collection must not have preceding content here (e.g. directives-end indicator)"));let A=new Ct(p);return g=A.parse(new kt(l),g),A.range=new d.Range(u,g),A}return p}),this.atLineStart=r!=null?r:e.atLineStart||!1,this.inCollection=n!=null?n:e.inCollection||!1,this.inFlow=s!=null?s:e.inFlow||!1,this.indent=i!=null?i:e.indent,this.lineStart=o!=null?o:e.lineStart,this.parent=a!=null?a:e.parent||{},this.root=e.root,this.src=e.src}nodeStartsCollection(e){let{inCollection:r,inFlow:n,src:s}=this;if(r||n)return!1;if(e instanceof Ar)return!0;let i=e.range.end;return s[i]===`
`||s[i-1]===`
`?!1:(i=d.Node.endOfWhiteSpace(s,i),s[i]===":")}parseProps(e){let{inFlow:r,parent:n,src:s}=this,i=[],o=!1;e=this.atLineStart?d.Node.endOfIndent(s,e):d.Node.endOfWhiteSpace(s,e);let a=s[e];for(;a===d.Char.ANCHOR||a===d.Char.COMMENT||a===d.Char.TAG||a===`
`;){if(a===`
`){let u=e,l;do l=u+1,u=d.Node.endOfIndent(s,l);while(s[u]===`
`);let f=u-(l+this.indent),h=n.type===d.Type.SEQ_ITEM&&n.context.atLineStart;if(s[u]!=="#"&&!d.Node.nextNodeIsIndented(s[u],f,!h))break;this.atLineStart=!0,this.lineStart=l,o=!1,e=u}else if(a===d.Char.COMMENT){let u=d.Node.endOfLine(s,e+1);i.push(new d.Range(e,u)),e=u}else{let u=d.Node.endOfIdentifier(s,e+1);a===d.Char.TAG&&s[u]===","&&/^[a-zA-Z0-9-]+\.[a-zA-Z0-9-]+,\d\d\d\d(-\d\d){0,2}\/\S/.test(s.slice(e+1,u+13))&&(u=d.Node.endOfIdentifier(s,u+5)),i.push(new d.Range(e,u)),o=!0,e=d.Node.endOfWhiteSpace(s,u)}a=s[e]}o&&a===":"&&d.Node.atBlank(s,e+1,!0)&&(e-=1);let c=kt.parseType(s,e,r);return{props:i,type:c,valueStart:e}}};function If(t){let e=[];t.indexOf("\r")!==-1&&(t=t.replace(/\r\n?/g,(s,i)=>(s.length>1&&e.push(i),`
`)));let r=[],n=0;do{let s=new nr,i=new kt({src:t});n=s.parse(i,n),r.push(s)}while(n<t.length);return r.setOrigRanges=()=>{if(e.length===0)return!1;for(let i=1;i<e.length;++i)e[i]-=i;let s=0;for(let i=0;i<r.length;++i)s=r[i].setOrigRanges(e,s);return e.splice(0,e.length),!0},r.toString=()=>r.join(`...
`),r}Ji.parse=If});var yt=v(V=>{"use strict";var m=Ue();function $f(t,e,r){return r?`#${r.replace(/[\s\S]^/gm,`$&${e}#`)}
${e}${t}`:t}function It(t,e,r){return r?r.indexOf(`
`)===-1?`${t} #${r}`:`${t}
`+r.replace(/^/gm,`${e||""}#`):t}var Ne=class{};function et(t,e,r){if(Array.isArray(t))return t.map((n,s)=>et(n,String(s),r));if(t&&typeof t.toJSON=="function"){let n=r&&r.anchors&&r.anchors.get(t);n&&(r.onCreate=i=>{n.res=i,delete r.onCreate});let s=t.toJSON(e,r);return n&&r.onCreate&&r.onCreate(s),s}return(!r||!r.keep)&&typeof t=="bigint"?Number(t):t}var fe=class extends Ne{constructor(e){super();this.value=e}toJSON(e,r){return r&&r.keep?this.value:et(this.value,e,r)}toString(){return String(this.value)}};function Xi(t,e,r){let n=r;for(let s=e.length-1;s>=0;--s){let i=e[s];if(Number.isInteger(i)&&i>=0){let o=[];o[i]=n,n=o}else{let o={};Object.defineProperty(o,i,{value:n,writable:!0,enumerable:!0,configurable:!0}),n=o}}return t.createNode(n,!1)}var zi=t=>t==null||typeof t=="object"&&t[Symbol.iterator]().next().done,re=class extends Ne{constructor(e){super();m._defineProperty(this,"items",[]),this.schema=e}addIn(e,r){if(zi(e))this.add(r);else{let[n,...s]=e,i=this.get(n,!0);if(i instanceof re)i.addIn(s,r);else if(i===void 0&&this.schema)this.set(n,Xi(this.schema,s,r));else throw new Error(`Expected YAML collection at ${n}. Remaining path: ${s}`)}}deleteIn([e,...r]){if(r.length===0)return this.delete(e);let n=this.get(e,!0);if(n instanceof re)return n.deleteIn(r);throw new Error(`Expected YAML collection at ${e}. Remaining path: ${r}`)}getIn([e,...r],n){let s=this.get(e,!0);return r.length===0?!n&&s instanceof fe?s.value:s:s instanceof re?s.getIn(r,n):void 0}hasAllNullValues(){return this.items.every(e=>{if(!e||e.type!=="PAIR")return!1;let r=e.value;return r==null||r instanceof fe&&r.value==null&&!r.commentBefore&&!r.comment&&!r.tag})}hasIn([e,...r]){if(r.length===0)return this.has(e);let n=this.get(e,!0);return n instanceof re?n.hasIn(r):!1}setIn([e,...r],n){if(r.length===0)this.set(e,n);else{let s=this.get(e,!0);if(s instanceof re)s.setIn(r,n);else if(s===void 0&&this.schema)this.set(e,Xi(this.schema,r,n));else throw new Error(`Expected YAML collection at ${e}. Remaining path: ${r}`)}}toJSON(){return null}toString(e,{blockItem:r,flowChars:n,isMap:s,itemIndent:i},o,a){let{indent:c,indentStep:u,stringify:l}=e,f=this.type===m.Type.FLOW_MAP||this.type===m.Type.FLOW_SEQ||e.inFlow;f&&(i+=u);let h=s&&this.hasAllNullValues();e=Object.assign({},e,{allNullValues:h,indent:i,inFlow:f,type:null});let y=!1,p=!1,g=this.items.reduce((O,P,R)=>{let L;P&&(!y&&P.spaceBefore&&O.push({type:"comment",str:""}),P.commentBefore&&P.commentBefore.match(/^.*$/gm).forEach(Y=>{O.push({type:"comment",str:`#${Y}`})}),P.comment&&(L=P.comment),f&&(!y&&P.spaceBefore||P.commentBefore||P.comment||P.key&&(P.key.commentBefore||P.key.comment)||P.value&&(P.value.commentBefore||P.value.comment))&&(p=!0)),y=!1;let T=l(P,e,()=>L=null,()=>y=!0);return f&&!p&&T.includes(`
`)&&(p=!0),f&&R<this.items.length-1&&(T+=","),T=It(T,i,L),y&&(L||f)&&(y=!1),O.push({type:"item",str:T}),O},[]),A;if(g.length===0)A=n.start+n.end;else if(f){let{start:O,end:P}=n,R=g.map(L=>L.str);if(p||R.reduce((L,T)=>L+T.length+2,2)>re.maxFlowStringSingleLineLength){A=O;for(let L of R)A+=L?`
${u}${c}${L}`:`
`;A+=`
${c}${P}`}else A=`${O} ${R.join(" ")} ${P}`}else{let O=g.map(r);A=O.shift();for(let P of O)A+=P?`
${c}${P}`:`
`}return this.comment?(A+=`
`+this.comment.replace(/^/gm,`${c}#`),o&&o()):y&&a&&a(),A}};m._defineProperty(re,"maxFlowStringSingleLineLength",60);function Or(t){let e=t instanceof fe?t.value:t;return e&&typeof e=="string"&&(e=Number(e)),Number.isInteger(e)&&e>=0?e:null}var dt=class extends re{add(e){this.items.push(e)}delete(e){let r=Or(e);return typeof r!="number"?!1:this.items.splice(r,1).length>0}get(e,r){let n=Or(e);if(typeof n!="number")return;let s=this.items[n];return!r&&s instanceof fe?s.value:s}has(e){let r=Or(e);return typeof r=="number"&&r<this.items.length}set(e,r){let n=Or(e);if(typeof n!="number")throw new Error(`Expected a valid index, not ${e}.`);this.items[n]=r}toJSON(e,r){let n=[];r&&r.onCreate&&r.onCreate(n);let s=0;for(let i of this.items)n.push(et(i,String(s++),r));return n}toString(e,r,n){return e?super.toString(e,{blockItem:s=>s.type==="comment"?s.str:`- ${s.str}`,flowChars:{start:"[",end:"]"},isMap:!1,itemIndent:(e.indent||"")+"  "},r,n):JSON.stringify(this)}},Df=(t,e,r)=>e===null?"":typeof e!="object"?String(e):t instanceof Ne&&r&&r.doc?t.toString({anchors:Object.create(null),doc:r.doc,indent:"",indentStep:r.indentStep,inFlow:!0,inStringifyKey:!0,stringify:r.stringify}):JSON.stringify(e),U=class extends Ne{constructor(e,r=null){super();this.key=e,this.value=r,this.type=U.Type.PAIR}get commentBefore(){return this.key instanceof Ne?this.key.commentBefore:void 0}set commentBefore(e){if(this.key==null&&(this.key=new fe(null)),this.key instanceof Ne)this.key.commentBefore=e;else{let r="Pair.commentBefore is an alias for Pair.key.commentBefore. To set it, the key must be a Node.";throw new Error(r)}}addToJSMap(e,r){let n=et(this.key,"",e);if(r instanceof Map){let s=et(this.value,n,e);r.set(n,s)}else if(r instanceof Set)r.add(n);else{let s=Df(this.key,n,e),i=et(this.value,s,e);s in r?Object.defineProperty(r,s,{value:i,writable:!0,enumerable:!0,configurable:!0}):r[s]=i}return r}toJSON(e,r){let n=r&&r.mapAsMap?new Map:{};return this.addToJSMap(r,n)}toString(e,r,n){if(!e||!e.doc)return JSON.stringify(this);let{indent:s,indentSeq:i,simpleKeys:o}=e.doc.options,{key:a,value:c}=this,u=a instanceof Ne&&a.comment;if(o){if(u)throw new Error("With simple keys, key nodes cannot have comments");if(a instanceof re){let T="With simple keys, collection cannot be used as a key value";throw new Error(T)}}let l=!o&&(!a||u||(a instanceof Ne?a instanceof re||a.type===m.Type.BLOCK_FOLDED||a.type===m.Type.BLOCK_LITERAL:typeof a=="object")),{doc:f,indent:h,indentStep:y,stringify:p}=e;e=Object.assign({},e,{implicitKey:!l,indent:h+y});let g=!1,A=p(a,e,()=>u=null,()=>g=!0);if(A=It(A,e.indent,u),!l&&A.length>1024){if(o)throw new Error("With simple keys, single line scalar must not span more than 1024 characters");l=!0}if(e.allNullValues&&!o)return this.comment?(A=It(A,e.indent,this.comment),r&&r()):g&&!u&&n&&n(),e.inFlow&&!l?A:`? ${A}`;A=l?`? ${A}
${h}:`:`${A}:`,this.comment&&(A=It(A,e.indent,this.comment),r&&r());let O="",P=null;c instanceof Ne?(c.spaceBefore&&(O=`
`),c.commentBefore&&(O+=`
${c.commentBefore.replace(/^/gm,`${e.indent}#`)}`),P=c.comment):c&&typeof c=="object"&&(c=f.schema.createNode(c,!0)),e.implicitKey=!1,!l&&!this.comment&&c instanceof fe&&(e.indentAtStart=A.length+1),g=!1,!i&&s>=2&&!e.inFlow&&!l&&c instanceof dt&&c.type!==m.Type.FLOW_SEQ&&!c.tag&&!f.anchors.getName(c)&&(e.indent=e.indent.substr(2));let R=p(c,e,()=>P=null,()=>g=!0),L=" ";return O||this.comment?L=`${O}
${e.indent}`:!l&&c instanceof re?(!(R[0]==="["||R[0]==="{")||R.includes(`
`))&&(L=`
${e.indent}`):R[0]===`
`&&(L=""),g&&!P&&n&&n(),It(A+L+R,e.indent,P)}};m._defineProperty(U,"Type",{PAIR:"PAIR",MERGE_PAIR:"MERGE_PAIR"});var Pr=(t,e)=>{if(t instanceof tt){let r=e.get(t.source);return r.count*r.aliasCount}else if(t instanceof re){let r=0;for(let n of t.items){let s=Pr(n,e);s>r&&(r=s)}return r}else if(t instanceof U){let r=Pr(t.key,e),n=Pr(t.value,e);return Math.max(r,n)}return 1},tt=class extends Ne{static stringify({range:e,source:r},{anchors:n,doc:s,implicitKey:i,inStringifyKey:o}){let a=Object.keys(n).find(u=>n[u]===r);if(!a&&o&&(a=s.anchors.getName(r)||s.anchors.newName()),a)return`*${a}${i?" ":""}`;let c=s.anchors.getName(r)?"Alias node must be after source node":"Source node not found for alias node";throw new Error(`${c} [${e}]`)}constructor(e){super();this.source=e,this.type=m.Type.ALIAS}set tag(e){throw new Error("Alias nodes cannot have tags")}toJSON(e,r){if(!r)return et(this.source,e,r);let{anchors:n,maxAliasCount:s}=r,i=n.get(this.source);if(!i||i.res===void 0){let o="This should not happen: Alias anchor was not resolved?";throw this.cstNode?new m.YAMLReferenceError(this.cstNode,o):new ReferenceError(o)}if(s>=0&&(i.count+=1,i.aliasCount===0&&(i.aliasCount=Pr(this.source,n)),i.count*i.aliasCount>s)){let o="Excessive alias count indicates a resource exhaustion attack";throw this.cstNode?new m.YAMLReferenceError(this.cstNode,o):new ReferenceError(o)}return i.res}toString(e){return tt.stringify(this,e)}};m._defineProperty(tt,"default",!0);function sr(t,e){let r=e instanceof fe?e.value:e;for(let n of t)if(n instanceof U&&(n.key===e||n.key===r||n.key&&n.key.value===r))return n}var Tr=class extends re{add(e,r){e?e instanceof U||(e=new U(e.key||e,e.value)):e=new U(e);let n=sr(this.items,e.key),s=this.schema&&this.schema.sortMapEntries;if(n)if(r)n.value=e.value;else throw new Error(`Key ${e.key} already set`);else if(s){let i=this.items.findIndex(o=>s(e,o)<0);i===-1?this.items.push(e):this.items.splice(i,0,e)}else this.items.push(e)}delete(e){let r=sr(this.items,e);return r?this.items.splice(this.items.indexOf(r),1).length>0:!1}get(e,r){let n=sr(this.items,e),s=n&&n.value;return!r&&s instanceof fe?s.value:s}has(e){return!!sr(this.items,e)}set(e,r){this.add(new U(e,r),!0)}toJSON(e,r,n){let s=n?new n:r&&r.mapAsMap?new Map:{};r&&r.onCreate&&r.onCreate(s);for(let i of this.items)i.addToJSMap(r,s);return s}toString(e,r,n){if(!e)return JSON.stringify(this);for(let s of this.items)if(!(s instanceof U))throw new Error(`Map items must all be pairs; found ${JSON.stringify(s)} instead`);return super.toString(e,{blockItem:s=>s.str,flowChars:{start:"{",end:"}"},isMap:!0,itemIndent:e.indent||""},r,n)}},Zi="<<",xn=class extends U{constructor(e){if(e instanceof U){let r=e.value;r instanceof dt||(r=new dt,r.items.push(e.value),r.range=e.value.range),super(e.key,r),this.range=e.range}else super(new fe(Zi),new dt);this.type=U.Type.MERGE_PAIR}addToJSMap(e,r){for(let{source:n}of this.value.items){if(!(n instanceof Tr))throw new Error("Merge sources must be maps");let s=n.toJSON(null,e,Map);for(let[i,o]of s)r instanceof Map?r.has(i)||r.set(i,o):r instanceof Set?r.add(i):Object.prototype.hasOwnProperty.call(r,i)||Object.defineProperty(r,i,{value:o,writable:!0,enumerable:!0,configurable:!0})}return r}toString(e,r){let n=this.value;if(n.items.length>1)return super.toString(e,r);this.value=n.items[0];let s=super.toString(e,r);return this.value=n,s}},qf={defaultType:m.Type.BLOCK_LITERAL,lineWidth:76},Ff={trueStr:"true",falseStr:"false"},Bf={asBigInt:!1},Hf={nullStr:"null"},gt={defaultType:m.Type.PLAIN,doubleQuoted:{jsonEncoding:!1,minMultiLineLength:40},fold:{lineWidth:80,minContentWidth:20}};function Cn(t,e,r){for(let{format:n,test:s,resolve:i}of e)if(s){let o=t.match(s);if(o){let a=i.apply(null,o);return a instanceof fe||(a=new fe(a)),n&&(a.format=n),a}}return r&&(t=r(t)),new fe(t)}var eo="flow",kn="block",Rr="quoted",to=(t,e)=>{let r=t[e+1];for(;r===" "||r==="	";){do r=t[e+=1];while(r&&r!==`
`);r=t[e+1]}return e};function Lr(t,e,r,{indentAtStart:n,lineWidth:s=80,minContentWidth:i=20,onFold:o,onOverflow:a}){if(!s||s<0)return t;let c=Math.max(1+i,1+s-e.length);if(t.length<=c)return t;let u=[],l={},f=s-e.length;typeof n=="number"&&(n>s-Math.max(2,i)?u.push(0):f=s-n);let h,y,p=!1,g=-1,A=-1,O=-1;r===kn&&(g=to(t,g),g!==-1&&(f=g+c));for(let R;R=t[g+=1];){if(r===Rr&&R==="\\"){switch(A=g,t[g+1]){case"x":g+=3;break;case"u":g+=5;break;case"U":g+=9;break;default:g+=1}O=g}if(R===`
`)r===kn&&(g=to(t,g)),f=g+c,h=void 0;else{if(R===" "&&y&&y!==" "&&y!==`
`&&y!=="	"){let L=t[g+1];L&&L!==" "&&L!==`
`&&L!=="	"&&(h=g)}if(g>=f)if(h)u.push(h),f=h+c,h=void 0;else if(r===Rr){for(;y===" "||y==="	";)y=R,R=t[g+=1],p=!0;let L=g>O+1?g-2:A-1;if(l[L])return t;u.push(L),l[L]=!0,f=L+c,h=void 0}else p=!0}y=R}if(p&&a&&a(),u.length===0)return t;o&&o();let P=t.slice(0,u[0]);for(let R=0;R<u.length;++R){let L=u[R],T=u[R+1]||t.length;L===0?P=`
${e}${t.slice(0,T)}`:(r===Rr&&l[L]&&(P+=`${t[L]}\\`),P+=`
${e}${t.slice(L+1,T)}`)}return P}var In=({indentAtStart:t})=>t?Object.assign({indentAtStart:t},gt.fold):gt.fold,Nr=t=>/^(%|---|\.\.\.)/m.test(t);function jf(t,e,r){if(!e||e<0)return!1;let n=e-r,s=t.length;if(s<=n)return!1;for(let i=0,o=0;i<s;++i)if(t[i]===`
`){if(i-o>n)return!0;if(o=i+1,s-o<=n)return!1}return!0}function mt(t,e){let{implicitKey:r}=e,{jsonEncoding:n,minMultiLineLength:s}=gt.doubleQuoted,i=JSON.stringify(t);if(n)return i;let o=e.indent||(Nr(t)?"  ":""),a="",c=0;for(let u=0,l=i[u];l;l=i[++u])if(l===" "&&i[u+1]==="\\"&&i[u+2]==="n"&&(a+=i.slice(c,u)+"\\ ",u+=1,c=u,l="\\"),l==="\\")switch(i[u+1]){case"u":{a+=i.slice(c,u);let f=i.substr(u+2,4);switch(f){case"0000":a+="\\0";break;case"0007":a+="\\a";break;case"000b":a+="\\v";break;case"001b":a+="\\e";break;case"0085":a+="\\N";break;case"00a0":a+="\\_";break;case"2028":a+="\\L";break;case"2029":a+="\\P";break;default:f.substr(0,2)==="00"?a+="\\x"+f.substr(2):a+=i.substr(u,6)}u+=5,c=u+1}break;case"n":if(r||i[u+2]==='"'||i.length<s)u+=1;else{for(a+=i.slice(c,u)+`

`;i[u+2]==="\\"&&i[u+3]==="n"&&i[u+4]!=='"';)a+=`
`,u+=2;a+=o,i[u+2]===" "&&(a+="\\"),u+=1,c=u+1}break;default:u+=1}return a=c?a+i.slice(c):i,r?a:Lr(a,o,Rr,In(e))}function ro(t,e){if(e.implicitKey){if(/\n/.test(t))return mt(t,e)}else if(/[ \t]\n|\n[ \t]/.test(t))return mt(t,e);let r=e.indent||(Nr(t)?"  ":""),n="'"+t.replace(/'/g,"''").replace(/\n+/g,`$&
${r}`)+"'";return e.implicitKey?n:Lr(n,r,eo,In(e))}function Mr({comment:t,type:e,value:r},n,s,i){if(/\n[\t ]+$/.test(r)||/^\s*$/.test(r))return mt(r,n);let o=n.indent||(n.forceBlockIndent||Nr(r)?"  ":""),a=o?"2":"1",c=e===m.Type.BLOCK_FOLDED?!1:e===m.Type.BLOCK_LITERAL?!0:!jf(r,gt.fold.lineWidth,o.length),u=c?"|":">";if(!r)return u+`
`;let l="",f="";if(r=r.replace(/[\n\t ]*$/,y=>{let p=y.indexOf(`
`);return p===-1?u+="-":(r===y||p!==y.length-1)&&(u+="+",i&&i()),f=y.replace(/\n$/,""),""}).replace(/^[\n ]*/,y=>{y.indexOf(" ")!==-1&&(u+=a);let p=y.match(/ +$/);return p?(l=y.slice(0,-p[0].length),p[0]):(l=y,"")}),f&&(f=f.replace(/\n+(?!\n|$)/g,`$&${o}`)),l&&(l=l.replace(/\n+/g,`$&${o}`)),t&&(u+=" #"+t.replace(/ ?[\r\n]+/g," "),s&&s()),!r)return`${u}${a}
${o}${f}`;if(c)return r=r.replace(/\n+/g,`$&${o}`),`${u}
${o}${l}${r}${f}`;r=r.replace(/\n+/g,`
$&`).replace(/(?:^|\n)([\t ].*)(?:([\n\t ]*)\n(?![\n\t ]))?/g,"$1$2").replace(/\n+/g,`$&${o}`);let h=Lr(`${l}${r}${f}`,o,kn,gt.fold);return`${u}
${o}${h}`}function Yf(t,e,r,n){let{comment:s,type:i,value:o}=t,{actualString:a,implicitKey:c,indent:u,inFlow:l}=e;if(c&&/[\n[\]{},]/.test(o)||l&&/[[\]{},]/.test(o))return mt(o,e);if(!o||/^[\n\t ,[\]{}#&*!|>'"%@`]|^[?-]$|^[?-][ \t]|[\n:][ \t]|[ \t]\n|[\n\t ]#|[\n\t :]$/.test(o))return c||l||o.indexOf(`
`)===-1?o.indexOf('"')!==-1&&o.indexOf("'")===-1?ro(o,e):mt(o,e):Mr(t,e,r,n);if(!c&&!l&&i!==m.Type.PLAIN&&o.indexOf(`
`)!==-1)return Mr(t,e,r,n);if(u===""&&Nr(o))return e.forceBlockIndent=!0,Mr(t,e,r,n);let f=o.replace(/\n+/g,`$&
${u}`);if(a){let{tags:y}=e.doc.schema;if(typeof Cn(f,y,y.scalarFallback).value!="string")return mt(o,e)}let h=c?f:Lr(f,u,eo,In(e));return s&&!l&&(h.indexOf(`
`)!==-1||s.indexOf(`
`)!==-1)?(r&&r(),$f(h,u,s)):h}function Uf(t,e,r,n){let{defaultType:s}=gt,{implicitKey:i,inFlow:o}=e,{type:a,value:c}=t;typeof c!="string"&&(c=String(c),t=Object.assign({},t,{value:c}));let u=f=>{switch(f){case m.Type.BLOCK_FOLDED:case m.Type.BLOCK_LITERAL:return Mr(t,e,r,n);case m.Type.QUOTE_DOUBLE:return mt(c,e);case m.Type.QUOTE_SINGLE:return ro(c,e);case m.Type.PLAIN:return Yf(t,e,r,n);default:return null}};(a!==m.Type.QUOTE_DOUBLE&&/[\x00-\x08\x0b-\x1f\x7f-\x9f]/.test(c)||(i||o)&&(a===m.Type.BLOCK_FOLDED||a===m.Type.BLOCK_LITERAL))&&(a=m.Type.QUOTE_DOUBLE);let l=u(a);if(l===null&&(l=u(s),l===null))throw new Error(`Unsupported default string type ${s}`);return l}function Wf({format:t,minFractionDigits:e,tag:r,value:n}){if(typeof n=="bigint")return String(n);if(!isFinite(n))return isNaN(n)?".nan":n<0?"-.inf":".inf";let s=JSON.stringify(n);if(!t&&e&&(!r||r==="tag:yaml.org,2002:float")&&/^\d/.test(s)){let i=s.indexOf(".");i<0&&(i=s.length,s+=".");let o=e-(s.length-i-1);for(;o-- >0;)s+="0"}return s}function no(t,e){let r,n;switch(e.type){case m.Type.FLOW_MAP:r="}",n="flow map";break;case m.Type.FLOW_SEQ:r="]",n="flow sequence";break;default:t.push(new m.YAMLSemanticError(e,"Not a flow collection!?"));return}let s;for(let i=e.items.length-1;i>=0;--i){let o=e.items[i];if(!o||o.type!==m.Type.COMMENT){s=o;break}}if(s&&s.char!==r){let i=`Expected ${n} to end with ${r}`,o;typeof s.offset=="number"?(o=new m.YAMLSemanticError(e,i),o.offset=s.offset+1):(o=new m.YAMLSemanticError(s,i),s.range&&s.range.end&&(o.offset=s.range.end-s.range.start)),t.push(o)}}function so(t,e){let r=e.context.src[e.range.start-1];if(r!==`
`&&r!=="	"&&r!==" "){let n="Comments must be separated from other tokens by white space characters";t.push(new m.YAMLSemanticError(e,n))}}function io(t,e){let r=String(e),n=r.substr(0,8)+"..."+r.substr(-8);return new m.YAMLSemanticError(t,`The "${n}" key is too long`)}function oo(t,e){for(let{afterKey:r,before:n,comment:s}of e){let i=t.items[n];i?(r&&i.value&&(i=i.value),s===void 0?(r||!i.commentBefore)&&(i.spaceBefore=!0):i.commentBefore?i.commentBefore+=`
`+s:i.commentBefore=s):s!==void 0&&(t.comment?t.comment+=`
`+s:t.comment=s)}}function $n(t,e){let r=e.strValue;return r?typeof r=="string"?r:(r.errors.forEach(n=>{n.source||(n.source=e),t.errors.push(n)}),r.str):""}function Gf(t,e){let{handle:r,suffix:n}=e.tag,s=t.tagPrefixes.find(i=>i.handle===r);if(!s){let i=t.getDefaults().tagPrefixes;if(i&&(s=i.find(o=>o.handle===r)),!s)throw new m.YAMLSemanticError(e,`The ${r} tag handle is non-default and was not declared.`)}if(!n)throw new m.YAMLSemanticError(e,`The ${r} tag has no suffix.`);if(r==="!"&&(t.version||t.options.version)==="1.0"){if(n[0]==="^")return t.warnings.push(new m.YAMLWarning(e,"YAML 1.0 ^ tag expansion is not supported")),n;if(/[:/]/.test(n)){let i=n.match(/^([a-z0-9-]+)\/(.*)/i);return i?`tag:${i[1]}.yaml.org,2002:${i[2]}`:`tag:${n}`}}return s.prefix+decodeURIComponent(n)}function Kf(t,e){let{tag:r,type:n}=e,s=!1;if(r){let{handle:i,suffix:o,verbatim:a}=r;if(a){if(a!=="!"&&a!=="!!")return a;let c=`Verbatim tags aren't resolved, so ${a} is invalid.`;t.errors.push(new m.YAMLSemanticError(e,c))}else if(i==="!"&&!o)s=!0;else try{return Gf(t,e)}catch(c){t.errors.push(c)}}switch(n){case m.Type.BLOCK_FOLDED:case m.Type.BLOCK_LITERAL:case m.Type.QUOTE_DOUBLE:case m.Type.QUOTE_SINGLE:return m.defaultTags.STR;case m.Type.FLOW_MAP:case m.Type.MAP:return m.defaultTags.MAP;case m.Type.FLOW_SEQ:case m.Type.SEQ:return m.defaultTags.SEQ;case m.Type.PLAIN:return s?m.defaultTags.STR:null;default:return null}}function ao(t,e,r){let{tags:n}=t.schema,s=[];for(let o of n)if(o.tag===r)if(o.test)s.push(o);else{let a=o.resolve(t,e);return a instanceof re?a:new fe(a)}let i=$n(t,e);return typeof i=="string"&&s.length>0?Cn(i,s,n.scalarFallback):null}function Vf({type:t}){switch(t){case m.Type.FLOW_MAP:case m.Type.MAP:return m.defaultTags.MAP;case m.Type.FLOW_SEQ:case m.Type.SEQ:return m.defaultTags.SEQ;default:return m.defaultTags.STR}}function Jf(t,e,r){try{let n=ao(t,e,r);if(n)return r&&e.tag&&(n.tag=r),n}catch(n){return n.source||(n.source=e),t.errors.push(n),null}try{let n=Vf(e);if(!n)throw new Error(`The tag ${r} is unavailable`);let s=`The tag ${r} is unavailable, falling back to ${n}`;t.warnings.push(new m.YAMLWarning(e,s));let i=ao(t,e,n);return i.tag=r,i}catch(n){let s=new m.YAMLReferenceError(e,n.message);return s.stack=n.stack,t.errors.push(s),null}}var Qf=t=>{if(!t)return!1;let{type:e}=t;return e===m.Type.MAP_KEY||e===m.Type.MAP_VALUE||e===m.Type.SEQ_ITEM};function Xf(t,e){let r={before:[],after:[]},n=!1,s=!1,i=Qf(e.context.parent)?e.context.parent.props.concat(e.props):e.props;for(let{start:o,end:a}of i)switch(e.context.src[o]){case m.Char.COMMENT:{if(!e.commentHasRequiredWhitespace(o)){let f="Comments must be separated from other tokens by white space characters";t.push(new m.YAMLSemanticError(e,f))}let{header:c,valueRange:u}=e;(u&&(o>u.start||c&&o>c.start)?r.after:r.before).push(e.context.src.slice(o+1,a));break}case m.Char.ANCHOR:if(n){let c="A node can have at most one anchor";t.push(new m.YAMLSemanticError(e,c))}n=!0;break;case m.Char.TAG:if(s){let c="A node can have at most one tag";t.push(new m.YAMLSemanticError(e,c))}s=!0;break}return{comments:r,hasAnchor:n,hasTag:s}}function zf(t,e){let{anchors:r,errors:n,schema:s}=t;if(e.type===m.Type.ALIAS){let o=e.rawValue,a=r.getNode(o);if(!a){let u=`Aliased anchor not found: ${o}`;return n.push(new m.YAMLReferenceError(e,u)),null}let c=new tt(a);return r._cstAliases.push(c),c}let i=Kf(t,e);if(i)return Jf(t,e,i);if(e.type!==m.Type.PLAIN){let o=`Failed to resolve ${e.type} node here`;return n.push(new m.YAMLSyntaxError(e,o)),null}try{let o=$n(t,e);return Cn(o,s.tags,s.tags.scalarFallback)}catch(o){return o.source||(o.source=e),n.push(o),null}}function rt(t,e){if(!e)return null;e.error&&t.errors.push(e.error);let{comments:r,hasAnchor:n,hasTag:s}=Xf(t.errors,e);if(n){let{anchors:o}=t,a=e.anchor,c=o.getNode(a);c&&(o.map[o.newName(a)]=c),o.map[a]=e}if(e.type===m.Type.ALIAS&&(n||s)){let o="An alias node must not specify any properties";t.errors.push(new m.YAMLSemanticError(e,o))}let i=zf(t,e);if(i){i.range=[e.range.start,e.range.end],t.options.keepCstNodes&&(i.cstNode=e),t.options.keepNodeTypes&&(i.type=e.type);let o=r.before.join(`
`);o&&(i.commentBefore=i.commentBefore?`${i.commentBefore}
${o}`:o);let a=r.after.join(`
`);a&&(i.comment=i.comment?`${i.comment}
${a}`:a)}return e.resolved=i}function Zf(t,e){if(e.type!==m.Type.MAP&&e.type!==m.Type.FLOW_MAP){let o=`A ${e.type} node cannot be resolved as a mapping`;return t.errors.push(new m.YAMLSyntaxError(e,o)),null}let{comments:r,items:n}=e.type===m.Type.FLOW_MAP?nh(t,e):rh(t,e),s=new Tr;s.items=n,oo(s,r);let i=!1;for(let o=0;o<n.length;++o){let{key:a}=n[o];if(a instanceof re&&(i=!0),t.schema.merge&&a&&a.value===Zi){n[o]=new xn(n[o]);let c=n[o].value.items,u=null;c.some(l=>{if(l instanceof tt){let{type:f}=l.source;return f===m.Type.MAP||f===m.Type.FLOW_MAP?!1:u="Merge nodes aliases can only point to maps"}return u="Merge nodes can only have Alias nodes as values"}),u&&t.errors.push(new m.YAMLSemanticError(e,u))}else for(let c=o+1;c<n.length;++c){let{key:u}=n[c];if(a===u||a&&u&&Object.prototype.hasOwnProperty.call(a,"value")&&a.value===u.value){let l=`Map keys must be unique; "${a}" is repeated`;t.errors.push(new m.YAMLSemanticError(e,l));break}}}if(i&&!t.options.mapAsMap){let o="Keys with collection values will be stringified as YAML due to JS Object restrictions. Use mapAsMap: true to avoid this.";t.warnings.push(new m.YAMLWarning(e,o))}return e.resolved=s,s}var eh=({context:{lineStart:t,node:e,src:r},props:n})=>{if(n.length===0)return!1;let{start:s}=n[0];if(e&&s>e.valueRange.start||r[s]!==m.Char.COMMENT)return!1;for(let i=t;i<s;++i)if(r[i]===`
`)return!1;return!0};function th(t,e){if(!eh(t))return;let r=t.getPropValue(0,m.Char.COMMENT,!0),n=!1,s=e.value.commentBefore;if(s&&s.startsWith(r))e.value.commentBefore=s.substr(r.length+1),n=!0;else{let i=e.value.comment;!t.node&&i&&i.startsWith(r)&&(e.value.comment=i.substr(r.length+1),n=!0)}n&&(e.comment=r)}function rh(t,e){let r=[],n=[],s,i=null;for(let o=0;o<e.items.length;++o){let a=e.items[o];switch(a.type){case m.Type.BLANK_LINE:r.push({afterKey:!!s,before:n.length});break;case m.Type.COMMENT:r.push({afterKey:!!s,before:n.length,comment:a.comment});break;case m.Type.MAP_KEY:s!==void 0&&n.push(new U(s)),a.error&&t.errors.push(a.error),s=rt(t,a.node),i=null;break;case m.Type.MAP_VALUE:{if(s===void 0&&(s=null),a.error&&t.errors.push(a.error),!a.context.atLineStart&&a.node&&a.node.type===m.Type.MAP&&!a.node.context.atLineStart){let l="Nested mappings are not allowed in compact mappings";t.errors.push(new m.YAMLSemanticError(a.node,l))}let c=a.node;if(!c&&a.props.length>0){c=new m.PlainValue(m.Type.PLAIN,[]),c.context={parent:a,src:a.context.src};let l=a.range.start+1;if(c.range={start:l,end:l},c.valueRange={start:l,end:l},typeof a.range.origStart=="number"){let f=a.range.origStart+1;c.range.origStart=c.range.origEnd=f,c.valueRange.origStart=c.valueRange.origEnd=f}}let u=new U(s,rt(t,c));th(a,u),n.push(u),s&&typeof i=="number"&&a.range.start>i+1024&&t.errors.push(io(e,s)),s=void 0,i=null}break;default:s!==void 0&&n.push(new U(s)),s=rt(t,a),i=a.range.start,a.error&&t.errors.push(a.error);e:for(let c=o+1;;++c){let u=e.items[c];switch(u&&u.type){case m.Type.BLANK_LINE:case m.Type.COMMENT:continue e;case m.Type.MAP_VALUE:break e;default:{let l="Implicit map keys need to be followed by map values";t.errors.push(new m.YAMLSemanticError(a,l));break e}}}if(a.valueRangeContainsNewline){let c="Implicit map keys need to be on a single line";t.errors.push(new m.YAMLSemanticError(a,c))}}}return s!==void 0&&n.push(new U(s)),{comments:r,items:n}}function nh(t,e){let r=[],n=[],s,i=!1,o="{";for(let a=0;a<e.items.length;++a){let c=e.items[a];if(typeof c.char=="string"){let{char:u,offset:l}=c;if(u==="?"&&s===void 0&&!i){i=!0,o=":";continue}if(u===":"){if(s===void 0&&(s=null),o===":"){o=",";continue}}else if(i&&(s===void 0&&u!==","&&(s=null),i=!1),s!==void 0&&(n.push(new U(s)),s=void 0,u===",")){o=":";continue}if(u==="}"){if(a===e.items.length-1)continue}else if(u===o){o=":";continue}let f=`Flow map contains an unexpected ${u}`,h=new m.YAMLSyntaxError(e,f);h.offset=l,t.errors.push(h)}else c.type===m.Type.BLANK_LINE?r.push({afterKey:!!s,before:n.length}):c.type===m.Type.COMMENT?(so(t.errors,c),r.push({afterKey:!!s,before:n.length,comment:c.comment})):s===void 0?(o===","&&t.errors.push(new m.YAMLSemanticError(c,"Separator , missing in flow map")),s=rt(t,c)):(o!==","&&t.errors.push(new m.YAMLSemanticError(c,"Indicator : missing in flow map entry")),n.push(new U(s,rt(t,c))),s=void 0,i=!1)}return no(t.errors,e),s!==void 0&&n.push(new U(s)),{comments:r,items:n}}function sh(t,e){if(e.type!==m.Type.SEQ&&e.type!==m.Type.FLOW_SEQ){let i=`A ${e.type} node cannot be resolved as a sequence`;return t.errors.push(new m.YAMLSyntaxError(e,i)),null}let{comments:r,items:n}=e.type===m.Type.FLOW_SEQ?oh(t,e):ih(t,e),s=new dt;if(s.items=n,oo(s,r),!t.options.mapAsMap&&n.some(i=>i instanceof U&&i.key instanceof re)){let i="Keys with collection values will be stringified as YAML due to JS Object restrictions. Use mapAsMap: true to avoid this.";t.warnings.push(new m.YAMLWarning(e,i))}return e.resolved=s,s}function ih(t,e){let r=[],n=[];for(let s=0;s<e.items.length;++s){let i=e.items[s];switch(i.type){case m.Type.BLANK_LINE:r.push({before:n.length});break;case m.Type.COMMENT:r.push({comment:i.comment,before:n.length});break;case m.Type.SEQ_ITEM:if(i.error&&t.errors.push(i.error),n.push(rt(t,i.node)),i.hasProps){let o="Sequence items cannot have tags or anchors before the - indicator";t.errors.push(new m.YAMLSemanticError(i,o))}break;default:i.error&&t.errors.push(i.error),t.errors.push(new m.YAMLSyntaxError(i,`Unexpected ${i.type} node in sequence`))}}return{comments:r,items:n}}function oh(t,e){let r=[],n=[],s=!1,i,o=null,a="[",c=null;for(let u=0;u<e.items.length;++u){let l=e.items[u];if(typeof l.char=="string"){let{char:f,offset:h}=l;if(f!==":"&&(s||i!==void 0)&&(s&&i===void 0&&(i=a?n.pop():null),n.push(new U(i)),s=!1,i=void 0,o=null),f===a)a=null;else if(!a&&f==="?")s=!0;else if(a!=="["&&f===":"&&i===void 0){if(a===","){if(i=n.pop(),i instanceof U){let y="Chaining flow sequence pairs is invalid",p=new m.YAMLSemanticError(e,y);p.offset=h,t.errors.push(p)}if(!s&&typeof o=="number"){let y=l.range?l.range.start:l.offset;y>o+1024&&t.errors.push(io(e,i));let{src:p}=c.context;for(let g=o;g<y;++g)if(p[g]===`
`){let A="Implicit keys of flow sequence pairs need to be on a single line";t.errors.push(new m.YAMLSemanticError(c,A));break}}}else i=null;o=null,s=!1,a=null}else if(a==="["||f!=="]"||u<e.items.length-1){let y=`Flow sequence contains an unexpected ${f}`,p=new m.YAMLSyntaxError(e,y);p.offset=h,t.errors.push(p)}}else if(l.type===m.Type.BLANK_LINE)r.push({before:n.length});else if(l.type===m.Type.COMMENT)so(t.errors,l),r.push({comment:l.comment,before:n.length});else{if(a){let h=`Expected a ${a} in flow sequence`;t.errors.push(new m.YAMLSemanticError(l,h))}let f=rt(t,l);i===void 0?(n.push(f),c=l):(n.push(new U(i,f)),i=void 0),o=l.range.start,a=","}}return no(t.errors,e),i!==void 0&&n.push(new U(i)),{comments:r,items:n}}V.Alias=tt;V.Collection=re;V.Merge=xn;V.Node=Ne;V.Pair=U;V.Scalar=fe;V.YAMLMap=Tr;V.YAMLSeq=dt;V.addComment=It;V.binaryOptions=qf;V.boolOptions=Ff;V.findPair=sr;V.intOptions=Bf;V.isEmptyPath=zi;V.nullOptions=Hf;V.resolveMap=Zf;V.resolveNode=rt;V.resolveSeq=sh;V.resolveString=$n;V.strOptions=gt;V.stringifyNumber=Wf;V.stringifyString=Uf;V.toJSON=et});var xr=v(ke=>{"use strict";var we=Ue(),D=yt(),ah={identify:t=>t instanceof Uint8Array,default:!1,tag:"tag:yaml.org,2002:binary",resolve:(t,e)=>{let r=D.resolveString(t,e);if(typeof Buffer=="function")return Buffer.from(r,"base64");if(typeof atob=="function"){let n=atob(r.replace(/[\n\r]/g,"")),s=new Uint8Array(n.length);for(let i=0;i<n.length;++i)s[i]=n.charCodeAt(i);return s}else{let n="This environment does not support reading binary tags; either Buffer or atob is required";return t.errors.push(new we.YAMLReferenceError(e,n)),null}},options:D.binaryOptions,stringify:({comment:t,type:e,value:r},n,s,i)=>{let o;if(typeof Buffer=="function")o=r instanceof Buffer?r.toString("base64"):Buffer.from(r.buffer).toString("base64");else if(typeof btoa=="function"){let a="";for(let c=0;c<r.length;++c)a+=String.fromCharCode(r[c]);o=btoa(a)}else throw new Error("This environment does not support writing binary tags; either Buffer or btoa is required");if(e||(e=D.binaryOptions.defaultType),e===we.Type.QUOTE_DOUBLE)r=o;else{let{lineWidth:a}=D.binaryOptions,c=Math.ceil(o.length/a),u=new Array(c);for(let l=0,f=0;l<c;++l,f+=a)u[l]=o.substr(f,a);r=u.join(e===we.Type.BLOCK_LITERAL?`
`:" ")}return D.stringifyString({comment:t,type:e,value:r},n,s,i)}};function co(t,e){let r=D.resolveSeq(t,e);for(let n=0;n<r.items.length;++n){let s=r.items[n];if(!(s instanceof D.Pair)){if(s instanceof D.YAMLMap){if(s.items.length>1){let o="Each pair must have its own sequence indicator";throw new we.YAMLSemanticError(e,o)}let i=s.items[0]||new D.Pair;s.commentBefore&&(i.commentBefore=i.commentBefore?`${s.commentBefore}
${i.commentBefore}`:s.commentBefore),s.comment&&(i.comment=i.comment?`${s.comment}
${i.comment}`:s.comment),s=i}r.items[n]=s instanceof D.Pair?s:new D.Pair(s)}}return r}function uo(t,e,r){let n=new D.YAMLSeq(t);n.tag="tag:yaml.org,2002:pairs";for(let s of e){let i,o;if(Array.isArray(s))if(s.length===2)i=s[0],o=s[1];else throw new TypeError(`Expected [key, value] tuple: ${s}`);else if(s&&s instanceof Object){let c=Object.keys(s);if(c.length===1)i=c[0],o=s[i];else throw new TypeError(`Expected { key: value } tuple: ${s}`)}else i=s;let a=t.createPair(i,o,r);n.items.push(a)}return n}var ch={default:!1,tag:"tag:yaml.org,2002:pairs",resolve:co,createNode:uo},_t=class extends D.YAMLSeq{constructor(){super();we._defineProperty(this,"add",D.YAMLMap.prototype.add.bind(this)),we._defineProperty(this,"delete",D.YAMLMap.prototype.delete.bind(this)),we._defineProperty(this,"get",D.YAMLMap.prototype.get.bind(this)),we._defineProperty(this,"has",D.YAMLMap.prototype.has.bind(this)),we._defineProperty(this,"set",D.YAMLMap.prototype.set.bind(this)),this.tag=_t.tag}toJSON(e,r){let n=new Map;r&&r.onCreate&&r.onCreate(n);for(let s of this.items){let i,o;if(s instanceof D.Pair?(i=D.toJSON(s.key,"",r),o=D.toJSON(s.value,i,r)):i=D.toJSON(s,"",r),n.has(i))throw new Error("Ordered maps must not include duplicate keys");n.set(i,o)}return n}};we._defineProperty(_t,"tag","tag:yaml.org,2002:omap");function uh(t,e){let r=co(t,e),n=[];for(let{key:s}of r.items)if(s instanceof D.Scalar)if(n.includes(s.value)){let i="Ordered maps must not include duplicate keys";throw new we.YAMLSemanticError(e,i)}else n.push(s.value);return Object.assign(new _t,r)}function lh(t,e,r){let n=uo(t,e,r),s=new _t;return s.items=n.items,s}var fh={identify:t=>t instanceof Map,nodeClass:_t,default:!1,tag:"tag:yaml.org,2002:omap",resolve:uh,createNode:lh},St=class extends D.YAMLMap{constructor(){super();this.tag=St.tag}add(e){let r=e instanceof D.Pair?e:new D.Pair(e);D.findPair(this.items,r.key)||this.items.push(r)}get(e,r){let n=D.findPair(this.items,e);return!r&&n instanceof D.Pair?n.key instanceof D.Scalar?n.key.value:n.key:n}set(e,r){if(typeof r!="boolean")throw new Error(`Expected boolean value for set(key, value) in a YAML set, not ${typeof r}`);let n=D.findPair(this.items,e);n&&!r?this.items.splice(this.items.indexOf(n),1):!n&&r&&this.items.push(new D.Pair(e))}toJSON(e,r){return super.toJSON(e,r,Set)}toString(e,r,n){if(!e)return JSON.stringify(this);if(this.hasAllNullValues())return super.toString(e,r,n);throw new Error("Set items must all have null values")}};we._defineProperty(St,"tag","tag:yaml.org,2002:set");function hh(t,e){let r=D.resolveMap(t,e);if(!r.hasAllNullValues())throw new we.YAMLSemanticError(e,"Set items must all have null values");return Object.assign(new St,r)}function ph(t,e,r){let n=new St;for(let s of e)n.items.push(t.createPair(s,null,r));return n}var dh={identify:t=>t instanceof Set,nodeClass:St,default:!1,tag:"tag:yaml.org,2002:set",resolve:hh,createNode:ph},Dn=(t,e)=>{let r=e.split(":").reduce((n,s)=>n*60+Number(s),0);return t==="-"?-r:r},lo=({value:t})=>{if(isNaN(t)||!isFinite(t))return D.stringifyNumber(t);let e="";t<0&&(e="-",t=Math.abs(t));let r=[t%60];return t<60?r.unshift(0):(t=Math.round((t-r[0])/60),r.unshift(t%60),t>=60&&(t=Math.round((t-r[0])/60),r.unshift(t))),e+r.map(n=>n<10?"0"+String(n):String(n)).join(":").replace(/000000\d*$/,"")},gh={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:int",format:"TIME",test:/^([-+]?)([0-9][0-9_]*(?::[0-5]?[0-9])+)$/,resolve:(t,e,r)=>Dn(e,r.replace(/_/g,"")),stringify:lo},mh={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"TIME",test:/^([-+]?)([0-9][0-9_]*(?::[0-5]?[0-9])+\.[0-9_]*)$/,resolve:(t,e,r)=>Dn(e,r.replace(/_/g,"")),stringify:lo},yh={identify:t=>t instanceof Date,default:!0,tag:"tag:yaml.org,2002:timestamp",test:RegExp("^(?:([0-9]{4})-([0-9]{1,2})-([0-9]{1,2})(?:(?:t|T|[ \\t]+)([0-9]{1,2}):([0-9]{1,2}):([0-9]{1,2}(\\.[0-9]+)?)(?:[ \\t]*(Z|[-+][012]?[0-9](?::[0-9]{2})?))?)?)$"),resolve:(t,e,r,n,s,i,o,a,c)=>{a&&(a=(a+"00").substr(1,3));let u=Date.UTC(e,r-1,n,s||0,i||0,o||0,a||0);if(c&&c!=="Z"){let l=Dn(c[0],c.slice(1));Math.abs(l)<30&&(l*=60),u-=6e4*l}return new Date(u)},stringify:({value:t})=>t.toISOString().replace(/((T00:00)?:00)?\.000Z$/,"")};function qn(t){let e=typeof process!="undefined"&&process.env||{};return t?typeof YAML_SILENCE_DEPRECATION_WARNINGS!="undefined"?!YAML_SILENCE_DEPRECATION_WARNINGS:!e.YAML_SILENCE_DEPRECATION_WARNINGS:typeof YAML_SILENCE_WARNINGS!="undefined"?!YAML_SILENCE_WARNINGS:!e.YAML_SILENCE_WARNINGS}function Fn(t,e){if(qn(!1)){let r=typeof process!="undefined"&&process.emitWarning;r?r(t,e):console.warn(e?`${e}: ${t}`:t)}}function _h(t){if(qn(!0)){let e=t.replace(/.*yaml[/\\]/i,"").replace(/\.js$/,"").replace(/\\/g,"/");Fn(`The endpoint 'yaml/${e}' will be removed in a future release.`,"DeprecationWarning")}}var fo={};function Sh(t,e){if(!fo[t]&&qn(!0)){fo[t]=!0;let r=`The option '${t}' will be removed in a future release`;r+=e?`, use '${e}' instead.`:".",Fn(r,"DeprecationWarning")}}ke.binary=ah;ke.floatTime=mh;ke.intTime=gh;ke.omap=fh;ke.pairs=ch;ke.set=dh;ke.timestamp=yh;ke.warn=Fn;ke.warnFileDeprecation=_h;ke.warnOptionDeprecation=Sh});var qr=v(Oo=>{"use strict";var Cr=Ue(),N=yt(),he=xr();function Eh(t,e,r){let n=new N.YAMLMap(t);if(e instanceof Map)for(let[s,i]of e)n.items.push(t.createPair(s,i,r));else if(e&&typeof e=="object")for(let s of Object.keys(e))n.items.push(t.createPair(s,e[s],r));return typeof t.sortMapEntries=="function"&&n.items.sort(t.sortMapEntries),n}var ir={createNode:Eh,default:!0,nodeClass:N.YAMLMap,tag:"tag:yaml.org,2002:map",resolve:N.resolveMap};function vh(t,e,r){let n=new N.YAMLSeq(t);if(e&&e[Symbol.iterator])for(let s of e){let i=t.createNode(s,r.wrapScalars,null,r);n.items.push(i)}return n}var kr={createNode:vh,default:!0,nodeClass:N.YAMLSeq,tag:"tag:yaml.org,2002:seq",resolve:N.resolveSeq},Ah={identify:t=>typeof t=="string",default:!0,tag:"tag:yaml.org,2002:str",resolve:N.resolveString,stringify(t,e,r,n){return e=Object.assign({actualString:!0},e),N.stringifyString(t,e,r,n)},options:N.strOptions},Bn=[ir,kr,Ah],Ir=t=>typeof t=="bigint"||Number.isInteger(t),Hn=(t,e,r)=>N.intOptions.asBigInt?BigInt(t):parseInt(e,r);function ho(t,e,r){let{value:n}=t;return Ir(n)&&n>=0?r+n.toString(e):N.stringifyNumber(t)}var po={identify:t=>t==null,createNode:(t,e,r)=>r.wrapScalars?new N.Scalar(null):null,default:!0,tag:"tag:yaml.org,2002:null",test:/^(?:~|[Nn]ull|NULL)?$/,resolve:()=>null,options:N.nullOptions,stringify:()=>N.nullOptions.nullStr},go={identify:t=>typeof t=="boolean",default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:[Tt]rue|TRUE|[Ff]alse|FALSE)$/,resolve:t=>t[0]==="t"||t[0]==="T",options:N.boolOptions,stringify:({value:t})=>t?N.boolOptions.trueStr:N.boolOptions.falseStr},mo={identify:t=>Ir(t)&&t>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^0o([0-7]+)$/,resolve:(t,e)=>Hn(t,e,8),options:N.intOptions,stringify:t=>ho(t,8,"0o")},yo={identify:Ir,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9]+$/,resolve:t=>Hn(t,t,10),options:N.intOptions,stringify:N.stringifyNumber},_o={identify:t=>Ir(t)&&t>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^0x([0-9a-fA-F]+)$/,resolve:(t,e)=>Hn(t,e,16),options:N.intOptions,stringify:t=>ho(t,16,"0x")},So={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^(?:[-+]?\.inf|(\.nan))$/i,resolve:(t,e)=>e?NaN:t[0]==="-"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:N.stringifyNumber},Eo={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:\.[0-9]+|[0-9]+(?:\.[0-9]*)?)[eE][-+]?[0-9]+$/,resolve:t=>parseFloat(t),stringify:({value:t})=>Number(t).toExponential()},vo={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:\.([0-9]+)|[0-9]+\.([0-9]*))$/,resolve(t,e,r){let n=e||r,s=new N.Scalar(parseFloat(t));return n&&n[n.length-1]==="0"&&(s.minFractionDigits=n.length),s},stringify:N.stringifyNumber},wh=Bn.concat([po,go,mo,yo,_o,So,Eo,vo]),Ao=t=>typeof t=="bigint"||Number.isInteger(t),$r=({value:t})=>JSON.stringify(t),wo=[ir,kr,{identify:t=>typeof t=="string",default:!0,tag:"tag:yaml.org,2002:str",resolve:N.resolveString,stringify:$r},{identify:t=>t==null,createNode:(t,e,r)=>r.wrapScalars?new N.Scalar(null):null,default:!0,tag:"tag:yaml.org,2002:null",test:/^null$/,resolve:()=>null,stringify:$r},{identify:t=>typeof t=="boolean",default:!0,tag:"tag:yaml.org,2002:bool",test:/^true|false$/,resolve:t=>t==="true",stringify:$r},{identify:Ao,default:!0,tag:"tag:yaml.org,2002:int",test:/^-?(?:0|[1-9][0-9]*)$/,resolve:t=>N.intOptions.asBigInt?BigInt(t):parseInt(t,10),stringify:({value:t})=>Ao(t)?t.toString():JSON.stringify(t)},{identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^-?(?:0|[1-9][0-9]*)(?:\.[0-9]*)?(?:[eE][-+]?[0-9]+)?$/,resolve:t=>parseFloat(t),stringify:$r}];wo.scalarFallback=t=>{throw new SyntaxError(`Unresolved plain scalar ${JSON.stringify(t)}`)};var bo=({value:t})=>t?N.boolOptions.trueStr:N.boolOptions.falseStr,or=t=>typeof t=="bigint"||Number.isInteger(t);function Dr(t,e,r){let n=e.replace(/_/g,"");if(N.intOptions.asBigInt){switch(r){case 2:n=`0b${n}`;break;case 8:n=`0o${n}`;break;case 16:n=`0x${n}`;break}let i=BigInt(n);return t==="-"?BigInt(-1)*i:i}let s=parseInt(n,r);return t==="-"?-1*s:s}function jn(t,e,r){let{value:n}=t;if(or(n)){let s=n.toString(e);return n<0?"-"+r+s.substr(1):r+s}return N.stringifyNumber(t)}var bh=Bn.concat([{identify:t=>t==null,createNode:(t,e,r)=>r.wrapScalars?new N.Scalar(null):null,default:!0,tag:"tag:yaml.org,2002:null",test:/^(?:~|[Nn]ull|NULL)?$/,resolve:()=>null,options:N.nullOptions,stringify:()=>N.nullOptions.nullStr},{identify:t=>typeof t=="boolean",default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:Y|y|[Yy]es|YES|[Tt]rue|TRUE|[Oo]n|ON)$/,resolve:()=>!0,options:N.boolOptions,stringify:bo},{identify:t=>typeof t=="boolean",default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:N|n|[Nn]o|NO|[Ff]alse|FALSE|[Oo]ff|OFF)$/i,resolve:()=>!1,options:N.boolOptions,stringify:bo},{identify:or,default:!0,tag:"tag:yaml.org,2002:int",format:"BIN",test:/^([-+]?)0b([0-1_]+)$/,resolve:(t,e,r)=>Dr(e,r,2),stringify:t=>jn(t,2,"0b")},{identify:or,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^([-+]?)0([0-7_]+)$/,resolve:(t,e,r)=>Dr(e,r,8),stringify:t=>jn(t,8,"0")},{identify:or,default:!0,tag:"tag:yaml.org,2002:int",test:/^([-+]?)([0-9][0-9_]*)$/,resolve:(t,e,r)=>Dr(e,r,10),stringify:N.stringifyNumber},{identify:or,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^([-+]?)0x([0-9a-fA-F_]+)$/,resolve:(t,e,r)=>Dr(e,r,16),stringify:t=>jn(t,16,"0x")},{identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^(?:[-+]?\.inf|(\.nan))$/i,resolve:(t,e)=>e?NaN:t[0]==="-"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:N.stringifyNumber},{identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?([0-9][0-9_]*)?(\.[0-9_]*)?[eE][-+]?[0-9]+$/,resolve:t=>parseFloat(t.replace(/_/g,"")),stringify:({value:t})=>Number(t).toExponential()},{identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:[0-9][0-9_]*)?\.([0-9_]*)$/,resolve(t,e){let r=new N.Scalar(parseFloat(t.replace(/_/g,"")));if(e){let n=e.replace(/_/g,"");n[n.length-1]==="0"&&(r.minFractionDigits=n.length)}return r},stringify:N.stringifyNumber}],he.binary,he.omap,he.pairs,he.set,he.intTime,he.floatTime,he.timestamp),Oh={core:wh,failsafe:Bn,json:wo,yaml11:bh},Ph={binary:he.binary,bool:go,float:vo,floatExp:Eo,floatNaN:So,floatTime:he.floatTime,int:yo,intHex:_o,intOct:mo,intTime:he.intTime,map:ir,null:po,omap:he.omap,pairs:he.pairs,seq:kr,set:he.set,timestamp:he.timestamp};function Th(t,e,r){if(e){let n=r.filter(i=>i.tag===e),s=n.find(i=>!i.format)||n[0];if(!s)throw new Error(`Tag ${e} not found`);return s}return r.find(n=>(n.identify&&n.identify(t)||n.class&&t instanceof n.class)&&!n.format)}function Rh(t,e,r){if(t instanceof N.Node)return t;let{defaultPrefix:n,onTagObj:s,prevObjects:i,schema:o,wrapScalars:a}=r;e&&e.startsWith("!!")&&(e=n+e.slice(2));let c=Th(t,e,o.tags);if(!c){if(typeof t.toJSON=="function"&&(t=t.toJSON()),!t||typeof t!="object")return a?new N.Scalar(t):t;c=t instanceof Map?ir:t[Symbol.iterator]?kr:ir}s&&(s(c),delete r.onTagObj);let u={value:void 0,node:void 0};if(t&&typeof t=="object"&&i){let l=i.get(t);if(l){let f=new N.Alias(l);return r.aliasNodes.push(f),f}u.value=t,i.set(t,u)}return u.node=c.createNode?c.createNode(r.schema,t,r):a?new N.Scalar(t):t,e&&u.node instanceof N.Node&&(u.node.tag=e),u.node}function Lh(t,e,r,n){let s=t[n.replace(/\W/g,"")];if(!s){let i=Object.keys(t).map(o=>JSON.stringify(o)).join(", ");throw new Error(`Unknown schema "${n}"; use one of ${i}`)}if(Array.isArray(r))for(let i of r)s=s.concat(i);else typeof r=="function"&&(s=r(s.slice()));for(let i=0;i<s.length;++i){let o=s[i];if(typeof o=="string"){let a=e[o];if(!a){let c=Object.keys(e).map(u=>JSON.stringify(u)).join(", ");throw new Error(`Unknown custom tag "${o}"; use one of ${c}`)}s[i]=a}}return s}var Nh=(t,e)=>t.key<e.key?-1:t.key>e.key?1:0,$t=class{constructor({customTags:e,merge:r,schema:n,sortMapEntries:s,tags:i}){this.merge=!!r,this.name=n,this.sortMapEntries=s===!0?Nh:s||null,!e&&i&&he.warnOptionDeprecation("tags","customTags"),this.tags=Lh(Oh,Ph,e||i,n)}createNode(e,r,n,s){let i={defaultPrefix:$t.defaultPrefix,schema:this,wrapScalars:r},o=s?Object.assign(s,i):i;return Rh(e,n,o)}createPair(e,r,n){n||(n={wrapScalars:!0});let s=this.createNode(e,n.wrapScalars,null,n),i=this.createNode(r,n.wrapScalars,null,n);return new N.Pair(s,i)}};Cr._defineProperty($t,"defaultPrefix",Cr.defaultTagPrefix);Cr._defineProperty($t,"defaultTags",Cr.defaultTags);Oo.Schema=$t});var Lo=v(jr=>{"use strict";var pe=Ue(),M=yt(),Po=qr(),Mh={anchorPrefix:"a",customTags:null,indent:2,indentSeq:!0,keepCstNodes:!1,keepNodeTypes:!0,keepBlobsInJSON:!0,mapAsMap:!1,maxAliasCount:100,prettyErrors:!1,simpleKeys:!1,version:"1.2"},xh={get binary(){return M.binaryOptions},set binary(t){Object.assign(M.binaryOptions,t)},get bool(){return M.boolOptions},set bool(t){Object.assign(M.boolOptions,t)},get int(){return M.intOptions},set int(t){Object.assign(M.intOptions,t)},get null(){return M.nullOptions},set null(t){Object.assign(M.nullOptions,t)},get str(){return M.strOptions},set str(t){Object.assign(M.strOptions,t)}},To={"1.0":{schema:"yaml-1.1",merge:!0,tagPrefixes:[{handle:"!",prefix:pe.defaultTagPrefix},{handle:"!!",prefix:"tag:private.yaml.org,2002:"}]},1.1:{schema:"yaml-1.1",merge:!0,tagPrefixes:[{handle:"!",prefix:"!"},{handle:"!!",prefix:pe.defaultTagPrefix}]},1.2:{schema:"core",merge:!1,tagPrefixes:[{handle:"!",prefix:"!"},{handle:"!!",prefix:pe.defaultTagPrefix}]}};function Ro(t,e){if((t.version||t.options.version)==="1.0"){let s=e.match(/^tag:private\.yaml\.org,2002:([^:/]+)$/);if(s)return"!"+s[1];let i=e.match(/^tag:([a-zA-Z0-9-]+)\.yaml\.org,2002:(.*)/);return i?`!${i[1]}/${i[2]}`:`!${e.replace(/^tag:/,"")}`}let r=t.tagPrefixes.find(s=>e.indexOf(s.prefix)===0);if(!r){let s=t.getDefaults().tagPrefixes;r=s&&s.find(i=>e.indexOf(i.prefix)===0)}if(!r)return e[0]==="!"?e:`!<${e}>`;let n=e.substr(r.prefix.length).replace(/[!,[\]{}]/g,s=>({"!":"%21",",":"%2C","[":"%5B","]":"%5D","{":"%7B","}":"%7D"})[s]);return r.handle+n}function Ch(t,e){if(e instanceof M.Alias)return M.Alias;if(e.tag){let s=t.filter(i=>i.tag===e.tag);if(s.length>0)return s.find(i=>i.format===e.format)||s[0]}let r,n;if(e instanceof M.Scalar){n=e.value;let s=t.filter(i=>i.identify&&i.identify(n)||i.class&&n instanceof i.class);r=s.find(i=>i.format===e.format)||s.find(i=>!i.format)}else n=e,r=t.find(s=>s.nodeClass&&n instanceof s.nodeClass);if(!r){let s=n&&n.constructor?n.constructor.name:typeof n;throw new Error(`Tag not resolved for ${s} value`)}return r}function kh(t,e,{anchors:r,doc:n}){let s=[],i=n.anchors.getName(t);return i&&(r[i]=t,s.push(`&${i}`)),t.tag?s.push(Ro(n,t.tag)):e.default||s.push(Ro(n,e.tag)),s.join(" ")}function Fr(t,e,r,n){let{anchors:s,schema:i}=e.doc,o;if(!(t instanceof M.Node)){let u={aliasNodes:[],onTagObj:l=>o=l,prevObjects:new Map};t=i.createNode(t,!0,null,u);for(let l of u.aliasNodes){l.source=l.source.node;let f=s.getName(l.source);f||(f=s.newName(),s.map[f]=l.source)}}if(t instanceof M.Pair)return t.toString(e,r,n);o||(o=Ch(i.tags,t));let a=kh(t,o,e);a.length>0&&(e.indentAtStart=(e.indentAtStart||0)+a.length+1);let c=typeof o.stringify=="function"?o.stringify(t,e,r,n):t instanceof M.Scalar?M.stringifyString(t,e,r,n):t.toString(e,r,n);return a?t instanceof M.Scalar||c[0]==="{"||c[0]==="["?`${a} ${c}`:`${a}
${e.indent}${c}`:c}var Br=class{static validAnchorNode(e){return e instanceof M.Scalar||e instanceof M.YAMLSeq||e instanceof M.YAMLMap}constructor(e){pe._defineProperty(this,"map",Object.create(null)),this.prefix=e}createAlias(e,r){return this.setAnchor(e,r),new M.Alias(e)}createMergePair(...e){let r=new M.Merge;return r.value.items=e.map(n=>{if(n instanceof M.Alias){if(n.source instanceof M.YAMLMap)return n}else if(n instanceof M.YAMLMap)return this.createAlias(n);throw new Error("Merge sources must be Map nodes or their Aliases")}),r}getName(e){let{map:r}=this;return Object.keys(r).find(n=>r[n]===e)}getNames(){return Object.keys(this.map)}getNode(e){return this.map[e]}newName(e){e||(e=this.prefix);let r=Object.keys(this.map);for(let n=1;;++n){let s=`${e}${n}`;if(!r.includes(s))return s}}resolveNodes(){let{map:e,_cstAliases:r}=this;Object.keys(e).forEach(n=>{e[n]=e[n].resolved}),r.forEach(n=>{n.source=n.source.resolved}),delete this._cstAliases}setAnchor(e,r){if(e!=null&&!Br.validAnchorNode(e))throw new Error("Anchors may only be set for Scalar, Seq and Map nodes");if(r&&/[\x00-\x19\s,[\]{}]/.test(r))throw new Error("Anchor names must not contain whitespace or control characters");let{map:n}=this,s=e&&Object.keys(n).find(i=>n[i]===e);if(s)if(r)s!==r&&(delete n[s],n[r]=e);else return s;else{if(!r){if(!e)return null;r=this.newName()}n[r]=e}return r}},Hr=(t,e)=>{if(t&&typeof t=="object"){let{tag:r}=t;t instanceof M.Collection?(r&&(e[r]=!0),t.items.forEach(n=>Hr(n,e))):t instanceof M.Pair?(Hr(t.key,e),Hr(t.value,e)):t instanceof M.Scalar&&r&&(e[r]=!0)}return e},Ih=t=>Object.keys(Hr(t,{}));function $h(t,e){let r={before:[],after:[]},n,s=!1;for(let i of e)if(i.valueRange){if(n!==void 0){let a="Document contains trailing content not separated by a ... or --- line";t.errors.push(new pe.YAMLSyntaxError(i,a));break}let o=M.resolveNode(t,i);s&&(o.spaceBefore=!0,s=!1),n=o}else i.comment!==null?(n===void 0?r.before:r.after).push(i.comment):i.type===pe.Type.BLANK_LINE&&(s=!0,n===void 0&&r.before.length>0&&!t.commentBefore&&(t.commentBefore=r.before.join(`
`),r.before=[]));if(t.contents=n||null,!n)t.comment=r.before.concat(r.after).join(`
`)||null;else{let i=r.before.join(`
`);if(i){let o=n instanceof M.Collection&&n.items[0]?n.items[0]:n;o.commentBefore=o.commentBefore?`${i}
${o.commentBefore}`:i}t.comment=r.after.join(`
`)||null}}function Dh({tagPrefixes:t},e){let[r,n]=e.parameters;if(!r||!n){let s="Insufficient parameters given for %TAG directive";throw new pe.YAMLSemanticError(e,s)}if(t.some(s=>s.handle===r)){let s="The %TAG directive must only be given at most once per handle in the same document.";throw new pe.YAMLSemanticError(e,s)}return{handle:r,prefix:n}}function qh(t,e){let[r]=e.parameters;if(e.name==="YAML:1.0"&&(r="1.0"),!r){let n="Insufficient parameters given for %YAML directive";throw new pe.YAMLSemanticError(e,n)}if(!To[r]){let s=`Document will be parsed as YAML ${t.version||t.options.version} rather than YAML ${r}`;t.warnings.push(new pe.YAMLWarning(e,s))}return r}function Fh(t,e,r){let n=[],s=!1;for(let i of e){let{comment:o,name:a}=i;switch(a){case"TAG":try{t.tagPrefixes.push(Dh(t,i))}catch(c){t.errors.push(c)}s=!0;break;case"YAML":case"YAML:1.0":if(t.version){let c="The %YAML directive must only be given at most once per document.";t.errors.push(new pe.YAMLSemanticError(i,c))}try{t.version=qh(t,i)}catch(c){t.errors.push(c)}s=!0;break;default:if(a){let c=`YAML only supports %TAG and %YAML directives, and not %${a}`;t.warnings.push(new pe.YAMLWarning(i,c))}}o&&n.push(o)}if(r&&!s&&(t.version||r.version||t.options.version)==="1.1"){let i=({handle:o,prefix:a})=>({handle:o,prefix:a});t.tagPrefixes=r.tagPrefixes.map(i),t.version=r.version}t.commentBefore=n.join(`
`)||null}function Dt(t){if(t instanceof M.Collection)return!0;throw new Error("Expected a YAML collection as document contents")}var qt=class{constructor(e){this.anchors=new Br(e.anchorPrefix),this.commentBefore=null,this.comment=null,this.contents=null,this.directivesEndMarker=null,this.errors=[],this.options=e,this.schema=null,this.tagPrefixes=[],this.version=null,this.warnings=[]}add(e){return Dt(this.contents),this.contents.add(e)}addIn(e,r){Dt(this.contents),this.contents.addIn(e,r)}delete(e){return Dt(this.contents),this.contents.delete(e)}deleteIn(e){return M.isEmptyPath(e)?this.contents==null?!1:(this.contents=null,!0):(Dt(this.contents),this.contents.deleteIn(e))}getDefaults(){return qt.defaults[this.version]||qt.defaults[this.options.version]||{}}get(e,r){return this.contents instanceof M.Collection?this.contents.get(e,r):void 0}getIn(e,r){return M.isEmptyPath(e)?!r&&this.contents instanceof M.Scalar?this.contents.value:this.contents:this.contents instanceof M.Collection?this.contents.getIn(e,r):void 0}has(e){return this.contents instanceof M.Collection?this.contents.has(e):!1}hasIn(e){return M.isEmptyPath(e)?this.contents!==void 0:this.contents instanceof M.Collection?this.contents.hasIn(e):!1}set(e,r){Dt(this.contents),this.contents.set(e,r)}setIn(e,r){M.isEmptyPath(e)?this.contents=r:(Dt(this.contents),this.contents.setIn(e,r))}setSchema(e,r){if(!e&&!r&&this.schema)return;typeof e=="number"&&(e=e.toFixed(1)),e==="1.0"||e==="1.1"||e==="1.2"?(this.version?this.version=e:this.options.version=e,delete this.options.schema):e&&typeof e=="string"&&(this.options.schema=e),Array.isArray(r)&&(this.options.customTags=r);let n=Object.assign({},this.getDefaults(),this.options);this.schema=new Po.Schema(n)}parse(e,r){this.options.keepCstNodes&&(this.cstNode=e),this.options.keepNodeTypes&&(this.type="DOCUMENT");let{directives:n=[],contents:s=[],directivesEndMarker:i,error:o,valueRange:a}=e;if(o&&(o.source||(o.source=this),this.errors.push(o)),Fh(this,n,r),i&&(this.directivesEndMarker=!0),this.range=a?[a.start,a.end]:null,this.setSchema(),this.anchors._cstAliases=[],$h(this,s),this.anchors.resolveNodes(),this.options.prettyErrors){for(let c of this.errors)c instanceof pe.YAMLError&&c.makePretty();for(let c of this.warnings)c instanceof pe.YAMLError&&c.makePretty()}return this}listNonDefaultTags(){return Ih(this.contents).filter(e=>e.indexOf(Po.Schema.defaultPrefix)!==0)}setTagPrefix(e,r){if(e[0]!=="!"||e[e.length-1]!=="!")throw new Error("Handle must start and end with !");if(r){let n=this.tagPrefixes.find(s=>s.handle===e);n?n.prefix=r:this.tagPrefixes.push({handle:e,prefix:r})}else this.tagPrefixes=this.tagPrefixes.filter(n=>n.handle!==e)}toJSON(e,r){let{keepBlobsInJSON:n,mapAsMap:s,maxAliasCount:i}=this.options,o=n&&(typeof e!="string"||!(this.contents instanceof M.Scalar)),a={doc:this,indentStep:"  ",keep:o,mapAsMap:o&&!!s,maxAliasCount:i,stringify:Fr},c=Object.keys(this.anchors.map);c.length>0&&(a.anchors=new Map(c.map(l=>[this.anchors.map[l],{alias:[],aliasCount:0,count:1}])));let u=M.toJSON(this.contents,e,a);if(typeof r=="function"&&a.anchors)for(let{count:l,res:f}of a.anchors.values())r(f,l);return u}toString(){if(this.errors.length>0)throw new Error("Document with errors cannot be stringified");let e=this.options.indent;if(!Number.isInteger(e)||e<=0){let c=JSON.stringify(e);throw new Error(`"indent" option must be a positive integer, not ${c}`)}this.setSchema();let r=[],n=!1;if(this.version){let c="%YAML 1.2";this.schema.name==="yaml-1.1"&&(this.version==="1.0"?c="%YAML:1.0":this.version==="1.1"&&(c="%YAML 1.1")),r.push(c),n=!0}let s=this.listNonDefaultTags();this.tagPrefixes.forEach(({handle:c,prefix:u})=>{s.some(l=>l.indexOf(u)===0)&&(r.push(`%TAG ${c} ${u}`),n=!0)}),(n||this.directivesEndMarker)&&r.push("---"),this.commentBefore&&((n||!this.directivesEndMarker)&&r.unshift(""),r.unshift(this.commentBefore.replace(/^/gm,"#")));let i={anchors:Object.create(null),doc:this,indent:"",indentStep:" ".repeat(e),stringify:Fr},o=!1,a=null;if(this.contents){this.contents instanceof M.Node&&(this.contents.spaceBefore&&(n||this.directivesEndMarker)&&r.push(""),this.contents.commentBefore&&r.push(this.contents.commentBefore.replace(/^/gm,"#")),i.forceBlockIndent=!!this.comment,a=this.contents.comment);let c=a?null:()=>o=!0,u=Fr(this.contents,i,()=>a=null,c);r.push(M.addComment(u,"",a))}else this.contents!==void 0&&r.push(Fr(this.contents,i));return this.comment&&((!o||a)&&r[r.length-1]!==""&&r.push(""),r.push(this.comment.replace(/^/gm,"#"))),r.join(`
`)+`
`}};pe._defineProperty(qt,"defaults",To);jr.Document=qt;jr.defaultOptions=Mh;jr.scalarOptions=xh});var xo=v(Mo=>{"use strict";var Yn=Qi(),Et=Lo(),Bh=qr(),Hh=Ue(),jh=xr();yt();function Yh(t,e=!0,r){r===void 0&&typeof e=="string"&&(r=e,e=!0);let n=Object.assign({},Et.Document.defaults[Et.defaultOptions.version],Et.defaultOptions);return new Bh.Schema(n).createNode(t,e,r)}var ar=class extends Et.Document{constructor(e){super(Object.assign({},Et.defaultOptions,e))}};function Uh(t,e){let r=[],n;for(let s of Yn.parse(t)){let i=new ar(e);i.parse(s,n),r.push(i),n=i}return r}function No(t,e){let r=Yn.parse(t),n=new ar(e).parse(r[0]);if(r.length>1){let s="Source contains multiple documents; please use YAML.parseAllDocuments()";n.errors.unshift(new Hh.YAMLSemanticError(r[1],s))}return n}function Wh(t,e){let r=No(t,e);if(r.warnings.forEach(n=>jh.warn(n)),r.errors.length>0)throw r.errors[0];return r.toJSON()}function Gh(t,e){let r=new ar(e);return r.contents=t,String(r)}var Kh={createNode:Yh,defaultOptions:Et.defaultOptions,Document:ar,parse:Wh,parseAllDocuments:Uh,parseCST:Yn.parse,parseDocument:No,scalarOptions:Et.scalarOptions,stringify:Gh};Mo.YAML=Kh});var Un=v((A_,Co)=>{Co.exports=xo().YAML});var Yr=v(_e=>{var Vh=_e&&_e.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var i in s)s.hasOwnProperty(i)&&(n[i]=s[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(_e,"__esModule",{value:!0});var Jh=Object.prototype.hasOwnProperty;function Wn(t,e){return Jh.call(t,e)}_e.hasOwnProperty=Wn;function ko(t){if(Array.isArray(t)){for(var r=new Array(t.length),e=0;e<r.length;e++)r[e]=""+e;return r}if(Object.keys)return Object.keys(t);var r=[];for(var n in t)Wn(t,n)&&r.push(n);return r}_e._objectKeys=ko;function Qh(t){switch(typeof t){case"object":return JSON.parse(JSON.stringify(t));case"undefined":return null;default:return t}}_e._deepClone=Qh;function Xh(t){for(var e=0,r=t.length,n;e<r;){if(n=t.charCodeAt(e),n>=48&&n<=57){e++;continue}return!1}return!0}_e.isInteger=Xh;function Gn(t){return t.indexOf("/")===-1&&t.indexOf("~")===-1?t:t.replace(/~/g,"~0").replace(/\//g,"~1")}_e.escapePathComponent=Gn;function zh(t){return t.replace(/~1/g,"/").replace(/~0/g,"~")}_e.unescapePathComponent=zh;function Kn(t,e){var r;for(var n in t)if(Wn(t,n)){if(t[n]===e)return Gn(n)+"/";if(typeof t[n]=="object"&&(r=Kn(t[n],e),r!=""))return Gn(n)+"/"+r}return""}_e._getPathRecursive=Kn;function Zh(t,e){if(t===e)return"/";var r=Kn(t,e);if(r==="")throw new Error("Object not found in root");return"/"+r}_e.getPath=Zh;function Vn(t){if(t===void 0)return!0;if(t){if(Array.isArray(t)){for(var e=0,r=t.length;e<r;e++)if(Vn(t[e]))return!0}else if(typeof t=="object"){for(var n=ko(t),s=n.length,e=0;e<s;e++)if(Vn(t[n[e]]))return!0}}return!1}_e.hasUndefined=Vn;function Io(t,e){var r=[t];for(var n in e){var s=typeof e[n]=="object"?JSON.stringify(e[n],null,2):e[n];typeof s!="undefined"&&r.push(n+": "+s)}return r.join(`
`)}var ep=function(t){Vh(e,t);function e(r,n,s,i,o){var a=this.constructor,c=t.call(this,Io(r,{name:n,index:s,operation:i,tree:o}))||this;return c.name=n,c.index=s,c.operation=i,c.tree=o,Object.setPrototypeOf(c,a.prototype),c.message=Io(r,{name:n,index:s,operation:i,tree:o}),c}return e}(Error);_e.PatchError=ep});var Jn=v(B=>{Object.defineProperty(B,"__esModule",{value:!0});var be=Yr();B.JsonPatchError=be.PatchError;B.deepClone=be._deepClone;var Ft={add:function(t,e,r){return t[e]=this.value,{newDocument:r}},remove:function(t,e,r){var n=t[e];return delete t[e],{newDocument:r,removed:n}},replace:function(t,e,r){var n=t[e];return t[e]=this.value,{newDocument:r,removed:n}},move:function(t,e,r){var n=Ur(r,this.path);n&&(n=be._deepClone(n));var s=vt(r,{op:"remove",path:this.from}).removed;return vt(r,{op:"add",path:this.path,value:s}),{newDocument:r,removed:n}},copy:function(t,e,r){var n=Ur(r,this.from);return vt(r,{op:"add",path:this.path,value:be._deepClone(n)}),{newDocument:r}},test:function(t,e,r){return{newDocument:r,test:cr(t[e],this.value)}},_get:function(t,e,r){return this.value=t[e],{newDocument:r}}},tp={add:function(t,e,r){return be.isInteger(e)?t.splice(e,0,this.value):t[e]=this.value,{newDocument:r,index:e}},remove:function(t,e,r){var n=t.splice(e,1);return{newDocument:r,removed:n[0]}},replace:function(t,e,r){var n=t[e];return t[e]=this.value,{newDocument:r,removed:n}},move:Ft.move,copy:Ft.copy,test:Ft.test,_get:Ft._get};function Ur(t,e){if(e=="")return t;var r={op:"_get",path:e};return vt(t,r),r.value}B.getValueByPointer=Ur;function vt(t,e,r,n,s,i){if(r===void 0&&(r=!1),n===void 0&&(n=!0),s===void 0&&(s=!0),i===void 0&&(i=0),r&&(typeof r=="function"?r(e,0,t,e.path):Wr(e,0)),e.path===""){var o={newDocument:t};if(e.op==="add")return o.newDocument=e.value,o;if(e.op==="replace")return o.newDocument=e.value,o.removed=t,o;if(e.op==="move"||e.op==="copy")return o.newDocument=Ur(t,e.from),e.op==="move"&&(o.removed=t),o;if(e.op==="test"){if(o.test=cr(t,e.value),o.test===!1)throw new B.JsonPatchError("Test operation failed","TEST_OPERATION_FAILED",i,e,t);return o.newDocument=t,o}else{if(e.op==="remove")return o.removed=t,o.newDocument=null,o;if(e.op==="_get")return e.value=t,o;if(r)throw new B.JsonPatchError("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",i,e,t);return o}}else{n||(t=be._deepClone(t));var a=e.path||"",c=a.split("/"),u=t,l=1,f=c.length,h=void 0,y=void 0,p=void 0;for(typeof r=="function"?p=r:p=Wr;;){if(y=c[l],y&&y.indexOf("~")!=-1&&(y=be.unescapePathComponent(y)),s&&y=="__proto__")throw new TypeError("JSON-Patch: modifying `__proto__` prop is banned for security reasons, if this was on purpose, please set `banPrototypeModifications` flag false and pass it to this function. More info in fast-json-patch README");if(r&&h===void 0&&(u[y]===void 0?h=c.slice(0,l).join("/"):l==f-1&&(h=e.path),h!==void 0&&p(e,0,t,h)),l++,Array.isArray(u)){if(y==="-")y=u.length;else{if(r&&!be.isInteger(y))throw new B.JsonPatchError("Expected an unsigned base-10 integer value, making the new referenced value the array element with the zero-based index","OPERATION_PATH_ILLEGAL_ARRAY_INDEX",i,e,t);be.isInteger(y)&&(y=~~y)}if(l>=f){if(r&&e.op==="add"&&y>u.length)throw new B.JsonPatchError("The specified index MUST NOT be greater than the number of elements in the array","OPERATION_VALUE_OUT_OF_BOUNDS",i,e,t);var o=tp[e.op].call(e,u,y,t);if(o.test===!1)throw new B.JsonPatchError("Test operation failed","TEST_OPERATION_FAILED",i,e,t);return o}}else if(l>=f){var o=Ft[e.op].call(e,u,y,t);if(o.test===!1)throw new B.JsonPatchError("Test operation failed","TEST_OPERATION_FAILED",i,e,t);return o}if(u=u[y],r&&l<f&&(!u||typeof u!="object"))throw new B.JsonPatchError("Cannot perform operation at the desired path","OPERATION_PATH_UNRESOLVABLE",i,e,t)}}}B.applyOperation=vt;function $o(t,e,r,n,s){if(n===void 0&&(n=!0),s===void 0&&(s=!0),r&&!Array.isArray(e))throw new B.JsonPatchError("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");n||(t=be._deepClone(t));for(var i=new Array(e.length),o=0,a=e.length;o<a;o++)i[o]=vt(t,e[o],r,!0,s,o),t=i[o].newDocument;return i.newDocument=t,i}B.applyPatch=$o;function rp(t,e,r){var n=vt(t,e);if(n.test===!1)throw new B.JsonPatchError("Test operation failed","TEST_OPERATION_FAILED",r,e,t);return n.newDocument}B.applyReducer=rp;function Wr(t,e,r,n){if(typeof t!="object"||t===null||Array.isArray(t))throw new B.JsonPatchError("Operation is not an object","OPERATION_NOT_AN_OBJECT",e,t,r);if(Ft[t.op]){if(typeof t.path!="string")throw new B.JsonPatchError("Operation `path` property is not a string","OPERATION_PATH_INVALID",e,t,r);if(t.path.indexOf("/")!==0&&t.path.length>0)throw new B.JsonPatchError('Operation `path` property must start with "/"',"OPERATION_PATH_INVALID",e,t,r);if((t.op==="move"||t.op==="copy")&&typeof t.from!="string")throw new B.JsonPatchError("Operation `from` property is not present (applicable in `move` and `copy` operations)","OPERATION_FROM_REQUIRED",e,t,r);if((t.op==="add"||t.op==="replace"||t.op==="test")&&t.value===void 0)throw new B.JsonPatchError("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_REQUIRED",e,t,r);if((t.op==="add"||t.op==="replace"||t.op==="test")&&be.hasUndefined(t.value))throw new B.JsonPatchError("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_CANNOT_CONTAIN_UNDEFINED",e,t,r);if(r){if(t.op=="add"){var s=t.path.split("/").length,i=n.split("/").length;if(s!==i+1&&s!==i)throw new B.JsonPatchError("Cannot perform an `add` operation at the desired path","OPERATION_PATH_CANNOT_ADD",e,t,r)}else if(t.op==="replace"||t.op==="remove"||t.op==="_get"){if(t.path!==n)throw new B.JsonPatchError("Cannot perform the operation at a path that does not exist","OPERATION_PATH_UNRESOLVABLE",e,t,r)}else if(t.op==="move"||t.op==="copy"){var o={op:"_get",path:t.from,value:void 0},a=Do([o],r);if(a&&a.name==="OPERATION_PATH_UNRESOLVABLE")throw new B.JsonPatchError("Cannot perform the operation from a path that does not exist","OPERATION_FROM_UNRESOLVABLE",e,t,r)}}}else throw new B.JsonPatchError("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",e,t,r)}B.validator=Wr;function Do(t,e,r){try{if(!Array.isArray(t))throw new B.JsonPatchError("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");if(e)$o(be._deepClone(e),be._deepClone(t),r||!0);else{r=r||Wr;for(var n=0;n<t.length;n++)r(t[n],n,e,void 0)}}catch(s){if(s instanceof B.JsonPatchError)return s;throw s}}B.validate=Do;function cr(t,e){if(t===e)return!0;if(t&&e&&typeof t=="object"&&typeof e=="object"){var r=Array.isArray(t),n=Array.isArray(e),s,i,o;if(r&&n){if(i=t.length,i!=e.length)return!1;for(s=i;s--!=0;)if(!cr(t[s],e[s]))return!1;return!0}if(r!=n)return!1;var a=Object.keys(t);if(i=a.length,i!==Object.keys(e).length)return!1;for(s=i;s--!=0;)if(!e.hasOwnProperty(a[s]))return!1;for(s=i;s--!=0;)if(o=a[s],!cr(t[o],e[o]))return!1;return!0}return t!==t&&e!==e}B._areEquals=cr});var qo=v(Bt=>{Object.defineProperty(Bt,"__esModule",{value:!0});var de=Yr(),np=Jn(),Qn=new WeakMap,sp=function(){function t(e){this.observers=new Map,this.obj=e}return t}(),ip=function(){function t(e,r){this.callback=e,this.observer=r}return t}();function op(t){return Qn.get(t)}function ap(t,e){return t.observers.get(e)}function cp(t,e){t.observers.delete(e.callback)}function up(t,e){e.unobserve()}Bt.unobserve=up;function lp(t,e){var r=[],n,s=op(t);if(!s)s=new sp(t),Qn.set(t,s);else{var i=ap(s,e);n=i&&i.observer}if(n)return n;if(n={},s.value=de._deepClone(t),e){n.callback=e,n.next=null;var o=function(){Xn(n)},a=function(){clearTimeout(n.next),n.next=setTimeout(o)};typeof window!="undefined"&&(window.addEventListener("mouseup",a),window.addEventListener("keyup",a),window.addEventListener("mousedown",a),window.addEventListener("keydown",a),window.addEventListener("change",a))}return n.patches=r,n.object=t,n.unobserve=function(){Xn(n),clearTimeout(n.next),cp(s,n),typeof window!="undefined"&&(window.removeEventListener("mouseup",a),window.removeEventListener("keyup",a),window.removeEventListener("mousedown",a),window.removeEventListener("keydown",a),window.removeEventListener("change",a))},s.observers.set(e,new ip(e,n)),n}Bt.observe=lp;function Xn(t,e){e===void 0&&(e=!1);var r=Qn.get(t.object);zn(r.value,t.object,t.patches,"",e),t.patches.length&&np.applyPatch(r.value,t.patches);var n=t.patches;return n.length>0&&(t.patches=[],t.callback&&t.callback(n)),n}Bt.generate=Xn;function zn(t,e,r,n,s){if(e!==t){typeof e.toJSON=="function"&&(e=e.toJSON());for(var i=de._objectKeys(e),o=de._objectKeys(t),a=!1,c=!1,u=o.length-1;u>=0;u--){var l=o[u],f=t[l];if(de.hasOwnProperty(e,l)&&!(e[l]===void 0&&f!==void 0&&Array.isArray(e)===!1)){var h=e[l];typeof f=="object"&&f!=null&&typeof h=="object"&&h!=null&&Array.isArray(f)===Array.isArray(h)?zn(f,h,r,n+"/"+de.escapePathComponent(l),s):f!==h&&(a=!0,s&&r.push({op:"test",path:n+"/"+de.escapePathComponent(l),value:de._deepClone(f)}),r.push({op:"replace",path:n+"/"+de.escapePathComponent(l),value:de._deepClone(h)}))}else Array.isArray(t)===Array.isArray(e)?(s&&r.push({op:"test",path:n+"/"+de.escapePathComponent(l),value:de._deepClone(f)}),r.push({op:"remove",path:n+"/"+de.escapePathComponent(l)}),c=!0):(s&&r.push({op:"test",path:n,value:t}),r.push({op:"replace",path:n,value:e}),a=!0)}if(!(!c&&i.length==o.length))for(var u=0;u<i.length;u++){var l=i[u];!de.hasOwnProperty(t,l)&&e[l]!==void 0&&r.push({op:"add",path:n+"/"+de.escapePathComponent(l),value:de._deepClone(e[l])})}}}function fp(t,e,r){r===void 0&&(r=!1);var n=[];return zn(t,e,n,"",r),n}Bt.compare=fp});var Fo=v(At=>{var hp=Jn();Object.assign(At,hp);var pp=qo();Object.assign(At,pp);var Gr=Yr();At.JsonPatchError=Gr.PatchError;At.deepClone=Gr._deepClone;At.escapePathComponent=Gr.escapePathComponent;At.unescapePathComponent=Gr.unescapePathComponent});var Bo=v(ge=>{"use strict";var Oe=yt(),dp=qr();Ue();xr();ge.Alias=Oe.Alias;ge.Collection=Oe.Collection;ge.Merge=Oe.Merge;ge.Node=Oe.Node;ge.Pair=Oe.Pair;ge.Scalar=Oe.Scalar;ge.YAMLMap=Oe.YAMLMap;ge.YAMLSeq=Oe.YAMLSeq;ge.binaryOptions=Oe.binaryOptions;ge.boolOptions=Oe.boolOptions;ge.intOptions=Oe.intOptions;ge.nullOptions=Oe.nullOptions;ge.strOptions=Oe.strOptions;ge.Schema=dp.Schema});var Zn=v(me=>{var Se=Bo();me.binaryOptions=Se.binaryOptions;me.boolOptions=Se.boolOptions;me.intOptions=Se.intOptions;me.nullOptions=Se.nullOptions;me.strOptions=Se.strOptions;me.Schema=Se.Schema;me.Alias=Se.Alias;me.Collection=Se.Collection;me.Merge=Se.Merge;me.Node=Se.Node;me.Pair=Se.Pair;me.Scalar=Se.Scalar;me.YAMLMap=Se.YAMLMap;me.YAMLSeq=Se.YAMLSeq});var Ho=v(Pe=>{"use strict";var Ht=yt(),jt=Ue();Pe.findPair=Ht.findPair;Pe.parseMap=Ht.resolveMap;Pe.parseSeq=Ht.resolveSeq;Pe.stringifyNumber=Ht.stringifyNumber;Pe.stringifyString=Ht.stringifyString;Pe.toJSON=Ht.toJSON;Pe.Type=jt.Type;Pe.YAMLError=jt.YAMLError;Pe.YAMLReferenceError=jt.YAMLReferenceError;Pe.YAMLSemanticError=jt.YAMLSemanticError;Pe.YAMLSyntaxError=jt.YAMLSyntaxError;Pe.YAMLWarning=jt.YAMLWarning});var jo=v(Te=>{var Me=Ho();Te.findPair=Me.findPair;Te.toJSON=Me.toJSON;Te.parseMap=Me.parseMap;Te.parseSeq=Me.parseSeq;Te.stringifyNumber=Me.stringifyNumber;Te.stringifyString=Me.stringifyString;Te.Type=Me.Type;Te.YAMLError=Me.YAMLError;Te.YAMLReferenceError=Me.YAMLReferenceError;Te.YAMLSemanticError=Me.YAMLSemanticError;Te.YAMLSyntaxError=Me.YAMLSyntaxError;Te.YAMLWarning=Me.YAMLWarning});var Go=v(oe=>{"use strict";Object.defineProperty(oe,"__esModule",{value:!0});oe.parseSafeIndex=oe.cloneNode=oe.copyProperties=oe.toAstValue=oe.isScalar=oe.isYamlSeq=oe.isYamlMap=void 0;var nt=Zn();function Yo(t){return(t==null?void 0:t.type)==="MAP"||(t==null?void 0:t.type)==="FLOW_MAP"}oe.isYamlMap=Yo;function Uo(t){return(t==null?void 0:t.type)==="SEQ"||(t==null?void 0:t.type)==="FLOW_SEQ"}oe.isYamlSeq=Uo;function Wo(t){return t==null||typeof t=="boolean"||typeof t=="number"||typeof t=="string"}oe.isScalar=Wo;function es(t){if(Wo(t))return new nt.Scalar(t);if(Array.isArray(t)){let e=new nt.YAMLSeq;return e.items=t.map(r=>es(r)),e}else if(typeof t=="object"){let e=new nt.YAMLMap;return e.items=Object.entries(t).map(([r,n])=>new nt.Pair(r,es(n))),e}else throw new Error(`Invalid type: ${typeof t}`)}oe.toAstValue=es;function ur(t,e){t.comment=e.comment,t.commentBefore=e.commentBefore,t.spaceBefore=e.spaceBefore,t.tag=e.tag,t.type=e.type}oe.copyProperties=ur;function ts(t){if(!t)return t;if(t.type==="PLAIN"){let e=new nt.Scalar(t.value);return e.format=t.format,ur(e,t),e}else if(Yo(t)){let e=new nt.YAMLMap;return ur(e,t),t.items.map(r=>{let n=new nt.Pair(r.key,ts(r.value));ur(n,r),e.add(n)}),e}else if(Uo(t)){let e=new nt.YAMLSeq;return ur(e,t),t.items.forEach(r=>{e.add(ts(r))}),e}else throw new Error(`Cannot clone unknown type "${t.type}"`)}oe.cloneNode=ts;function gp(t,e){if(t==="-")return e;let r=parseInt(t);return r<0||r>e?NaN:r}oe.parseSafeIndex=gp});var Zo=v(st=>{"use strict";Object.defineProperty(st,"__esModule",{value:!0});st.yamlOverwrite=st.yamlDiffPatch=st.yamlPatch=void 0;var Ko=Fo(),Vo=Un(),Jo=Zn(),mp=jo(),ee=Go();function Qo(t,e,r){let n=r.split("/").slice(1);if(n.length===0)throw new Error(`Invalid patch path: ${r}`);let s=a=>"/"+n.slice(0,a===-1?void 0:a).join("/"),i=(0,Ko.unescapePathComponent)(n.pop()),o=t;return n.forEach((a,c)=>{var u;if((0,ee.isYamlSeq)(o)?o=o.get(parseInt(a),!0):o=o.get(a,!0),!(0,ee.isYamlMap)(o)&&!(0,ee.isYamlSeq)(o))throw new Error(`Can't ${e} node at path ${r}. ${s(c)} is ${(u=o)===null||u===void 0?void 0:u.type}.`)}),{segments:n,last:i,parent:o,pathTo:s}}function yp(t,e){let{last:r,parent:n,pathTo:s}=Qo(t,e.op,e.path);if(e.op==="add")if((0,ee.isYamlMap)(n))n.delete(r),n.add(new Jo.Pair(r,(0,ee.toAstValue)(e.value)));else{let i=(0,ee.parseSafeIndex)(r,n.items.length);if(i===n.items.length)n.add((0,ee.toAstValue)(e.value));else{if(isNaN(i))throw RangeError(`Can't ${e.op} index ${r} to array at ${s(-1)}`);n.items[i]=(0,ee.toAstValue)(e.value)}}else if(e.op==="replace")if((0,ee.isYamlMap)(n)){if(!n.has(r))throw new ReferenceError(`Can't ${e.op} ${e.path} since it doesn't already exist`);n.set(r,(0,ee.toAstValue)(e.value))}else{let i=(0,ee.parseSafeIndex)(r,n.items.length-1);if(isNaN(i))throw RangeError(`Can't ${e.op} index ${r} to array at ${s(-1)}`);n.items[i]=(0,ee.toAstValue)(e.value)}else if(e.op==="remove")if((0,ee.isYamlMap)(n))n.delete(r);else{let i=(0,ee.parseSafeIndex)(r,n.items.length-1);if(isNaN(i))throw RangeError(`Can't ${e.op} index ${r} to array at ${s(-1)}`);n.items.splice(i,1)}else if(e.op==="move"||e.op==="copy"){let{last:i,parent:o,pathTo:a}=Qo(t,e.op,e.from),c=(()=>{if((0,ee.isYamlMap)(o)){let l=o.get(i,!0);if(i===void 0)throw ReferenceError(`Can't ${e.op} index ${r} to array at `+a(-1));return e.op==="move"&&o.delete(i),l}else if((0,ee.isYamlSeq)(o)){let l=(0,ee.parseSafeIndex)(i,o.items.length-1);if(isNaN(l))throw RangeError(`Can't ${e.op} index ${i} to array at ${a(-1)}`);let f=o.get(l,!0);return e.op==="move"&&o.delete(l),f}else throw new ReferenceError(`Invalid type at ${e.from}`)})(),u=e.op==="move"?c:(0,ee.cloneNode)(c);if((0,ee.isYamlMap)(n))n.delete(r),n.set(r,u);else{let l=(0,ee.parseSafeIndex)(r,n.items.length);if(isNaN(l))throw RangeError(`Can't ${e.op} index ${r} to array at `+s(-1));l===n.items.length?n.add(u):n.items[l]=u}}else if(e.op==="test"){if(JSON.stringify(n.toJSON())!==JSON.stringify(e.value))throw TypeError(`Patch test failed at ${e.path}`)}else throw new Error(`Operation ${e.op} not supported`)}function Xo(t,e){let r=(0,Vo.parseDocument)(t,{keepCstNodes:!0,prettyErrors:!0,simpleKeys:!0});return r.contents||(r.contents=new Jo.YAMLMap,r.contents.type=mp.Type.MAP),e.forEach((n,s)=>{try{yp(r.contents,n)}catch(i){let o=new i.constructor(`Patch #${s+1} failed: ${i.message}`);throw o.stack=i.stack,o}}),r.toString()}st.yamlPatch=Xo;function zo(t,e,r){return Xo(t,(0,Ko.compare)(e,r))}st.yamlDiffPatch=zo;function _p(t,e){let r=(0,Vo.parse)(t);return zo(t,r,e)}st.yamlOverwrite=_p});var Vr=v(Kr=>{"use strict";Object.defineProperty(Kr,"__esModule",{value:!0});Kr.Pointer=void 0;function Sp(t){return t.replace(/~1/g,"/").replace(/~0/g,"~")}function Ep(t){return t.replace(/~/g,"~0").replace(/\//g,"~1")}var vp=function(){function t(e){e===void 0&&(e=[""]),this.tokens=e}return t.fromJSON=function(e){var r=e.split("/").map(Sp);if(r[0]!=="")throw new Error("Invalid JSON Pointer: "+e);return new t(r)},t.prototype.toString=function(){return this.tokens.map(Ep).join("/")},t.prototype.evaluate=function(e){for(var r=null,n="",s=e,i=1,o=this.tokens.length;i<o;i++)r=s,n=this.tokens[i],!(n=="__proto__"||n=="constructor"||n=="prototype")&&(s=(r||{})[n]);return{parent:r,key:n,value:s}},t.prototype.get=function(e){return this.evaluate(e).value},t.prototype.set=function(e,r){for(var n=e,s=1,i=this.tokens.length-1,o=this.tokens[s];s<i;s++)n=(n||{})[o];n&&(n[this.tokens[this.tokens.length-1]]=r)},t.prototype.push=function(e){this.tokens.push(e)},t.prototype.add=function(e){var r=this.tokens.concat(String(e));return new t(r)},t}();Kr.Pointer=vp});var ns=v(We=>{"use strict";Object.defineProperty(We,"__esModule",{value:!0});We.clone=We.objectType=We.hasOwnProperty=void 0;We.hasOwnProperty=Object.prototype.hasOwnProperty;function Ap(t){return t===void 0?"undefined":t===null?"null":Array.isArray(t)?"array":typeof t}We.objectType=Ap;function wp(t){return t!=null&&typeof t=="object"}function rs(t){if(!wp(t))return t;if(t.constructor==Array){for(var e=t.length,r=new Array(e),n=0;n<e;n++)r[n]=rs(t[n]);return r}if(t.constructor==Date){var s=new Date(+t);return s}var i={};for(var o in t)We.hasOwnProperty.call(t,o)&&(i[o]=rs(t[o]));return i}We.clone=rs});var os=v(Ee=>{"use strict";Object.defineProperty(Ee,"__esModule",{value:!0});Ee.diffAny=Ee.diffObjects=Ee.diffArrays=Ee.intersection=Ee.subtract=Ee.isDestructive=void 0;var bp=Vr(),lr=ns();function Op(t){var e=t.op;return e==="remove"||e==="replace"||e==="copy"||e==="move"}Ee.isDestructive=Op;function ss(t,e){var r={};for(var n in t)lr.hasOwnProperty.call(t,n)&&t[n]!==void 0&&(r[n]=1);for(var s in e)lr.hasOwnProperty.call(e,s)&&e[s]!==void 0&&delete r[s];return Object.keys(r)}Ee.subtract=ss;function ea(t){for(var e=t.length,r={},n=0;n<e;n++){var s=t[n];for(var i in s)lr.hasOwnProperty.call(s,i)&&s[i]!==void 0&&(r[i]=(r[i]||0)+1)}for(var i in r)r[i]<e&&delete r[i];return Object.keys(r)}Ee.intersection=ea;function Pp(t){return t.op==="add"}function Tp(t){return t.op==="remove"}function is(t,e){return{operations:t.operations.concat(e),cost:t.cost+1}}function ta(t,e,r,n){n===void 0&&(n=Jr);var s={"0,0":{operations:[],cost:0}};function i(l,f){var h=l+","+f,y=s[h];if(y===void 0){if(l>0&&f>0&&!n(t[l-1],e[f-1],new bp.Pointer).length)y=i(l-1,f-1);else{var p=[];if(l>0){var g=i(l-1,f),A={op:"remove",index:l-1};p.push(is(g,A))}if(f>0){var O=i(l,f-1),P={op:"add",index:l-1,value:e[f-1]};p.push(is(O,P))}if(l>0&&f>0){var R=i(l-1,f-1),L={op:"replace",index:l-1,original:t[l-1],value:e[f-1]};p.push(is(R,L))}var T=p.sort(function(Y,k){return Y.cost-k.cost})[0];y=T}s[h]=y}return y}var o=isNaN(t.length)||t.length<=0?0:t.length,a=isNaN(e.length)||e.length<=0?0:e.length,c=i(o,a).operations,u=c.reduce(function(l,f){var h=l[0],y=l[1];if(Pp(f)){var p=f.index+1+y,g=p<o+y?String(p):"-",A={op:f.op,path:r.add(g).toString(),value:f.value};return[h.concat(A),y+1]}else if(Tp(f)){var A={op:f.op,path:r.add(String(f.index+y)).toString()};return[h.concat(A),y-1]}else{var O=r.add(String(f.index+y)),P=n(f.original,f.value,O);return[h.concat.apply(h,P),y]}},[[],0])[0];return u}Ee.diffArrays=ta;function ra(t,e,r,n){n===void 0&&(n=Jr);var s=[];return ss(t,e).forEach(function(i){s.push({op:"remove",path:r.add(i).toString()})}),ss(e,t).forEach(function(i){s.push({op:"add",path:r.add(i).toString(),value:e[i]})}),ea([t,e]).forEach(function(i){s.push.apply(s,n(t[i],e[i],r.add(i)))}),s}Ee.diffObjects=ra;function Jr(t,e,r,n){if(n===void 0&&(n=Jr),t===e)return[];var s=lr.objectType(t),i=lr.objectType(e);return s=="array"&&i=="array"?ta(t,e,r,n):s=="object"&&i=="object"?ra(t,e,r,n):[{op:"replace",path:r.toString(),value:e}]}Ee.diffAny=Jr});var pa=v(J=>{"use strict";var as=J&&J.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&(n[i]=s[i])},t(e,r)};return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(J,"__esModule",{value:!0});J.apply=J.InvalidOperationError=J.test=J.copy=J.move=J.replace=J.remove=J.add=J.TestError=J.MissingError=void 0;var Ge=Vr(),na=ns(),Rp=os(),De=function(t){as(e,t);function e(r){var n=t.call(this,"Value required at path: "+r)||this;return n.path=r,n.name="MissingError",n}return e}(Error);J.MissingError=De;var sa=function(t){as(e,t);function e(r,n){var s=t.call(this,"Test failed: "+r+" != "+n)||this;return s.actual=r,s.expected=n,s.name="TestError",s}return e}(Error);J.TestError=sa;function cs(t,e,r){if(Array.isArray(t))if(e=="-")t.push(r);else{var n=parseInt(e,10);t.splice(n,0,r)}else t[e]=r}function ia(t,e){if(Array.isArray(t)){var r=parseInt(e,10);t.splice(r,1)}else delete t[e]}function oa(t,e){var r=Ge.Pointer.fromJSON(e.path).evaluate(t);return r.parent===void 0?new De(e.path):(cs(r.parent,r.key,na.clone(e.value)),null)}J.add=oa;function aa(t,e){var r=Ge.Pointer.fromJSON(e.path).evaluate(t);return r.value===void 0?new De(e.path):(ia(r.parent,r.key),null)}J.remove=aa;function ca(t,e){var r=Ge.Pointer.fromJSON(e.path).evaluate(t);if(r.parent===null)return new De(e.path);if(Array.isArray(r.parent)){if(parseInt(r.key,10)>=r.parent.length)return new De(e.path)}else if(r.value===void 0)return new De(e.path);return r.parent[r.key]=e.value,null}J.replace=ca;function ua(t,e){var r=Ge.Pointer.fromJSON(e.from).evaluate(t);if(r.value===void 0)return new De(e.from);var n=Ge.Pointer.fromJSON(e.path).evaluate(t);return n.parent===void 0?new De(e.path):(ia(r.parent,r.key),cs(n.parent,n.key,r.value),null)}J.move=ua;function la(t,e){var r=Ge.Pointer.fromJSON(e.from).evaluate(t);if(r.value===void 0)return new De(e.from);var n=Ge.Pointer.fromJSON(e.path).evaluate(t);return n.parent===void 0?new De(e.path):(cs(n.parent,n.key,na.clone(r.value)),null)}J.copy=la;function fa(t,e){var r=Ge.Pointer.fromJSON(e.path).evaluate(t);return Rp.diffAny(r.value,e.value,new Ge.Pointer).length?new sa(r.value,e.value):null}J.test=fa;var ha=function(t){as(e,t);function e(r){var n=t.call(this,"Invalid operation: "+r.op)||this;return n.operation=r,n.name="InvalidOperationError",n}return e}(Error);J.InvalidOperationError=ha;function Lp(t,e){switch(e.op){case"add":return oa(t,e);case"remove":return aa(t,e);case"replace":return ca(t,e);case"move":return ua(t,e);case"copy":return la(t,e);case"test":return fa(t,e)}return new ha(e)}J.apply=Lp});var ma=v(it=>{"use strict";Object.defineProperty(it,"__esModule",{value:!0});it.createTests=it.createPatch=it.applyPatch=void 0;var da=Vr(),Np=pa(),us=os();function Mp(t,e){return e.map(function(r){return Np.apply(t,r)})}it.applyPatch=Mp;function xp(t){function e(r,n,s){var i=t(r,n,s);return Array.isArray(i)?i:us.diffAny(r,n,s,e)}return e}function Cp(t,e,r){var n=new da.Pointer;return(r?xp(r):us.diffAny)(t,e,n)}it.createPatch=Cp;function ga(t,e){var r=da.Pointer.fromJSON(e).evaluate(t);if(r!==void 0)return{op:"test",path:e,value:r.value}}function kp(t,e){var r=new Array;return e.filter(us.isDestructive).forEach(function(n){var s=ga(t,n.path);if(s&&r.push(s),"from"in n){var i=ga(t,n.from);i&&r.push(i)}}),r}it.createTests=kp});var _a=v((q_,ya)=>{"use strict";ya.exports=(...t)=>[...new Set([].concat(...t))]});var ls=v((F_,va)=>{"use strict";var Ip=H("stream"),Sa=Ip.PassThrough,$p=Array.prototype.slice;va.exports=Dp;function Dp(){let t=[],e=$p.call(arguments),r=!1,n=e[e.length-1];n&&!Array.isArray(n)&&n.pipe==null?e.pop():n={};let s=n.end!==!1,i=n.pipeError===!0;n.objectMode==null&&(n.objectMode=!0),n.highWaterMark==null&&(n.highWaterMark=64*1024);let o=Sa(n);function a(){for(let l=0,f=arguments.length;l<f;l++)t.push(Ea(arguments[l],n));return c(),this}function c(){if(r)return;r=!0;let l=t.shift();if(!l){process.nextTick(u);return}Array.isArray(l)||(l=[l]);let f=l.length+1;function h(){--f>0||(r=!1,c())}function y(p){function g(){p.removeListener("merge2UnpipeEnd",g),p.removeListener("end",g),i&&p.removeListener("error",A),h()}function A(O){o.emit("error",O)}if(p._readableState.endEmitted)return h();p.on("merge2UnpipeEnd",g),p.on("end",g),i&&p.on("error",A),p.pipe(o,{end:!1}),p.resume()}for(let p=0;p<l.length;p++)y(l[p]);h()}function u(){r=!1,o.emit("queueDrain"),s&&o.end()}return o.setMaxListeners(0),o.add=a,o.on("unpipe",function(l){l.emit("merge2UnpipeEnd")}),e.length&&a.apply(null,e),o}function Ea(t,e){if(Array.isArray(t))for(let r=0,n=t.length;r<n;r++)t[r]=Ea(t[r],e);else{if(!t._readableState&&t.pipe&&(t=t.pipe(Sa(e))),!t._readableState||!t.pause||!t.pipe)throw new Error("Only readable stream can be merged.");t.pause()}return t}});var Aa=v(Yt=>{"use strict";Object.defineProperty(Yt,"__esModule",{value:!0});Yt.splitWhen=Yt.flatten=void 0;function qp(t){return t.reduce((e,r)=>[].concat(e,r),[])}Yt.flatten=qp;function Fp(t,e){let r=[[]],n=0;for(let s of t)e(s)?(n++,r[n]=[]):r[n].push(s);return r}Yt.splitWhen=Fp});var wa=v(Qr=>{"use strict";Object.defineProperty(Qr,"__esModule",{value:!0});Qr.isEnoentCodeError=void 0;function Bp(t){return t.code==="ENOENT"}Qr.isEnoentCodeError=Bp});var Oa=v(Xr=>{"use strict";Object.defineProperty(Xr,"__esModule",{value:!0});Xr.createDirentFromStats=void 0;var ba=class{constructor(e,r){this.name=e,this.isBlockDevice=r.isBlockDevice.bind(r),this.isCharacterDevice=r.isCharacterDevice.bind(r),this.isDirectory=r.isDirectory.bind(r),this.isFIFO=r.isFIFO.bind(r),this.isFile=r.isFile.bind(r),this.isSocket=r.isSocket.bind(r),this.isSymbolicLink=r.isSymbolicLink.bind(r)}};function Hp(t,e){return new ba(t,e)}Xr.createDirentFromStats=Hp});var Pa=v(qe=>{"use strict";Object.defineProperty(qe,"__esModule",{value:!0});qe.removeLeadingDotSegment=qe.escape=qe.makeAbsolute=qe.unixify=void 0;var jp=H("path"),Yp=2,Up=/(\\?)([()*?[\]{|}]|^!|[!+@](?=\())/g;function Wp(t){return t.replace(/\\/g,"/")}qe.unixify=Wp;function Gp(t,e){return jp.resolve(t,e)}qe.makeAbsolute=Gp;function Kp(t){return t.replace(Up,"\\$2")}qe.escape=Kp;function Vp(t){if(t.charAt(0)==="."){let e=t.charAt(1);if(e==="/"||e==="\\")return t.slice(Yp)}return t}qe.removeLeadingDotSegment=Vp});var Ra=v((U_,Ta)=>{Ta.exports=function(e){if(typeof e!="string"||e==="")return!1;for(var r;r=/(\\).|([@?!+*]\(.*\))/g.exec(e);){if(r[2])return!0;e=e.slice(r.index+r[0].length)}return!1}});var Ma=v((W_,Na)=>{var Jp=Ra(),La={"{":"}","(":")","[":"]"},Qp=function(t){if(t[0]==="!")return!0;for(var e=0,r=-2,n=-2,s=-2,i=-2,o=-2;e<t.length;){if(t[e]==="*"||t[e+1]==="?"&&/[\].+)]/.test(t[e])||n!==-1&&t[e]==="["&&t[e+1]!=="]"&&(n<e&&(n=t.indexOf("]",e)),n>e&&(o===-1||o>n||(o=t.indexOf("\\",e),o===-1||o>n)))||s!==-1&&t[e]==="{"&&t[e+1]!=="}"&&(s=t.indexOf("}",e),s>e&&(o=t.indexOf("\\",e),o===-1||o>s))||i!==-1&&t[e]==="("&&t[e+1]==="?"&&/[:!=]/.test(t[e+2])&&t[e+3]!==")"&&(i=t.indexOf(")",e),i>e&&(o=t.indexOf("\\",e),o===-1||o>i))||r!==-1&&t[e]==="("&&t[e+1]!=="|"&&(r<e&&(r=t.indexOf("|",e)),r!==-1&&t[r+1]!==")"&&(i=t.indexOf(")",r),i>r&&(o=t.indexOf("\\",r),o===-1||o>i))))return!0;if(t[e]==="\\"){var a=t[e+1];e+=2;var c=La[a];if(c){var u=t.indexOf(c,e);u!==-1&&(e=u+1)}if(t[e]==="!")return!0}else e++}return!1},Xp=function(t){if(t[0]==="!")return!0;for(var e=0;e<t.length;){if(/[*?{}()[\]]/.test(t[e]))return!0;if(t[e]==="\\"){var r=t[e+1];e+=2;var n=La[r];if(n){var s=t.indexOf(n,e);s!==-1&&(e=s+1)}if(t[e]==="!")return!0}else e++}return!1};Na.exports=function(e,r){if(typeof e!="string"||e==="")return!1;if(Jp(e))return!0;var n=Qp;return r&&r.strict===!1&&(n=Xp),n(e)}});var Ca=v((G_,xa)=>{"use strict";var zp=Ma(),Zp=H("path").posix.dirname,ed=H("os").platform()==="win32",fs="/",td=/\\/g,rd=/[\{\[].*[\}\]]$/,nd=/(^|[^\\])([\{\[]|\([^\)]+$)/,sd=/\\([\!\*\?\|\[\]\(\)\{\}])/g;xa.exports=function(e,r){var n=Object.assign({flipBackslashes:!0},r);n.flipBackslashes&&ed&&e.indexOf(fs)<0&&(e=e.replace(td,fs)),rd.test(e)&&(e+=fs),e+="a";do e=Zp(e);while(zp(e)||nd.test(e));return e.replace(sd,"$1")}});var zr=v(xe=>{"use strict";xe.isInteger=t=>typeof t=="number"?Number.isInteger(t):typeof t=="string"&&t.trim()!==""?Number.isInteger(Number(t)):!1;xe.find=(t,e)=>t.nodes.find(r=>r.type===e);xe.exceedsLimit=(t,e,r=1,n)=>n===!1||!xe.isInteger(t)||!xe.isInteger(e)?!1:(Number(e)-Number(t))/Number(r)>=n;xe.escapeNode=(t,e=0,r)=>{let n=t.nodes[e];!n||(r&&n.type===r||n.type==="open"||n.type==="close")&&n.escaped!==!0&&(n.value="\\"+n.value,n.escaped=!0)};xe.encloseBrace=t=>t.type!=="brace"?!1:t.commas>>0+t.ranges>>0==0?(t.invalid=!0,!0):!1;xe.isInvalidBrace=t=>t.type!=="brace"?!1:t.invalid===!0||t.dollar?!0:t.commas>>0+t.ranges>>0==0||t.open!==!0||t.close!==!0?(t.invalid=!0,!0):!1;xe.isOpenOrClose=t=>t.type==="open"||t.type==="close"?!0:t.open===!0||t.close===!0;xe.reduce=t=>t.reduce((e,r)=>(r.type==="text"&&e.push(r.value),r.type==="range"&&(r.type="text"),e),[]);xe.flatten=(...t)=>{let e=[],r=n=>{for(let s=0;s<n.length;s++){let i=n[s];Array.isArray(i)?r(i,e):i!==void 0&&e.push(i)}return e};return r(t),e}});var Zr=v((V_,Ia)=>{"use strict";var ka=zr();Ia.exports=(t,e={})=>{let r=(n,s={})=>{let i=e.escapeInvalid&&ka.isInvalidBrace(s),o=n.invalid===!0&&e.escapeInvalid===!0,a="";if(n.value)return(i||o)&&ka.isOpenOrClose(n)?"\\"+n.value:n.value;if(n.value)return n.value;if(n.nodes)for(let c of n.nodes)a+=r(c);return a};return r(t)}});var Da=v((J_,$a)=>{"use strict";$a.exports=function(t){return typeof t=="number"?t-t==0:typeof t=="string"&&t.trim()!==""?Number.isFinite?Number.isFinite(+t):isFinite(+t):!1}});var Ga=v((Q_,Wa)=>{"use strict";var qa=Da(),wt=(t,e,r)=>{if(qa(t)===!1)throw new TypeError("toRegexRange: expected the first argument to be a number");if(e===void 0||t===e)return String(t);if(qa(e)===!1)throw new TypeError("toRegexRange: expected the second argument to be a number.");let n=F({relaxZeros:!0},r);typeof n.strictZeros=="boolean"&&(n.relaxZeros=n.strictZeros===!1);let s=String(n.relaxZeros),i=String(n.shorthand),o=String(n.capture),a=String(n.wrap),c=t+":"+e+"="+s+i+o+a;if(wt.cache.hasOwnProperty(c))return wt.cache[c].result;let u=Math.min(t,e),l=Math.max(t,e);if(Math.abs(u-l)===1){let g=t+"|"+e;return n.capture?`(${g})`:n.wrap===!1?g:`(?:${g})`}let f=Ua(t)||Ua(e),h={min:t,max:e,a:u,b:l},y=[],p=[];if(f&&(h.isPadded=f,h.maxLen=String(h.max).length),u<0){let g=l<0?Math.abs(l):1;p=Fa(g,Math.abs(u),h,n),u=h.a=0}return l>=0&&(y=Fa(u,l,h,n)),h.negatives=p,h.positives=y,h.result=id(p,y,n),n.capture===!0?h.result=`(${h.result})`:n.wrap!==!1&&y.length+p.length>1&&(h.result=`(?:${h.result})`),wt.cache[c]=h,h.result};function id(t,e,r){let n=hs(t,e,"-",!1,r)||[],s=hs(e,t,"",!1,r)||[],i=hs(t,e,"-?",!0,r)||[];return n.concat(i).concat(s).join("|")}function od(t,e){let r=1,n=1,s=Ha(t,r),i=new Set([e]);for(;t<=s&&s<=e;)i.add(s),r+=1,s=Ha(t,r);for(s=ja(e+1,n)-1;t<s&&s<=e;)i.add(s),n+=1,s=ja(e+1,n)-1;return i=[...i],i.sort(ud),i}function ad(t,e,r){if(t===e)return{pattern:t,count:[],digits:0};let n=cd(t,e),s=n.length,i="",o=0;for(let a=0;a<s;a++){let[c,u]=n[a];c===u?i+=c:c!=="0"||u!=="9"?i+=ld(c,u,r):o++}return o&&(i+=r.shorthand===!0?"\\d":"[0-9]"),{pattern:i,count:[o],digits:s}}function Fa(t,e,r,n){let s=od(t,e),i=[],o=t,a;for(let c=0;c<s.length;c++){let u=s[c],l=ad(String(o),String(u),n),f="";if(!r.isPadded&&a&&a.pattern===l.pattern){a.count.length>1&&a.count.pop(),a.count.push(l.count[0]),a.string=a.pattern+Ya(a.count),o=u+1;continue}r.isPadded&&(f=fd(u,r,n)),l.string=f+l.pattern+Ya(l.count),i.push(l),o=u+1,a=l}return i}function hs(t,e,r,n,s){let i=[];for(let o of t){let{string:a}=o;!n&&!Ba(e,"string",a)&&i.push(r+a),n&&Ba(e,"string",a)&&i.push(r+a)}return i}function cd(t,e){let r=[];for(let n=0;n<t.length;n++)r.push([t[n],e[n]]);return r}function ud(t,e){return t>e?1:e>t?-1:0}function Ba(t,e,r){return t.some(n=>n[e]===r)}function Ha(t,e){return Number(String(t).slice(0,-e)+"9".repeat(e))}function ja(t,e){return t-t%Math.pow(10,e)}function Ya(t){let[e=0,r=""]=t;return r||e>1?`{${e+(r?","+r:"")}}`:""}function ld(t,e,r){return`[${t}${e-t==1?"":"-"}${e}]`}function Ua(t){return/^-?(0+)\d/.test(t)}function fd(t,e,r){if(!e.isPadded)return t;let n=Math.abs(e.maxLen-String(t).length),s=r.relaxZeros!==!1;switch(n){case 0:return"";case 1:return s?"0?":"0";case 2:return s?"0{0,2}":"00";default:return s?`0{0,${n}}`:`0{${n}}`}}wt.cache={};wt.clearCache=()=>wt.cache={};Wa.exports=wt});var gs=v((X_,ec)=>{"use strict";var hd=H("util"),Ka=Ga(),Va=t=>t!==null&&typeof t=="object"&&!Array.isArray(t),pd=t=>e=>t===!0?Number(e):String(e),ps=t=>typeof t=="number"||typeof t=="string"&&t!=="",fr=t=>Number.isInteger(+t),ds=t=>{let e=`${t}`,r=-1;if(e[0]==="-"&&(e=e.slice(1)),e==="0")return!1;for(;e[++r]==="0";);return r>0},dd=(t,e,r)=>typeof t=="string"||typeof e=="string"?!0:r.stringify===!0,gd=(t,e,r)=>{if(e>0){let n=t[0]==="-"?"-":"";n&&(t=t.slice(1)),t=n+t.padStart(n?e-1:e,"0")}return r===!1?String(t):t},Ja=(t,e)=>{let r=t[0]==="-"?"-":"";for(r&&(t=t.slice(1),e--);t.length<e;)t="0"+t;return r?"-"+t:t},md=(t,e)=>{t.negatives.sort((o,a)=>o<a?-1:o>a?1:0),t.positives.sort((o,a)=>o<a?-1:o>a?1:0);let r=e.capture?"":"?:",n="",s="",i;return t.positives.length&&(n=t.positives.join("|")),t.negatives.length&&(s=`-(${r}${t.negatives.join("|")})`),n&&s?i=`${n}|${s}`:i=n||s,e.wrap?`(${r}${i})`:i},Qa=(t,e,r,n)=>{if(r)return Ka(t,e,F({wrap:!1},n));let s=String.fromCharCode(t);if(t===e)return s;let i=String.fromCharCode(e);return`[${s}-${i}]`},Xa=(t,e,r)=>{if(Array.isArray(t)){let n=r.wrap===!0,s=r.capture?"":"?:";return n?`(${s}${t.join("|")})`:t.join("|")}return Ka(t,e,r)},za=(...t)=>new RangeError("Invalid range arguments: "+hd.inspect(...t)),Za=(t,e,r)=>{if(r.strictRanges===!0)throw za([t,e]);return[]},yd=(t,e)=>{if(e.strictRanges===!0)throw new TypeError(`Expected step "${t}" to be a number`);return[]},_d=(t,e,r=1,n={})=>{let s=Number(t),i=Number(e);if(!Number.isInteger(s)||!Number.isInteger(i)){if(n.strictRanges===!0)throw za([t,e]);return[]}s===0&&(s=0),i===0&&(i=0);let o=s>i,a=String(t),c=String(e),u=String(r);r=Math.max(Math.abs(r),1);let l=ds(a)||ds(c)||ds(u),f=l?Math.max(a.length,c.length,u.length):0,h=l===!1&&dd(t,e,n)===!1,y=n.transform||pd(h);if(n.toRegex&&r===1)return Qa(Ja(t,f),Ja(e,f),!0,n);let p={negatives:[],positives:[]},g=P=>p[P<0?"negatives":"positives"].push(Math.abs(P)),A=[],O=0;for(;o?s>=i:s<=i;)n.toRegex===!0&&r>1?g(s):A.push(gd(y(s,O),f,h)),s=o?s-r:s+r,O++;return n.toRegex===!0?r>1?md(p,n):Xa(A,null,F({wrap:!1},n)):A},Sd=(t,e,r=1,n={})=>{if(!fr(t)&&t.length>1||!fr(e)&&e.length>1)return Za(t,e,n);let s=n.transform||(h=>String.fromCharCode(h)),i=`${t}`.charCodeAt(0),o=`${e}`.charCodeAt(0),a=i>o,c=Math.min(i,o),u=Math.max(i,o);if(n.toRegex&&r===1)return Qa(c,u,!1,n);let l=[],f=0;for(;a?i>=o:i<=o;)l.push(s(i,f)),i=a?i-r:i+r,f++;return n.toRegex===!0?Xa(l,null,{wrap:!1,options:n}):l},en=(t,e,r,n={})=>{if(e==null&&ps(t))return[t];if(!ps(t)||!ps(e))return Za(t,e,n);if(typeof r=="function")return en(t,e,1,{transform:r});if(Va(r))return en(t,e,0,r);let s=F({},n);return s.capture===!0&&(s.wrap=!0),r=r||s.step||1,fr(r)?fr(t)&&fr(e)?_d(t,e,r,s):Sd(t,e,Math.max(Math.abs(r),1),s):r!=null&&!Va(r)?yd(r,s):en(t,e,1,r)};ec.exports=en});var nc=v((z_,rc)=>{"use strict";var Ed=gs(),tc=zr(),vd=(t,e={})=>{let r=(n,s={})=>{let i=tc.isInvalidBrace(s),o=n.invalid===!0&&e.escapeInvalid===!0,a=i===!0||o===!0,c=e.escapeInvalid===!0?"\\":"",u="";if(n.isOpen===!0||n.isClose===!0)return c+n.value;if(n.type==="open")return a?c+n.value:"(";if(n.type==="close")return a?c+n.value:")";if(n.type==="comma")return n.prev.type==="comma"?"":a?n.value:"|";if(n.value)return n.value;if(n.nodes&&n.ranges>0){let l=tc.reduce(n.nodes),f=Ed(...l,ne(F({},e),{wrap:!1,toRegex:!0}));if(f.length!==0)return l.length>1&&f.length>1?`(${f})`:f}if(n.nodes)for(let l of n.nodes)u+=r(l,n);return u};return r(t)};rc.exports=vd});var oc=v((Z_,ic)=>{"use strict";var Ad=gs(),sc=Zr(),Ut=zr(),bt=(t="",e="",r=!1)=>{let n=[];if(t=[].concat(t),e=[].concat(e),!e.length)return t;if(!t.length)return r?Ut.flatten(e).map(s=>`{${s}}`):e;for(let s of t)if(Array.isArray(s))for(let i of s)n.push(bt(i,e,r));else for(let i of e)r===!0&&typeof i=="string"&&(i=`{${i}}`),n.push(Array.isArray(i)?bt(s,i,r):s+i);return Ut.flatten(n)},wd=(t,e={})=>{let r=e.rangeLimit===void 0?1e3:e.rangeLimit,n=(s,i={})=>{s.queue=[];let o=i,a=i.queue;for(;o.type!=="brace"&&o.type!=="root"&&o.parent;)o=o.parent,a=o.queue;if(s.invalid||s.dollar){a.push(bt(a.pop(),sc(s,e)));return}if(s.type==="brace"&&s.invalid!==!0&&s.nodes.length===2){a.push(bt(a.pop(),["{}"]));return}if(s.nodes&&s.ranges>0){let f=Ut.reduce(s.nodes);if(Ut.exceedsLimit(...f,e.step,r))throw new RangeError("expanded array length exceeds range limit. Use options.rangeLimit to increase or disable the limit.");let h=Ad(...f,e);h.length===0&&(h=sc(s,e)),a.push(bt(a.pop(),h)),s.nodes=[];return}let c=Ut.encloseBrace(s),u=s.queue,l=s;for(;l.type!=="brace"&&l.type!=="root"&&l.parent;)l=l.parent,u=l.queue;for(let f=0;f<s.nodes.length;f++){let h=s.nodes[f];if(h.type==="comma"&&s.type==="brace"){f===1&&u.push(""),u.push("");continue}if(h.type==="close"){a.push(bt(a.pop(),u,c));continue}if(h.value&&h.type!=="open"){u.push(bt(u.pop(),h.value));continue}h.nodes&&n(h,s)}return u};return Ut.flatten(n(t))};ic.exports=wd});var cc=v((eS,ac)=>{"use strict";ac.exports={MAX_LENGTH:1024*64,CHAR_0:"0",CHAR_9:"9",CHAR_UPPERCASE_A:"A",CHAR_LOWERCASE_A:"a",CHAR_UPPERCASE_Z:"Z",CHAR_LOWERCASE_Z:"z",CHAR_LEFT_PARENTHESES:"(",CHAR_RIGHT_PARENTHESES:")",CHAR_ASTERISK:"*",CHAR_AMPERSAND:"&",CHAR_AT:"@",CHAR_BACKSLASH:"\\",CHAR_BACKTICK:"`",CHAR_CARRIAGE_RETURN:"\r",CHAR_CIRCUMFLEX_ACCENT:"^",CHAR_COLON:":",CHAR_COMMA:",",CHAR_DOLLAR:"$",CHAR_DOT:".",CHAR_DOUBLE_QUOTE:'"',CHAR_EQUAL:"=",CHAR_EXCLAMATION_MARK:"!",CHAR_FORM_FEED:"\f",CHAR_FORWARD_SLASH:"/",CHAR_HASH:"#",CHAR_HYPHEN_MINUS:"-",CHAR_LEFT_ANGLE_BRACKET:"<",CHAR_LEFT_CURLY_BRACE:"{",CHAR_LEFT_SQUARE_BRACKET:"[",CHAR_LINE_FEED:`
`,CHAR_NO_BREAK_SPACE:"\xA0",CHAR_PERCENT:"%",CHAR_PLUS:"+",CHAR_QUESTION_MARK:"?",CHAR_RIGHT_ANGLE_BRACKET:">",CHAR_RIGHT_CURLY_BRACE:"}",CHAR_RIGHT_SQUARE_BRACKET:"]",CHAR_SEMICOLON:";",CHAR_SINGLE_QUOTE:"'",CHAR_SPACE:" ",CHAR_TAB:"	",CHAR_UNDERSCORE:"_",CHAR_VERTICAL_LINE:"|",CHAR_ZERO_WIDTH_NOBREAK_SPACE:"\uFEFF"}});var pc=v((tS,hc)=>{"use strict";var bd=Zr(),{MAX_LENGTH:uc,CHAR_BACKSLASH:ms,CHAR_BACKTICK:Od,CHAR_COMMA:Pd,CHAR_DOT:Td,CHAR_LEFT_PARENTHESES:Rd,CHAR_RIGHT_PARENTHESES:Ld,CHAR_LEFT_CURLY_BRACE:Nd,CHAR_RIGHT_CURLY_BRACE:Md,CHAR_LEFT_SQUARE_BRACKET:lc,CHAR_RIGHT_SQUARE_BRACKET:fc,CHAR_DOUBLE_QUOTE:xd,CHAR_SINGLE_QUOTE:Cd,CHAR_NO_BREAK_SPACE:kd,CHAR_ZERO_WIDTH_NOBREAK_SPACE:Id}=cc(),$d=(t,e={})=>{if(typeof t!="string")throw new TypeError("Expected a string");let r=e||{},n=typeof r.maxLength=="number"?Math.min(uc,r.maxLength):uc;if(t.length>n)throw new SyntaxError(`Input length (${t.length}), exceeds max characters (${n})`);let s={type:"root",input:t,nodes:[]},i=[s],o=s,a=s,c=0,u=t.length,l=0,f=0,h,y={},p=()=>t[l++],g=A=>{if(A.type==="text"&&a.type==="dot"&&(a.type="text"),a&&a.type==="text"&&A.type==="text"){a.value+=A.value;return}return o.nodes.push(A),A.parent=o,A.prev=a,a=A,A};for(g({type:"bos"});l<u;)if(o=i[i.length-1],h=p(),!(h===Id||h===kd)){if(h===ms){g({type:"text",value:(e.keepEscaping?h:"")+p()});continue}if(h===fc){g({type:"text",value:"\\"+h});continue}if(h===lc){c++;let A=!0,O;for(;l<u&&(O=p());){if(h+=O,O===lc){c++;continue}if(O===ms){h+=p();continue}if(O===fc&&(c--,c===0))break}g({type:"text",value:h});continue}if(h===Rd){o=g({type:"paren",nodes:[]}),i.push(o),g({type:"text",value:h});continue}if(h===Ld){if(o.type!=="paren"){g({type:"text",value:h});continue}o=i.pop(),g({type:"text",value:h}),o=i[i.length-1];continue}if(h===xd||h===Cd||h===Od){let A=h,O;for(e.keepQuotes!==!0&&(h="");l<u&&(O=p());){if(O===ms){h+=O+p();continue}if(O===A){e.keepQuotes===!0&&(h+=O);break}h+=O}g({type:"text",value:h});continue}if(h===Nd){f++;let A=a.value&&a.value.slice(-1)==="$"||o.dollar===!0;o=g({type:"brace",open:!0,close:!1,dollar:A,depth:f,commas:0,ranges:0,nodes:[]}),i.push(o),g({type:"open",value:h});continue}if(h===Md){if(o.type!=="brace"){g({type:"text",value:h});continue}let A="close";o=i.pop(),o.close=!0,g({type:A,value:h}),f--,o=i[i.length-1];continue}if(h===Pd&&f>0){if(o.ranges>0){o.ranges=0;let A=o.nodes.shift();o.nodes=[A,{type:"text",value:bd(o)}]}g({type:"comma",value:h}),o.commas++;continue}if(h===Td&&f>0&&o.commas===0){let A=o.nodes;if(f===0||A.length===0){g({type:"text",value:h});continue}if(a.type==="dot"){if(o.range=[],a.value+=h,a.type="range",o.nodes.length!==3&&o.nodes.length!==5){o.invalid=!0,o.ranges=0,a.type="text";continue}o.ranges++,o.args=[];continue}if(a.type==="range"){A.pop();let O=A[A.length-1];O.value+=a.value+h,a=O,o.ranges--;continue}g({type:"dot",value:h});continue}g({type:"text",value:h})}do if(o=i.pop(),o.type!=="root"){o.nodes.forEach(P=>{P.nodes||(P.type==="open"&&(P.isOpen=!0),P.type==="close"&&(P.isClose=!0),P.nodes||(P.type="text"),P.invalid=!0)});let A=i[i.length-1],O=A.nodes.indexOf(o);A.nodes.splice(O,1,...o.nodes)}while(i.length>0);return g({type:"eos"}),s};hc.exports=$d});var mc=v((rS,gc)=>{"use strict";var dc=Zr(),Dd=nc(),qd=oc(),Fd=pc(),Re=(t,e={})=>{let r=[];if(Array.isArray(t))for(let n of t){let s=Re.create(n,e);Array.isArray(s)?r.push(...s):r.push(s)}else r=[].concat(Re.create(t,e));return e&&e.expand===!0&&e.nodupes===!0&&(r=[...new Set(r)]),r};Re.parse=(t,e={})=>Fd(t,e);Re.stringify=(t,e={})=>typeof t=="string"?dc(Re.parse(t,e),e):dc(t,e);Re.compile=(t,e={})=>(typeof t=="string"&&(t=Re.parse(t,e)),Dd(t,e));Re.expand=(t,e={})=>{typeof t=="string"&&(t=Re.parse(t,e));let r=qd(t,e);return e.noempty===!0&&(r=r.filter(Boolean)),e.nodupes===!0&&(r=[...new Set(r)]),r};Re.create=(t,e={})=>t===""||t.length<3?[t]:e.expand!==!0?Re.compile(t,e):Re.expand(t,e);gc.exports=Re});var hr=v((nS,vc)=>{"use strict";var Bd=H("path"),Fe="\\\\/",yc=`[^${Fe}]`,Ke="\\.",Hd="\\+",jd="\\?",tn="\\/",Yd="(?=.)",_c="[^/]",ys=`(?:${tn}|$)`,Sc=`(?:^|${tn})`,_s=`${Ke}{1,2}${ys}`,Ud=`(?!${Ke})`,Wd=`(?!${Sc}${_s})`,Gd=`(?!${Ke}{0,1}${ys})`,Kd=`(?!${_s})`,Vd=`[^.${tn}]`,Jd=`${_c}*?`,Ec={DOT_LITERAL:Ke,PLUS_LITERAL:Hd,QMARK_LITERAL:jd,SLASH_LITERAL:tn,ONE_CHAR:Yd,QMARK:_c,END_ANCHOR:ys,DOTS_SLASH:_s,NO_DOT:Ud,NO_DOTS:Wd,NO_DOT_SLASH:Gd,NO_DOTS_SLASH:Kd,QMARK_NO_DOT:Vd,STAR:Jd,START_ANCHOR:Sc},Qd=ne(F({},Ec),{SLASH_LITERAL:`[${Fe}]`,QMARK:yc,STAR:`${yc}*?`,DOTS_SLASH:`${Ke}{1,2}(?:[${Fe}]|$)`,NO_DOT:`(?!${Ke})`,NO_DOTS:`(?!(?:^|[${Fe}])${Ke}{1,2}(?:[${Fe}]|$))`,NO_DOT_SLASH:`(?!${Ke}{0,1}(?:[${Fe}]|$))`,NO_DOTS_SLASH:`(?!${Ke}{1,2}(?:[${Fe}]|$))`,QMARK_NO_DOT:`[^.${Fe}]`,START_ANCHOR:`(?:^|[${Fe}])`,END_ANCHOR:`(?:[${Fe}]|$)`}),Xd={alnum:"a-zA-Z0-9",alpha:"a-zA-Z",ascii:"\\x00-\\x7F",blank:" \\t",cntrl:"\\x00-\\x1F\\x7F",digit:"0-9",graph:"\\x21-\\x7E",lower:"a-z",print:"\\x20-\\x7E ",punct:"\\-!\"#$%&'()\\*+,./:;<=>?@[\\]^_`{|}~",space:" \\t\\r\\n\\v\\f",upper:"A-Z",word:"A-Za-z0-9_",xdigit:"A-Fa-f0-9"};vc.exports={MAX_LENGTH:1024*64,POSIX_REGEX_SOURCE:Xd,REGEX_BACKSLASH:/\\(?![*+?^${}(|)[\]])/g,REGEX_NON_SPECIAL_CHARS:/^[^@![\].,$*+?^{}()|\\/]+/,REGEX_SPECIAL_CHARS:/[-*+?.^${}(|)[\]]/,REGEX_SPECIAL_CHARS_BACKREF:/(\\?)((\W)(\3*))/g,REGEX_SPECIAL_CHARS_GLOBAL:/([-*+?.^${}(|)[\]])/g,REGEX_REMOVE_BACKSLASH:/(?:\[.*?[^\\]\]|\\(?=.))/g,REPLACEMENTS:{"***":"*","**/**":"**","**/**/**":"**"},CHAR_0:48,CHAR_9:57,CHAR_UPPERCASE_A:65,CHAR_LOWERCASE_A:97,CHAR_UPPERCASE_Z:90,CHAR_LOWERCASE_Z:122,CHAR_LEFT_PARENTHESES:40,CHAR_RIGHT_PARENTHESES:41,CHAR_ASTERISK:42,CHAR_AMPERSAND:38,CHAR_AT:64,CHAR_BACKWARD_SLASH:92,CHAR_CARRIAGE_RETURN:13,CHAR_CIRCUMFLEX_ACCENT:94,CHAR_COLON:58,CHAR_COMMA:44,CHAR_DOT:46,CHAR_DOUBLE_QUOTE:34,CHAR_EQUAL:61,CHAR_EXCLAMATION_MARK:33,CHAR_FORM_FEED:12,CHAR_FORWARD_SLASH:47,CHAR_GRAVE_ACCENT:96,CHAR_HASH:35,CHAR_HYPHEN_MINUS:45,CHAR_LEFT_ANGLE_BRACKET:60,CHAR_LEFT_CURLY_BRACE:123,CHAR_LEFT_SQUARE_BRACKET:91,CHAR_LINE_FEED:10,CHAR_NO_BREAK_SPACE:160,CHAR_PERCENT:37,CHAR_PLUS:43,CHAR_QUESTION_MARK:63,CHAR_RIGHT_ANGLE_BRACKET:62,CHAR_RIGHT_CURLY_BRACE:125,CHAR_RIGHT_SQUARE_BRACKET:93,CHAR_SEMICOLON:59,CHAR_SINGLE_QUOTE:39,CHAR_SPACE:32,CHAR_TAB:9,CHAR_UNDERSCORE:95,CHAR_VERTICAL_LINE:124,CHAR_ZERO_WIDTH_NOBREAK_SPACE:65279,SEP:Bd.sep,extglobChars(t){return{"!":{type:"negate",open:"(?:(?!(?:",close:`))${t.STAR})`},"?":{type:"qmark",open:"(?:",close:")?"},"+":{type:"plus",open:"(?:",close:")+"},"*":{type:"star",open:"(?:",close:")*"},"@":{type:"at",open:"(?:",close:")"}}},globChars(t){return t===!0?Qd:Ec}}});var pr=v(ve=>{"use strict";var zd=H("path"),Zd=process.platform==="win32",{REGEX_BACKSLASH:eg,REGEX_REMOVE_BACKSLASH:tg,REGEX_SPECIAL_CHARS:rg,REGEX_SPECIAL_CHARS_GLOBAL:ng}=hr();ve.isObject=t=>t!==null&&typeof t=="object"&&!Array.isArray(t);ve.hasRegexChars=t=>rg.test(t);ve.isRegexChar=t=>t.length===1&&ve.hasRegexChars(t);ve.escapeRegex=t=>t.replace(ng,"\\$1");ve.toPosixSlashes=t=>t.replace(eg,"/");ve.removeBackslashes=t=>t.replace(tg,e=>e==="\\"?"":e);ve.supportsLookbehinds=()=>{let t=process.version.slice(1).split(".").map(Number);return t.length===3&&t[0]>=9||t[0]===8&&t[1]>=10};ve.isWindows=t=>t&&typeof t.windows=="boolean"?t.windows:Zd===!0||zd.sep==="\\";ve.escapeLast=(t,e,r)=>{let n=t.lastIndexOf(e,r);return n===-1?t:t[n-1]==="\\"?ve.escapeLast(t,e,n-1):`${t.slice(0,n)}\\${t.slice(n)}`};ve.removePrefix=(t,e={})=>{let r=t;return r.startsWith("./")&&(r=r.slice(2),e.prefix="./"),r};ve.wrapOutput=(t,e={},r={})=>{let n=r.contains?"":"^",s=r.contains?"":"$",i=`${n}(?:${t})${s}`;return e.negated===!0&&(i=`(?:^(?!${i}).*$)`),i}});var Lc=v((iS,Rc)=>{"use strict";var Ac=pr(),{CHAR_ASTERISK:Ss,CHAR_AT:sg,CHAR_BACKWARD_SLASH:dr,CHAR_COMMA:ig,CHAR_DOT:Es,CHAR_EXCLAMATION_MARK:vs,CHAR_FORWARD_SLASH:wc,CHAR_LEFT_CURLY_BRACE:As,CHAR_LEFT_PARENTHESES:ws,CHAR_LEFT_SQUARE_BRACKET:og,CHAR_PLUS:ag,CHAR_QUESTION_MARK:bc,CHAR_RIGHT_CURLY_BRACE:cg,CHAR_RIGHT_PARENTHESES:Oc,CHAR_RIGHT_SQUARE_BRACKET:ug}=hr(),Pc=t=>t===wc||t===dr,Tc=t=>{t.isPrefix!==!0&&(t.depth=t.isGlobstar?Infinity:1)},lg=(t,e)=>{let r=e||{},n=t.length-1,s=r.parts===!0||r.scanToEnd===!0,i=[],o=[],a=[],c=t,u=-1,l=0,f=0,h=!1,y=!1,p=!1,g=!1,A=!1,O=!1,P=!1,R=!1,L=!1,T=!1,Y=0,k,x,j={value:"",depth:0,isGlob:!1},se=()=>u>=n,E=()=>c.charCodeAt(u+1),K=()=>(k=x,c.charCodeAt(++u));for(;u<n;){x=K();let ue;if(x===dr){P=j.backslashes=!0,x=K(),x===As&&(O=!0);continue}if(O===!0||x===As){for(Y++;se()!==!0&&(x=K());){if(x===dr){P=j.backslashes=!0,K();continue}if(x===As){Y++;continue}if(O!==!0&&x===Es&&(x=K())===Es){if(h=j.isBrace=!0,p=j.isGlob=!0,T=!0,s===!0)continue;break}if(O!==!0&&x===ig){if(h=j.isBrace=!0,p=j.isGlob=!0,T=!0,s===!0)continue;break}if(x===cg&&(Y--,Y===0)){O=!1,h=j.isBrace=!0,T=!0;break}}if(s===!0)continue;break}if(x===wc){if(i.push(u),o.push(j),j={value:"",depth:0,isGlob:!1},T===!0)continue;if(k===Es&&u===l+1){l+=2;continue}f=u+1;continue}if(r.noext!==!0&&(x===ag||x===sg||x===Ss||x===bc||x===vs)===!0&&E()===ws){if(p=j.isGlob=!0,g=j.isExtglob=!0,T=!0,x===vs&&u===l&&(L=!0),s===!0){for(;se()!==!0&&(x=K());){if(x===dr){P=j.backslashes=!0,x=K();continue}if(x===Oc){p=j.isGlob=!0,T=!0;break}}continue}break}if(x===Ss){if(k===Ss&&(A=j.isGlobstar=!0),p=j.isGlob=!0,T=!0,s===!0)continue;break}if(x===bc){if(p=j.isGlob=!0,T=!0,s===!0)continue;break}if(x===og){for(;se()!==!0&&(ue=K());){if(ue===dr){P=j.backslashes=!0,K();continue}if(ue===ug){y=j.isBracket=!0,p=j.isGlob=!0,T=!0;break}}if(s===!0)continue;break}if(r.nonegate!==!0&&x===vs&&u===l){R=j.negated=!0,l++;continue}if(r.noparen!==!0&&x===ws){if(p=j.isGlob=!0,s===!0){for(;se()!==!0&&(x=K());){if(x===ws){P=j.backslashes=!0,x=K();continue}if(x===Oc){T=!0;break}}continue}break}if(p===!0){if(T=!0,s===!0)continue;break}}r.noext===!0&&(g=!1,p=!1);let W=c,ze="",_="";l>0&&(ze=c.slice(0,l),c=c.slice(l),f-=l),W&&p===!0&&f>0?(W=c.slice(0,f),_=c.slice(f)):p===!0?(W="",_=c):W=c,W&&W!==""&&W!=="/"&&W!==c&&Pc(W.charCodeAt(W.length-1))&&(W=W.slice(0,-1)),r.unescape===!0&&(_&&(_=Ac.removeBackslashes(_)),W&&P===!0&&(W=Ac.removeBackslashes(W)));let S={prefix:ze,input:t,start:l,base:W,glob:_,isBrace:h,isBracket:y,isGlob:p,isExtglob:g,isGlobstar:A,negated:R,negatedExtglob:L};if(r.tokens===!0&&(S.maxDepth=0,Pc(x)||o.push(j),S.tokens=o),r.parts===!0||r.tokens===!0){let ue;for(let q=0;q<i.length;q++){let Ie=ue?ue+1:l,$e=i[q],Ae=t.slice(Ie,$e);r.tokens&&(q===0&&l!==0?(o[q].isPrefix=!0,o[q].value=ze):o[q].value=Ae,Tc(o[q]),S.maxDepth+=o[q].depth),(q!==0||Ae!=="")&&a.push(Ae),ue=$e}if(ue&&ue+1<t.length){let q=t.slice(ue+1);a.push(q),r.tokens&&(o[o.length-1].value=q,Tc(o[o.length-1]),S.maxDepth+=o[o.length-1].depth)}S.slashes=i,S.parts=a}return S};Rc.exports=lg});var Cc=v((oS,xc)=>{"use strict";var rn=hr(),Le=pr(),{MAX_LENGTH:nn,POSIX_REGEX_SOURCE:fg,REGEX_NON_SPECIAL_CHARS:hg,REGEX_SPECIAL_CHARS_BACKREF:pg,REPLACEMENTS:Nc}=rn,dg=(t,e)=>{if(typeof e.expandRange=="function")return e.expandRange(...t,e);t.sort();let r=`[${t.join("-")}]`;try{new RegExp(r)}catch(n){return t.map(s=>Le.escapeRegex(s)).join("..")}return r},Wt=(t,e)=>`Missing ${t}: "${e}" - use "\\\\${e}" to match literal characters`,Mc=(t,e)=>{if(typeof t!="string")throw new TypeError("Expected a string");t=Nc[t]||t;let r=F({},e),n=typeof r.maxLength=="number"?Math.min(nn,r.maxLength):nn,s=t.length;if(s>n)throw new SyntaxError(`Input length: ${s}, exceeds maximum allowed length: ${n}`);let i={type:"bos",value:"",output:r.prepend||""},o=[i],a=r.capture?"":"?:",c=Le.isWindows(e),u=rn.globChars(c),l=rn.extglobChars(u),{DOT_LITERAL:f,PLUS_LITERAL:h,SLASH_LITERAL:y,ONE_CHAR:p,DOTS_SLASH:g,NO_DOT:A,NO_DOT_SLASH:O,NO_DOTS_SLASH:P,QMARK:R,QMARK_NO_DOT:L,STAR:T,START_ANCHOR:Y}=u,k=b=>`(${a}(?:(?!${Y}${b.dot?g:f}).)*?)`,x=r.dot?"":A,j=r.dot?R:L,se=r.bash===!0?k(r):T;r.capture&&(se=`(${se})`),typeof r.noext=="boolean"&&(r.noextglob=r.noext);let E={input:t,index:-1,start:0,dot:r.dot===!0,consumed:"",output:"",prefix:"",backtrack:!1,negated:!1,brackets:0,braces:0,parens:0,quotes:0,globstar:!1,tokens:o};t=Le.removePrefix(t,E),s=t.length;let K=[],W=[],ze=[],_=i,S,ue=()=>E.index===s-1,q=E.peek=(b=1)=>t[E.index+b],Ie=E.advance=()=>t[++E.index]||"",$e=()=>t.slice(E.index+1),Ae=(b="",G=0)=>{E.consumed+=b,E.index+=G},yr=b=>{E.output+=b.output!=null?b.output:b.value,Ae(b.value)},yf=()=>{let b=1;for(;q()==="!"&&(q(2)!=="("||q(3)==="?");)Ie(),E.start++,b++;return b%2==0?!1:(E.negated=!0,E.start++,!0)},_r=b=>{E[b]++,ze.push(b)},ht=b=>{E[b]--,ze.pop()},$=b=>{if(_.type==="globstar"){let G=E.braces>0&&(b.type==="comma"||b.type==="brace"),w=b.extglob===!0||K.length&&(b.type==="pipe"||b.type==="paren");b.type!=="slash"&&b.type!=="paren"&&!G&&!w&&(E.output=E.output.slice(0,-_.output.length),_.type="star",_.value="*",_.output=se,E.output+=_.output)}if(K.length&&b.type!=="paren"&&(K[K.length-1].inner+=b.value),(b.value||b.output)&&yr(b),_&&_.type==="text"&&b.type==="text"){_.value+=b.value,_.output=(_.output||"")+b.value;return}b.prev=_,o.push(b),_=b},Sr=(b,G)=>{let w=ne(F({},l[G]),{conditions:1,inner:""});w.prev=_,w.parens=E.parens,w.output=E.output;let I=(r.capture?"(":"")+w.open;_r("parens"),$({type:b,value:G,output:E.output?"":p}),$({type:"paren",extglob:!0,value:Ie(),output:I}),K.push(w)},_f=b=>{let G=b.close+(r.capture?")":""),w;if(b.type==="negate"){let I=se;b.inner&&b.inner.length>1&&b.inner.includes("/")&&(I=k(r)),(I!==se||ue()||/^\)+$/.test($e()))&&(G=b.close=`)$))${I}`),b.inner.includes("*")&&(w=$e())&&/^\.[^\\/.]+$/.test(w)&&(G=b.close=`)${w})${I})`),b.prev.type==="bos"&&(E.negatedExtglob=!0)}$({type:"paren",extglob:!0,value:S,output:G}),ht("parens")};if(r.fastpaths!==!1&&!/(^[*!]|[/()[\]{}"])/.test(t)){let b=!1,G=t.replace(pg,(w,I,z,le,te,Ln)=>le==="\\"?(b=!0,w):le==="?"?I?I+le+(te?R.repeat(te.length):""):Ln===0?j+(te?R.repeat(te.length):""):R.repeat(z.length):le==="."?f.repeat(z.length):le==="*"?I?I+le+(te?se:""):se:I?w:`\\${w}`);return b===!0&&(r.unescape===!0?G=G.replace(/\\/g,""):G=G.replace(/\\+/g,w=>w.length%2==0?"\\\\":w?"\\":"")),G===t&&r.contains===!0?(E.output=t,E):(E.output=Le.wrapOutput(G,E,e),E)}for(;!ue();){if(S=Ie(),S==="\0")continue;if(S==="\\"){let w=q();if(w==="/"&&r.bash!==!0||w==="."||w===";")continue;if(!w){S+="\\",$({type:"text",value:S});continue}let I=/^\\+/.exec($e()),z=0;if(I&&I[0].length>2&&(z=I[0].length,E.index+=z,z%2!=0&&(S+="\\")),r.unescape===!0?S=Ie():S+=Ie(),E.brackets===0){$({type:"text",value:S});continue}}if(E.brackets>0&&(S!=="]"||_.value==="["||_.value==="[^")){if(r.posix!==!1&&S===":"){let w=_.value.slice(1);if(w.includes("[")&&(_.posix=!0,w.includes(":"))){let I=_.value.lastIndexOf("["),z=_.value.slice(0,I),le=_.value.slice(I+2),te=fg[le];if(te){_.value=z+te,E.backtrack=!0,Ie(),!i.output&&o.indexOf(_)===1&&(i.output=p);continue}}}(S==="["&&q()!==":"||S==="-"&&q()==="]")&&(S=`\\${S}`),S==="]"&&(_.value==="["||_.value==="[^")&&(S=`\\${S}`),r.posix===!0&&S==="!"&&_.value==="["&&(S="^"),_.value+=S,yr({value:S});continue}if(E.quotes===1&&S!=='"'){S=Le.escapeRegex(S),_.value+=S,yr({value:S});continue}if(S==='"'){E.quotes=E.quotes===1?0:1,r.keepQuotes===!0&&$({type:"text",value:S});continue}if(S==="("){_r("parens"),$({type:"paren",value:S});continue}if(S===")"){if(E.parens===0&&r.strictBrackets===!0)throw new SyntaxError(Wt("opening","("));let w=K[K.length-1];if(w&&E.parens===w.parens+1){_f(K.pop());continue}$({type:"paren",value:S,output:E.parens?")":"\\)"}),ht("parens");continue}if(S==="["){if(r.nobracket===!0||!$e().includes("]")){if(r.nobracket!==!0&&r.strictBrackets===!0)throw new SyntaxError(Wt("closing","]"));S=`\\${S}`}else _r("brackets");$({type:"bracket",value:S});continue}if(S==="]"){if(r.nobracket===!0||_&&_.type==="bracket"&&_.value.length===1){$({type:"text",value:S,output:`\\${S}`});continue}if(E.brackets===0){if(r.strictBrackets===!0)throw new SyntaxError(Wt("opening","["));$({type:"text",value:S,output:`\\${S}`});continue}ht("brackets");let w=_.value.slice(1);if(_.posix!==!0&&w[0]==="^"&&!w.includes("/")&&(S=`/${S}`),_.value+=S,yr({value:S}),r.literalBrackets===!1||Le.hasRegexChars(w))continue;let I=Le.escapeRegex(_.value);if(E.output=E.output.slice(0,-_.value.length),r.literalBrackets===!0){E.output+=I,_.value=I;continue}_.value=`(${a}${I}|${_.value})`,E.output+=_.value;continue}if(S==="{"&&r.nobrace!==!0){_r("braces");let w={type:"brace",value:S,output:"(",outputIndex:E.output.length,tokensIndex:E.tokens.length};W.push(w),$(w);continue}if(S==="}"){let w=W[W.length-1];if(r.nobrace===!0||!w){$({type:"text",value:S,output:S});continue}let I=")";if(w.dots===!0){let z=o.slice(),le=[];for(let te=z.length-1;te>=0&&(o.pop(),z[te].type!=="brace");te--)z[te].type!=="dots"&&le.unshift(z[te].value);I=dg(le,r),E.backtrack=!0}if(w.comma!==!0&&w.dots!==!0){let z=E.output.slice(0,w.outputIndex),le=E.tokens.slice(w.tokensIndex);w.value=w.output="\\{",S=I="\\}",E.output=z;for(let te of le)E.output+=te.output||te.value}$({type:"brace",value:S,output:I}),ht("braces"),W.pop();continue}if(S==="|"){K.length>0&&K[K.length-1].conditions++,$({type:"text",value:S});continue}if(S===","){let w=S,I=W[W.length-1];I&&ze[ze.length-1]==="braces"&&(I.comma=!0,w="|"),$({type:"comma",value:S,output:w});continue}if(S==="/"){if(_.type==="dot"&&E.index===E.start+1){E.start=E.index+1,E.consumed="",E.output="",o.pop(),_=i;continue}$({type:"slash",value:S,output:y});continue}if(S==="."){if(E.braces>0&&_.type==="dot"){_.value==="."&&(_.output=f);let w=W[W.length-1];_.type="dots",_.output+=S,_.value+=S,w.dots=!0;continue}if(E.braces+E.parens===0&&_.type!=="bos"&&_.type!=="slash"){$({type:"text",value:S,output:f});continue}$({type:"dot",value:S,output:f});continue}if(S==="?"){if(!(_&&_.value==="(")&&r.noextglob!==!0&&q()==="("&&q(2)!=="?"){Sr("qmark",S);continue}if(_&&_.type==="paren"){let I=q(),z=S;if(I==="<"&&!Le.supportsLookbehinds())throw new Error("Node.js v10 or higher is required for regex lookbehinds");(_.value==="("&&!/[!=<:]/.test(I)||I==="<"&&!/<([!=]|\w+>)/.test($e()))&&(z=`\\${S}`),$({type:"text",value:S,output:z});continue}if(r.dot!==!0&&(_.type==="slash"||_.type==="bos")){$({type:"qmark",value:S,output:L});continue}$({type:"qmark",value:S,output:R});continue}if(S==="!"){if(r.noextglob!==!0&&q()==="("&&(q(2)!=="?"||!/[!=<:]/.test(q(3)))){Sr("negate",S);continue}if(r.nonegate!==!0&&E.index===0){yf();continue}}if(S==="+"){if(r.noextglob!==!0&&q()==="("&&q(2)!=="?"){Sr("plus",S);continue}if(_&&_.value==="("||r.regex===!1){$({type:"plus",value:S,output:h});continue}if(_&&(_.type==="bracket"||_.type==="paren"||_.type==="brace")||E.parens>0){$({type:"plus",value:S});continue}$({type:"plus",value:h});continue}if(S==="@"){if(r.noextglob!==!0&&q()==="("&&q(2)!=="?"){$({type:"at",extglob:!0,value:S,output:""});continue}$({type:"text",value:S});continue}if(S!=="*"){(S==="$"||S==="^")&&(S=`\\${S}`);let w=hg.exec($e());w&&(S+=w[0],E.index+=w[0].length),$({type:"text",value:S});continue}if(_&&(_.type==="globstar"||_.star===!0)){_.type="star",_.star=!0,_.value+=S,_.output=se,E.backtrack=!0,E.globstar=!0,Ae(S);continue}let b=$e();if(r.noextglob!==!0&&/^\([^?]/.test(b)){Sr("star",S);continue}if(_.type==="star"){if(r.noglobstar===!0){Ae(S);continue}let w=_.prev,I=w.prev,z=w.type==="slash"||w.type==="bos",le=I&&(I.type==="star"||I.type==="globstar");if(r.bash===!0&&(!z||b[0]&&b[0]!=="/")){$({type:"star",value:S,output:""});continue}let te=E.braces>0&&(w.type==="comma"||w.type==="brace"),Ln=K.length&&(w.type==="pipe"||w.type==="paren");if(!z&&w.type!=="paren"&&!te&&!Ln){$({type:"star",value:S,output:""});continue}for(;b.slice(0,3)==="/**";){let Er=t[E.index+4];if(Er&&Er!=="/")break;b=b.slice(3),Ae("/**",3)}if(w.type==="bos"&&ue()){_.type="globstar",_.value+=S,_.output=k(r),E.output=_.output,E.globstar=!0,Ae(S);continue}if(w.type==="slash"&&w.prev.type!=="bos"&&!le&&ue()){E.output=E.output.slice(0,-(w.output+_.output).length),w.output=`(?:${w.output}`,_.type="globstar",_.output=k(r)+(r.strictSlashes?")":"|$)"),_.value+=S,E.globstar=!0,E.output+=w.output+_.output,Ae(S);continue}if(w.type==="slash"&&w.prev.type!=="bos"&&b[0]==="/"){let Er=b[1]!==void 0?"|$":"";E.output=E.output.slice(0,-(w.output+_.output).length),w.output=`(?:${w.output}`,_.type="globstar",_.output=`${k(r)}${y}|${y}${Er})`,_.value+=S,E.output+=w.output+_.output,E.globstar=!0,Ae(S+Ie()),$({type:"slash",value:"/",output:""});continue}if(w.type==="bos"&&b[0]==="/"){_.type="globstar",_.value+=S,_.output=`(?:^|${y}|${k(r)}${y})`,E.output=_.output,E.globstar=!0,Ae(S+Ie()),$({type:"slash",value:"/",output:""});continue}E.output=E.output.slice(0,-_.output.length),_.type="globstar",_.output=k(r),_.value+=S,E.output+=_.output,E.globstar=!0,Ae(S);continue}let G={type:"star",value:S,output:se};if(r.bash===!0){G.output=".*?",(_.type==="bos"||_.type==="slash")&&(G.output=x+G.output),$(G);continue}if(_&&(_.type==="bracket"||_.type==="paren")&&r.regex===!0){G.output=S,$(G);continue}(E.index===E.start||_.type==="slash"||_.type==="dot")&&(_.type==="dot"?(E.output+=O,_.output+=O):r.dot===!0?(E.output+=P,_.output+=P):(E.output+=x,_.output+=x),q()!=="*"&&(E.output+=p,_.output+=p)),$(G)}for(;E.brackets>0;){if(r.strictBrackets===!0)throw new SyntaxError(Wt("closing","]"));E.output=Le.escapeLast(E.output,"["),ht("brackets")}for(;E.parens>0;){if(r.strictBrackets===!0)throw new SyntaxError(Wt("closing",")"));E.output=Le.escapeLast(E.output,"("),ht("parens")}for(;E.braces>0;){if(r.strictBrackets===!0)throw new SyntaxError(Wt("closing","}"));E.output=Le.escapeLast(E.output,"{"),ht("braces")}if(r.strictSlashes!==!0&&(_.type==="star"||_.type==="bracket")&&$({type:"maybe_slash",value:"",output:`${y}?`}),E.backtrack===!0){E.output="";for(let b of E.tokens)E.output+=b.output!=null?b.output:b.value,b.suffix&&(E.output+=b.suffix)}return E};Mc.fastpaths=(t,e)=>{let r=F({},e),n=typeof r.maxLength=="number"?Math.min(nn,r.maxLength):nn,s=t.length;if(s>n)throw new SyntaxError(`Input length: ${s}, exceeds maximum allowed length: ${n}`);t=Nc[t]||t;let i=Le.isWindows(e),{DOT_LITERAL:o,SLASH_LITERAL:a,ONE_CHAR:c,DOTS_SLASH:u,NO_DOT:l,NO_DOTS:f,NO_DOTS_SLASH:h,STAR:y,START_ANCHOR:p}=rn.globChars(i),g=r.dot?f:l,A=r.dot?h:l,O=r.capture?"":"?:",P={negated:!1,prefix:""},R=r.bash===!0?".*?":y;r.capture&&(R=`(${R})`);let L=x=>x.noglobstar===!0?R:`(${O}(?:(?!${p}${x.dot?u:o}).)*?)`,T=x=>{switch(x){case"*":return`${g}${c}${R}`;case".*":return`${o}${c}${R}`;case"*.*":return`${g}${R}${o}${c}${R}`;case"*/*":return`${g}${R}${a}${c}${A}${R}`;case"**":return g+L(r);case"**/*":return`(?:${g}${L(r)}${a})?${A}${c}${R}`;case"**/*.*":return`(?:${g}${L(r)}${a})?${A}${R}${o}${c}${R}`;case"**/.*":return`(?:${g}${L(r)}${a})?${o}${c}${R}`;default:{let j=/^(.*?)\.(\w+)$/.exec(x);if(!j)return;let se=T(j[1]);return se?se+o+j[2]:void 0}}},Y=Le.removePrefix(t,P),k=T(Y);return k&&r.strictSlashes!==!0&&(k+=`${a}?`),k};xc.exports=Mc});var Ic=v((aS,kc)=>{"use strict";var gg=H("path"),mg=Lc(),bs=Cc(),Os=pr(),yg=hr(),_g=t=>t&&typeof t=="object"&&!Array.isArray(t),Z=(t,e,r=!1)=>{if(Array.isArray(t)){let l=t.map(h=>Z(h,e,r));return h=>{for(let y of l){let p=y(h);if(p)return p}return!1}}let n=_g(t)&&t.tokens&&t.input;if(t===""||typeof t!="string"&&!n)throw new TypeError("Expected pattern to be a non-empty string");let s=e||{},i=Os.isWindows(e),o=n?Z.compileRe(t,e):Z.makeRe(t,e,!1,!0),a=o.state;delete o.state;let c=()=>!1;if(s.ignore){let l=ne(F({},e),{ignore:null,onMatch:null,onResult:null});c=Z(s.ignore,l,r)}let u=(l,f=!1)=>{let{isMatch:h,match:y,output:p}=Z.test(l,o,e,{glob:t,posix:i}),g={glob:t,state:a,regex:o,posix:i,input:l,output:p,match:y,isMatch:h};return typeof s.onResult=="function"&&s.onResult(g),h===!1?(g.isMatch=!1,f?g:!1):c(l)?(typeof s.onIgnore=="function"&&s.onIgnore(g),g.isMatch=!1,f?g:!1):(typeof s.onMatch=="function"&&s.onMatch(g),f?g:!0)};return r&&(u.state=a),u};Z.test=(t,e,r,{glob:n,posix:s}={})=>{if(typeof t!="string")throw new TypeError("Expected input to be a string");if(t==="")return{isMatch:!1,output:""};let i=r||{},o=i.format||(s?Os.toPosixSlashes:null),a=t===n,c=a&&o?o(t):t;return a===!1&&(c=o?o(t):t,a=c===n),(a===!1||i.capture===!0)&&(i.matchBase===!0||i.basename===!0?a=Z.matchBase(t,e,r,s):a=e.exec(c)),{isMatch:Boolean(a),match:a,output:c}};Z.matchBase=(t,e,r,n=Os.isWindows(r))=>(e instanceof RegExp?e:Z.makeRe(e,r)).test(gg.basename(t));Z.isMatch=(t,e,r)=>Z(e,r)(t);Z.parse=(t,e)=>Array.isArray(t)?t.map(r=>Z.parse(r,e)):bs(t,ne(F({},e),{fastpaths:!1}));Z.scan=(t,e)=>mg(t,e);Z.compileRe=(t,e,r=!1,n=!1)=>{if(r===!0)return t.output;let s=e||{},i=s.contains?"":"^",o=s.contains?"":"$",a=`${i}(?:${t.output})${o}`;t&&t.negated===!0&&(a=`^(?!${a}).*$`);let c=Z.toRegex(a,e);return n===!0&&(c.state=t),c};Z.makeRe=(t,e={},r=!1,n=!1)=>{if(!t||typeof t!="string")throw new TypeError("Expected a non-empty string");let s={negated:!1,fastpaths:!0};return e.fastpaths!==!1&&(t[0]==="."||t[0]==="*")&&(s.output=bs.fastpaths(t,e)),s.output||(s=bs(t,e)),Z.compileRe(s,e,r,n)};Z.toRegex=(t,e)=>{try{let r=e||{};return new RegExp(t,r.flags||(r.nocase?"i":""))}catch(r){if(e&&e.debug===!0)throw r;return/$^/}};Z.constants=yg;kc.exports=Z});var Dc=v((cS,$c)=>{"use strict";$c.exports=Ic()});var jc=v((uS,Hc)=>{"use strict";var qc=H("util"),Fc=mc(),Be=Dc(),Ps=pr(),Bc=t=>t===""||t==="./",Q=(t,e,r)=>{e=[].concat(e),t=[].concat(t);let n=new Set,s=new Set,i=new Set,o=0,a=l=>{i.add(l.output),r&&r.onResult&&r.onResult(l)};for(let l=0;l<e.length;l++){let f=Be(String(e[l]),ne(F({},r),{onResult:a}),!0),h=f.state.negated||f.state.negatedExtglob;h&&o++;for(let y of t){let p=f(y,!0);!(h?!p.isMatch:p.isMatch)||(h?n.add(p.output):(n.delete(p.output),s.add(p.output)))}}let u=(o===e.length?[...i]:[...s]).filter(l=>!n.has(l));if(r&&u.length===0){if(r.failglob===!0)throw new Error(`No matches found for "${e.join(", ")}"`);if(r.nonull===!0||r.nullglob===!0)return r.unescape?e.map(l=>l.replace(/\\/g,"")):e}return u};Q.match=Q;Q.matcher=(t,e)=>Be(t,e);Q.isMatch=(t,e,r)=>Be(e,r)(t);Q.any=Q.isMatch;Q.not=(t,e,r={})=>{e=[].concat(e).map(String);let n=new Set,s=[],i=a=>{r.onResult&&r.onResult(a),s.push(a.output)},o=Q(t,e,ne(F({},r),{onResult:i}));for(let a of s)o.includes(a)||n.add(a);return[...n]};Q.contains=(t,e,r)=>{if(typeof t!="string")throw new TypeError(`Expected a string: "${qc.inspect(t)}"`);if(Array.isArray(e))return e.some(n=>Q.contains(t,n,r));if(typeof e=="string"){if(Bc(t)||Bc(e))return!1;if(t.includes(e)||t.startsWith("./")&&t.slice(2).includes(e))return!0}return Q.isMatch(t,e,ne(F({},r),{contains:!0}))};Q.matchKeys=(t,e,r)=>{if(!Ps.isObject(t))throw new TypeError("Expected the first argument to be an object");let n=Q(Object.keys(t),e,r),s={};for(let i of n)s[i]=t[i];return s};Q.some=(t,e,r)=>{let n=[].concat(t);for(let s of[].concat(e)){let i=Be(String(s),r);if(n.some(o=>i(o)))return!0}return!1};Q.every=(t,e,r)=>{let n=[].concat(t);for(let s of[].concat(e)){let i=Be(String(s),r);if(!n.every(o=>i(o)))return!1}return!0};Q.all=(t,e,r)=>{if(typeof t!="string")throw new TypeError(`Expected a string: "${qc.inspect(t)}"`);return[].concat(e).every(n=>Be(n,r)(t))};Q.capture=(t,e,r)=>{let n=Ps.isWindows(r),i=Be.makeRe(String(t),ne(F({},r),{capture:!0})).exec(n?Ps.toPosixSlashes(e):e);if(i)return i.slice(1).map(o=>o===void 0?"":o)};Q.makeRe=(...t)=>Be.makeRe(...t);Q.scan=(...t)=>Be.scan(...t);Q.parse=(t,e)=>{let r=[];for(let n of[].concat(t||[]))for(let s of Fc(String(n),e))r.push(Be.parse(s,e));return r};Q.braces=(t,e)=>{if(typeof t!="string")throw new TypeError("Expected a string");return e&&e.nobrace===!0||!/\{.*\}/.test(t)?[t]:Fc(t,e)};Q.braceExpand=(t,e)=>{if(typeof t!="string")throw new TypeError("Expected a string");return Q.braces(t,ne(F({},e),{expand:!0}))};Hc.exports=Q});var Qc=v(C=>{"use strict";Object.defineProperty(C,"__esModule",{value:!0});C.matchAny=C.convertPatternsToRe=C.makeRe=C.getPatternParts=C.expandBraceExpansion=C.expandPatternsWithBraceExpansion=C.isAffectDepthOfReadingPattern=C.endsWithSlashGlobStar=C.hasGlobStar=C.getBaseDirectory=C.isPatternRelatedToParentDirectory=C.getPatternsOutsideCurrentDirectory=C.getPatternsInsideCurrentDirectory=C.getPositivePatterns=C.getNegativePatterns=C.isPositivePattern=C.isNegativePattern=C.convertToNegativePattern=C.convertToPositivePattern=C.isDynamicPattern=C.isStaticPattern=void 0;var Sg=H("path"),Eg=Ca(),Ts=jc(),Yc="**",vg="\\",Ag=/[*?]|^!/,wg=/\[.*]/,bg=/(?:^|[^!*+?@])\(.*\|.*\)/,Og=/[!*+?@]\(.*\)/,Pg=/{.*(?:,|\.\.).*}/;function Uc(t,e={}){return!Wc(t,e)}C.isStaticPattern=Uc;function Wc(t,e={}){return t===""?!1:!!(e.caseSensitiveMatch===!1||t.includes(vg)||Ag.test(t)||wg.test(t)||bg.test(t)||e.extglob!==!1&&Og.test(t)||e.braceExpansion!==!1&&Pg.test(t))}C.isDynamicPattern=Wc;function Tg(t){return sn(t)?t.slice(1):t}C.convertToPositivePattern=Tg;function Rg(t){return"!"+t}C.convertToNegativePattern=Rg;function sn(t){return t.startsWith("!")&&t[1]!=="("}C.isNegativePattern=sn;function Gc(t){return!sn(t)}C.isPositivePattern=Gc;function Lg(t){return t.filter(sn)}C.getNegativePatterns=Lg;function Ng(t){return t.filter(Gc)}C.getPositivePatterns=Ng;function Mg(t){return t.filter(e=>!Rs(e))}C.getPatternsInsideCurrentDirectory=Mg;function xg(t){return t.filter(Rs)}C.getPatternsOutsideCurrentDirectory=xg;function Rs(t){return t.startsWith("..")||t.startsWith("./..")}C.isPatternRelatedToParentDirectory=Rs;function Cg(t){return Eg(t,{flipBackslashes:!1})}C.getBaseDirectory=Cg;function kg(t){return t.includes(Yc)}C.hasGlobStar=kg;function Kc(t){return t.endsWith("/"+Yc)}C.endsWithSlashGlobStar=Kc;function Ig(t){let e=Sg.basename(t);return Kc(t)||Uc(e)}C.isAffectDepthOfReadingPattern=Ig;function $g(t){return t.reduce((e,r)=>e.concat(Vc(r)),[])}C.expandPatternsWithBraceExpansion=$g;function Vc(t){return Ts.braces(t,{expand:!0,nodupes:!0})}C.expandBraceExpansion=Vc;function Dg(t,e){let{parts:r}=Ts.scan(t,Object.assign(Object.assign({},e),{parts:!0}));return r.length===0&&(r=[t]),r[0].startsWith("/")&&(r[0]=r[0].slice(1),r.unshift("")),r}C.getPatternParts=Dg;function Jc(t,e){return Ts.makeRe(t,e)}C.makeRe=Jc;function qg(t,e){return t.map(r=>Jc(r,e))}C.convertPatternsToRe=qg;function Fg(t,e){return e.some(r=>r.test(t))}C.matchAny=Fg});var zc=v(on=>{"use strict";Object.defineProperty(on,"__esModule",{value:!0});on.merge=void 0;var Bg=ls();function Hg(t){let e=Bg(t);return t.forEach(r=>{r.once("error",n=>e.emit("error",n))}),e.once("close",()=>Xc(t)),e.once("end",()=>Xc(t)),e}on.merge=Hg;function Xc(t){t.forEach(e=>e.emit("close"))}});var Zc=v(Gt=>{"use strict";Object.defineProperty(Gt,"__esModule",{value:!0});Gt.isEmpty=Gt.isString=void 0;function jg(t){return typeof t=="string"}Gt.isString=jg;function Yg(t){return t===""}Gt.isEmpty=Yg});var Ve=v(ae=>{"use strict";Object.defineProperty(ae,"__esModule",{value:!0});ae.string=ae.stream=ae.pattern=ae.path=ae.fs=ae.errno=ae.array=void 0;var Ug=Aa();ae.array=Ug;var Wg=wa();ae.errno=Wg;var Gg=Oa();ae.fs=Gg;var Kg=Pa();ae.path=Kg;var Vg=Qc();ae.pattern=Vg;var Jg=zc();ae.stream=Jg;var Qg=Zc();ae.string=Qg});var ru=v(ce=>{"use strict";Object.defineProperty(ce,"__esModule",{value:!0});ce.convertPatternGroupToTask=ce.convertPatternGroupsToTasks=ce.groupPatternsByBaseDirectory=ce.getNegativePatternsAsPositive=ce.getPositivePatterns=ce.convertPatternsToTasks=ce.generate=void 0;var Je=Ve();function Xg(t,e){let r=eu(t),n=tu(t,e.ignore),s=r.filter(c=>Je.pattern.isStaticPattern(c,e)),i=r.filter(c=>Je.pattern.isDynamicPattern(c,e)),o=Ls(s,n,!1),a=Ls(i,n,!0);return o.concat(a)}ce.generate=Xg;function Ls(t,e,r){let n=[],s=Je.pattern.getPatternsOutsideCurrentDirectory(t),i=Je.pattern.getPatternsInsideCurrentDirectory(t),o=Ns(s),a=Ns(i);return n.push(...Ms(o,e,r)),"."in a?n.push(xs(".",i,e,r)):n.push(...Ms(a,e,r)),n}ce.convertPatternsToTasks=Ls;function eu(t){return Je.pattern.getPositivePatterns(t)}ce.getPositivePatterns=eu;function tu(t,e){return Je.pattern.getNegativePatterns(t).concat(e).map(Je.pattern.convertToPositivePattern)}ce.getNegativePatternsAsPositive=tu;function Ns(t){let e={};return t.reduce((r,n)=>{let s=Je.pattern.getBaseDirectory(n);return s in r?r[s].push(n):r[s]=[n],r},e)}ce.groupPatternsByBaseDirectory=Ns;function Ms(t,e,r){return Object.keys(t).map(n=>xs(n,t[n],e,r))}ce.convertPatternGroupsToTasks=Ms;function xs(t,e,r,n){return{dynamic:n,positive:e,negative:r,base:t,patterns:[].concat(e,r.map(Je.pattern.convertToNegativePattern))}}ce.convertPatternGroupToTask=xs});var su=v(an=>{"use strict";Object.defineProperty(an,"__esModule",{value:!0});an.read=void 0;function zg(t,e,r){e.fs.lstat(t,(n,s)=>{if(n!==null){nu(r,n);return}if(!s.isSymbolicLink()||!e.followSymbolicLink){Cs(r,s);return}e.fs.stat(t,(i,o)=>{if(i!==null){if(e.throwErrorOnBrokenSymbolicLink){nu(r,i);return}Cs(r,s);return}e.markSymbolicLink&&(o.isSymbolicLink=()=>!0),Cs(r,o)})})}an.read=zg;function nu(t,e){t(e)}function Cs(t,e){t(null,e)}});var iu=v(cn=>{"use strict";Object.defineProperty(cn,"__esModule",{value:!0});cn.read=void 0;function Zg(t,e){let r=e.fs.lstatSync(t);if(!r.isSymbolicLink()||!e.followSymbolicLink)return r;try{let n=e.fs.statSync(t);return e.markSymbolicLink&&(n.isSymbolicLink=()=>!0),n}catch(n){if(!e.throwErrorOnBrokenSymbolicLink)return r;throw n}}cn.read=Zg});var ou=v(ot=>{"use strict";Object.defineProperty(ot,"__esModule",{value:!0});ot.createFileSystemAdapter=ot.FILE_SYSTEM_ADAPTER=void 0;var un=H("fs");ot.FILE_SYSTEM_ADAPTER={lstat:un.lstat,stat:un.stat,lstatSync:un.lstatSync,statSync:un.statSync};function em(t){return t===void 0?ot.FILE_SYSTEM_ADAPTER:Object.assign(Object.assign({},ot.FILE_SYSTEM_ADAPTER),t)}ot.createFileSystemAdapter=em});var cu=v(ks=>{"use strict";Object.defineProperty(ks,"__esModule",{value:!0});var tm=ou(),au=class{constructor(e={}){this._options=e,this.followSymbolicLink=this._getValue(this._options.followSymbolicLink,!0),this.fs=tm.createFileSystemAdapter(this._options.fs),this.markSymbolicLink=this._getValue(this._options.markSymbolicLink,!1),this.throwErrorOnBrokenSymbolicLink=this._getValue(this._options.throwErrorOnBrokenSymbolicLink,!0)}_getValue(e,r){return e!=null?e:r}};ks.default=au});var Ot=v(at=>{"use strict";Object.defineProperty(at,"__esModule",{value:!0});at.statSync=at.stat=at.Settings=void 0;var uu=su(),rm=iu(),Is=cu();at.Settings=Is.default;function nm(t,e,r){if(typeof e=="function"){uu.read(t,$s(),e);return}uu.read(t,$s(e),r)}at.stat=nm;function sm(t,e){let r=$s(e);return rm.read(t,r)}at.statSync=sm;function $s(t={}){return t instanceof Is.default?t:new Is.default(t)}});var hu=v((ES,fu)=>{var lu;fu.exports=typeof queueMicrotask=="function"?queueMicrotask.bind(typeof window!="undefined"?window:global):t=>(lu||(lu=Promise.resolve())).then(t).catch(e=>setTimeout(()=>{throw e},0))});var du=v((vS,pu)=>{pu.exports=om;var im=hu();function om(t,e){let r,n,s,i=!0;Array.isArray(t)?(r=[],n=t.length):(s=Object.keys(t),r={},n=s.length);function o(c){function u(){e&&e(c,r),e=null}i?im(u):u()}function a(c,u,l){r[c]=l,(--n==0||u)&&o(u)}n?s?s.forEach(function(c){t[c](function(u,l){a(c,u,l)})}):t.forEach(function(c,u){c(function(l,f){a(u,l,f)})}):o(null),i=!1}});var Ds=v(fn=>{"use strict";Object.defineProperty(fn,"__esModule",{value:!0});fn.IS_SUPPORT_READDIR_WITH_FILE_TYPES=void 0;var ln=process.versions.node.split(".");if(ln[0]===void 0||ln[1]===void 0)throw new Error(`Unexpected behavior. The 'process.versions.node' variable has invalid value: ${process.versions.node}`);var gu=Number.parseInt(ln[0],10),am=Number.parseInt(ln[1],10),mu=10,cm=10,um=gu>mu,lm=gu===mu&&am>=cm;fn.IS_SUPPORT_READDIR_WITH_FILE_TYPES=um||lm});var _u=v(hn=>{"use strict";Object.defineProperty(hn,"__esModule",{value:!0});hn.createDirentFromStats=void 0;var yu=class{constructor(e,r){this.name=e,this.isBlockDevice=r.isBlockDevice.bind(r),this.isCharacterDevice=r.isCharacterDevice.bind(r),this.isDirectory=r.isDirectory.bind(r),this.isFIFO=r.isFIFO.bind(r),this.isFile=r.isFile.bind(r),this.isSocket=r.isSocket.bind(r),this.isSymbolicLink=r.isSymbolicLink.bind(r)}};function fm(t,e){return new yu(t,e)}hn.createDirentFromStats=fm});var qs=v(pn=>{"use strict";Object.defineProperty(pn,"__esModule",{value:!0});pn.fs=void 0;var hm=_u();pn.fs=hm});var Fs=v(dn=>{"use strict";Object.defineProperty(dn,"__esModule",{value:!0});dn.joinPathSegments=void 0;function pm(t,e,r){return t.endsWith(r)?t+e:t+r+e}dn.joinPathSegments=pm});var bu=v(ct=>{"use strict";Object.defineProperty(ct,"__esModule",{value:!0});ct.readdir=ct.readdirWithFileTypes=ct.read=void 0;var dm=Ot(),Su=du(),gm=Ds(),Eu=qs(),vu=Fs();function mm(t,e,r){if(!e.stats&&gm.IS_SUPPORT_READDIR_WITH_FILE_TYPES){Au(t,e,r);return}wu(t,e,r)}ct.read=mm;function Au(t,e,r){e.fs.readdir(t,{withFileTypes:!0},(n,s)=>{if(n!==null){gn(r,n);return}let i=s.map(a=>({dirent:a,name:a.name,path:vu.joinPathSegments(t,a.name,e.pathSegmentSeparator)}));if(!e.followSymbolicLinks){Bs(r,i);return}let o=i.map(a=>ym(a,e));Su(o,(a,c)=>{if(a!==null){gn(r,a);return}Bs(r,c)})})}ct.readdirWithFileTypes=Au;function ym(t,e){return r=>{if(!t.dirent.isSymbolicLink()){r(null,t);return}e.fs.stat(t.path,(n,s)=>{if(n!==null){if(e.throwErrorOnBrokenSymbolicLink){r(n);return}r(null,t);return}t.dirent=Eu.fs.createDirentFromStats(t.name,s),r(null,t)})}}function wu(t,e,r){e.fs.readdir(t,(n,s)=>{if(n!==null){gn(r,n);return}let i=s.map(o=>{let a=vu.joinPathSegments(t,o,e.pathSegmentSeparator);return c=>{dm.stat(a,e.fsStatSettings,(u,l)=>{if(u!==null){c(u);return}let f={name:o,path:a,dirent:Eu.fs.createDirentFromStats(o,l)};e.stats&&(f.stats=l),c(null,f)})}});Su(i,(o,a)=>{if(o!==null){gn(r,o);return}Bs(r,a)})})}ct.readdir=wu;function gn(t,e){t(e)}function Bs(t,e){t(null,e)}});var Lu=v(ut=>{"use strict";Object.defineProperty(ut,"__esModule",{value:!0});ut.readdir=ut.readdirWithFileTypes=ut.read=void 0;var _m=Ot(),Sm=Ds(),Ou=qs(),Pu=Fs();function Em(t,e){return!e.stats&&Sm.IS_SUPPORT_READDIR_WITH_FILE_TYPES?Tu(t,e):Ru(t,e)}ut.read=Em;function Tu(t,e){return e.fs.readdirSync(t,{withFileTypes:!0}).map(n=>{let s={dirent:n,name:n.name,path:Pu.joinPathSegments(t,n.name,e.pathSegmentSeparator)};if(s.dirent.isSymbolicLink()&&e.followSymbolicLinks)try{let i=e.fs.statSync(s.path);s.dirent=Ou.fs.createDirentFromStats(s.name,i)}catch(i){if(e.throwErrorOnBrokenSymbolicLink)throw i}return s})}ut.readdirWithFileTypes=Tu;function Ru(t,e){return e.fs.readdirSync(t).map(n=>{let s=Pu.joinPathSegments(t,n,e.pathSegmentSeparator),i=_m.statSync(s,e.fsStatSettings),o={name:n,path:s,dirent:Ou.fs.createDirentFromStats(n,i)};return e.stats&&(o.stats=i),o})}ut.readdir=Ru});var Nu=v(lt=>{"use strict";Object.defineProperty(lt,"__esModule",{value:!0});lt.createFileSystemAdapter=lt.FILE_SYSTEM_ADAPTER=void 0;var Kt=H("fs");lt.FILE_SYSTEM_ADAPTER={lstat:Kt.lstat,stat:Kt.stat,lstatSync:Kt.lstatSync,statSync:Kt.statSync,readdir:Kt.readdir,readdirSync:Kt.readdirSync};function vm(t){return t===void 0?lt.FILE_SYSTEM_ADAPTER:Object.assign(Object.assign({},lt.FILE_SYSTEM_ADAPTER),t)}lt.createFileSystemAdapter=vm});var xu=v(Hs=>{"use strict";Object.defineProperty(Hs,"__esModule",{value:!0});var Am=H("path"),wm=Ot(),bm=Nu(),Mu=class{constructor(e={}){this._options=e,this.followSymbolicLinks=this._getValue(this._options.followSymbolicLinks,!1),this.fs=bm.createFileSystemAdapter(this._options.fs),this.pathSegmentSeparator=this._getValue(this._options.pathSegmentSeparator,Am.sep),this.stats=this._getValue(this._options.stats,!1),this.throwErrorOnBrokenSymbolicLink=this._getValue(this._options.throwErrorOnBrokenSymbolicLink,!0),this.fsStatSettings=new wm.Settings({followSymbolicLink:this.followSymbolicLinks,fs:this.fs,throwErrorOnBrokenSymbolicLink:this.throwErrorOnBrokenSymbolicLink})}_getValue(e,r){return e!=null?e:r}};Hs.default=Mu});var mn=v(ft=>{"use strict";Object.defineProperty(ft,"__esModule",{value:!0});ft.Settings=ft.scandirSync=ft.scandir=void 0;var Cu=bu(),Om=Lu(),js=xu();ft.Settings=js.default;function Pm(t,e,r){if(typeof e=="function"){Cu.read(t,Ys(),e);return}Cu.read(t,Ys(e),r)}ft.scandir=Pm;function Tm(t,e){let r=Ys(e);return Om.read(t,r)}ft.scandirSync=Tm;function Ys(t={}){return t instanceof js.default?t:new js.default(t)}});var Iu=v((MS,ku)=>{"use strict";function Rm(t){var e=new t,r=e;function n(){var i=e;return i.next?e=i.next:(e=new t,r=e),i.next=null,i}function s(i){r.next=i,r=i}return{get:n,release:s}}ku.exports=Rm});var Du=v((xS,Us)=>{"use strict";var Lm=Iu();function $u(t,e,r){if(typeof t=="function"&&(r=e,e=t,t=null),r<1)throw new Error("fastqueue concurrency must be greater than 1");var n=Lm(Nm),s=null,i=null,o=0,a=null,c={push:g,drain:Ce,saturated:Ce,pause:l,paused:!1,concurrency:r,running:u,resume:y,idle:p,length:f,getQueue:h,unshift:A,empty:Ce,kill:P,killAndDrain:R,error:L};return c;function u(){return o}function l(){c.paused=!0}function f(){for(var T=s,Y=0;T;)T=T.next,Y++;return Y}function h(){for(var T=s,Y=[];T;)Y.push(T.value),T=T.next;return Y}function y(){if(!!c.paused){c.paused=!1;for(var T=0;T<c.concurrency;T++)o++,O()}}function p(){return o===0&&c.length()===0}function g(T,Y){var k=n.get();k.context=t,k.release=O,k.value=T,k.callback=Y||Ce,k.errorHandler=a,o===c.concurrency||c.paused?i?(i.next=k,i=k):(s=k,i=k,c.saturated()):(o++,e.call(t,k.value,k.worked))}function A(T,Y){var k=n.get();k.context=t,k.release=O,k.value=T,k.callback=Y||Ce,o===c.concurrency||c.paused?s?(k.next=s,s=k):(s=k,i=k,c.saturated()):(o++,e.call(t,k.value,k.worked))}function O(T){T&&n.release(T);var Y=s;Y?c.paused?o--:(i===s&&(i=null),s=Y.next,Y.next=null,e.call(t,Y.value,Y.worked),i===null&&c.empty()):--o==0&&c.drain()}function P(){s=null,i=null,c.drain=Ce}function R(){s=null,i=null,c.drain(),c.drain=Ce}function L(T){a=T}}function Ce(){}function Nm(){this.value=null,this.callback=Ce,this.next=null,this.release=Ce,this.context=null,this.errorHandler=null;var t=this;this.worked=function(r,n){var s=t.callback,i=t.errorHandler,o=t.value;t.value=null,t.callback=Ce,t.errorHandler&&i(r,o),s.call(t.context,r,n),t.release(t)}}function Mm(t,e,r){typeof t=="function"&&(r=e,e=t,t=null);function n(l,f){e.call(this,l).then(function(h){f(null,h)},f)}var s=$u(t,n,r),i=s.push,o=s.unshift;return s.push=a,s.unshift=c,s.drained=u,s;function a(l){var f=new Promise(function(h,y){i(l,function(p,g){if(p){y(p);return}h(g)})});return f.catch(Ce),f}function c(l){var f=new Promise(function(h,y){o(l,function(p,g){if(p){y(p);return}h(g)})});return f.catch(Ce),f}function u(){var l=s.drain,f=new Promise(function(h){s.drain=function(){l(),h()}});return f}}Us.exports=$u;Us.exports.promise=Mm});var yn=v(He=>{"use strict";Object.defineProperty(He,"__esModule",{value:!0});He.joinPathSegments=He.replacePathSegmentSeparator=He.isAppliedFilter=He.isFatalError=void 0;function xm(t,e){return t.errorFilter===null?!0:!t.errorFilter(e)}He.isFatalError=xm;function Cm(t,e){return t===null||t(e)}He.isAppliedFilter=Cm;function km(t,e){return t.split(/[/\\]/).join(e)}He.replacePathSegmentSeparator=km;function Im(t,e,r){return t===""?e:t.endsWith(r)?t+e:t+r+e}He.joinPathSegments=Im});var Gs=v(Ws=>{"use strict";Object.defineProperty(Ws,"__esModule",{value:!0});var $m=yn(),qu=class{constructor(e,r){this._root=e,this._settings=r,this._root=$m.replacePathSegmentSeparator(e,r.pathSegmentSeparator)}};Ws.default=qu});var Vs=v(Ks=>{"use strict";Object.defineProperty(Ks,"__esModule",{value:!0});var Dm=H("events"),qm=mn(),Fm=Du(),_n=yn(),Bm=Gs(),Fu=class extends Bm.default{constructor(e,r){super(e,r);this._settings=r,this._scandir=qm.scandir,this._emitter=new Dm.EventEmitter,this._queue=Fm(this._worker.bind(this),this._settings.concurrency),this._isFatalError=!1,this._isDestroyed=!1,this._queue.drain=()=>{this._isFatalError||this._emitter.emit("end")}}read(){return this._isFatalError=!1,this._isDestroyed=!1,setImmediate(()=>{this._pushToQueue(this._root,this._settings.basePath)}),this._emitter}get isDestroyed(){return this._isDestroyed}destroy(){if(this._isDestroyed)throw new Error("The reader is already destroyed");this._isDestroyed=!0,this._queue.killAndDrain()}onEntry(e){this._emitter.on("entry",e)}onError(e){this._emitter.once("error",e)}onEnd(e){this._emitter.once("end",e)}_pushToQueue(e,r){let n={directory:e,base:r};this._queue.push(n,s=>{s!==null&&this._handleError(s)})}_worker(e,r){this._scandir(e.directory,this._settings.fsScandirSettings,(n,s)=>{if(n!==null){r(n,void 0);return}for(let i of s)this._handleEntry(i,e.base);r(null,void 0)})}_handleError(e){this._isDestroyed||!_n.isFatalError(this._settings,e)||(this._isFatalError=!0,this._isDestroyed=!0,this._emitter.emit("error",e))}_handleEntry(e,r){if(this._isDestroyed||this._isFatalError)return;let n=e.path;r!==void 0&&(e.path=_n.joinPathSegments(r,e.name,this._settings.pathSegmentSeparator)),_n.isAppliedFilter(this._settings.entryFilter,e)&&this._emitEntry(e),e.dirent.isDirectory()&&_n.isAppliedFilter(this._settings.deepFilter,e)&&this._pushToQueue(n,r===void 0?void 0:e.path)}_emitEntry(e){this._emitter.emit("entry",e)}};Ks.default=Fu});var Hu=v(Js=>{"use strict";Object.defineProperty(Js,"__esModule",{value:!0});var Hm=Vs(),Bu=class{constructor(e,r){this._root=e,this._settings=r,this._reader=new Hm.default(this._root,this._settings),this._storage=[]}read(e){this._reader.onError(r=>{jm(e,r)}),this._reader.onEntry(r=>{this._storage.push(r)}),this._reader.onEnd(()=>{Ym(e,this._storage)}),this._reader.read()}};Js.default=Bu;function jm(t,e){t(e)}function Ym(t,e){t(null,e)}});var Yu=v(Qs=>{"use strict";Object.defineProperty(Qs,"__esModule",{value:!0});var Um=H("stream"),Wm=Vs(),ju=class{constructor(e,r){this._root=e,this._settings=r,this._reader=new Wm.default(this._root,this._settings),this._stream=new Um.Readable({objectMode:!0,read:()=>{},destroy:()=>{this._reader.isDestroyed||this._reader.destroy()}})}read(){return this._reader.onError(e=>{this._stream.emit("error",e)}),this._reader.onEntry(e=>{this._stream.push(e)}),this._reader.onEnd(()=>{this._stream.push(null)}),this._reader.read(),this._stream}};Qs.default=ju});var Wu=v(Xs=>{"use strict";Object.defineProperty(Xs,"__esModule",{value:!0});var Gm=mn(),Sn=yn(),Km=Gs(),Uu=class extends Km.default{constructor(){super(...arguments);this._scandir=Gm.scandirSync,this._storage=[],this._queue=new Set}read(){return this._pushToQueue(this._root,this._settings.basePath),this._handleQueue(),this._storage}_pushToQueue(e,r){this._queue.add({directory:e,base:r})}_handleQueue(){for(let e of this._queue.values())this._handleDirectory(e.directory,e.base)}_handleDirectory(e,r){try{let n=this._scandir(e,this._settings.fsScandirSettings);for(let s of n)this._handleEntry(s,r)}catch(n){this._handleError(n)}}_handleError(e){if(!!Sn.isFatalError(this._settings,e))throw e}_handleEntry(e,r){let n=e.path;r!==void 0&&(e.path=Sn.joinPathSegments(r,e.name,this._settings.pathSegmentSeparator)),Sn.isAppliedFilter(this._settings.entryFilter,e)&&this._pushToStorage(e),e.dirent.isDirectory()&&Sn.isAppliedFilter(this._settings.deepFilter,e)&&this._pushToQueue(n,r===void 0?void 0:e.path)}_pushToStorage(e){this._storage.push(e)}};Xs.default=Uu});var Ku=v(zs=>{"use strict";Object.defineProperty(zs,"__esModule",{value:!0});var Vm=Wu(),Gu=class{constructor(e,r){this._root=e,this._settings=r,this._reader=new Vm.default(this._root,this._settings)}read(){return this._reader.read()}};zs.default=Gu});var Ju=v(Zs=>{"use strict";Object.defineProperty(Zs,"__esModule",{value:!0});var Jm=H("path"),Qm=mn(),Vu=class{constructor(e={}){this._options=e,this.basePath=this._getValue(this._options.basePath,void 0),this.concurrency=this._getValue(this._options.concurrency,Number.POSITIVE_INFINITY),this.deepFilter=this._getValue(this._options.deepFilter,null),this.entryFilter=this._getValue(this._options.entryFilter,null),this.errorFilter=this._getValue(this._options.errorFilter,null),this.pathSegmentSeparator=this._getValue(this._options.pathSegmentSeparator,Jm.sep),this.fsScandirSettings=new Qm.Settings({followSymbolicLinks:this._options.followSymbolicLinks,fs:this._options.fs,pathSegmentSeparator:this._options.pathSegmentSeparator,stats:this._options.stats,throwErrorOnBrokenSymbolicLink:this._options.throwErrorOnBrokenSymbolicLink})}_getValue(e,r){return e!=null?e:r}};Zs.default=Vu});var ti=v(je=>{"use strict";Object.defineProperty(je,"__esModule",{value:!0});je.Settings=je.walkStream=je.walkSync=je.walk=void 0;var Qu=Hu(),Xm=Yu(),zm=Ku(),ei=Ju();je.Settings=ei.default;function Zm(t,e,r){if(typeof e=="function"){new Qu.default(t,En()).read(e);return}new Qu.default(t,En(e)).read(r)}je.walk=Zm;function ey(t,e){let r=En(e);return new zm.default(t,r).read()}je.walkSync=ey;function ty(t,e){let r=En(e);return new Xm.default(t,r).read()}je.walkStream=ty;function En(t={}){return t instanceof ei.default?t:new ei.default(t)}});var ni=v(ri=>{"use strict";Object.defineProperty(ri,"__esModule",{value:!0});var ry=H("path"),ny=Ot(),Xu=Ve(),zu=class{constructor(e){this._settings=e,this._fsStatSettings=new ny.Settings({followSymbolicLink:this._settings.followSymbolicLinks,fs:this._settings.fs,throwErrorOnBrokenSymbolicLink:this._settings.followSymbolicLinks})}_getFullEntryPath(e){return ry.resolve(this._settings.cwd,e)}_makeEntry(e,r){let n={name:r,path:r,dirent:Xu.fs.createDirentFromStats(r,e)};return this._settings.stats&&(n.stats=e),n}_isFatalError(e){return!Xu.errno.isEnoentCodeError(e)&&!this._settings.suppressErrors}};ri.default=zu});var ii=v(si=>{"use strict";Object.defineProperty(si,"__esModule",{value:!0});var sy=H("stream"),iy=Ot(),oy=ti(),ay=ni(),Zu=class extends ay.default{constructor(){super(...arguments);this._walkStream=oy.walkStream,this._stat=iy.stat}dynamic(e,r){return this._walkStream(e,r)}static(e,r){let n=e.map(this._getFullEntryPath,this),s=new sy.PassThrough({objectMode:!0});s._write=(i,o,a)=>this._getEntry(n[i],e[i],r).then(c=>{c!==null&&r.entryFilter(c)&&s.push(c),i===n.length-1&&s.end(),a()}).catch(a);for(let i=0;i<n.length;i++)s.write(i);return s}_getEntry(e,r,n){return this._getStat(e).then(s=>this._makeEntry(s,r)).catch(s=>{if(n.errorFilter(s))return null;throw s})}_getStat(e){return new Promise((r,n)=>{this._stat(e,this._fsStatSettings,(s,i)=>s===null?r(i):n(s))})}};si.default=Zu});var tl=v(oi=>{"use strict";Object.defineProperty(oi,"__esModule",{value:!0});var Vt=Ve(),el=class{constructor(e,r,n){this._patterns=e,this._settings=r,this._micromatchOptions=n,this._storage=[],this._fillStorage()}_fillStorage(){let e=Vt.pattern.expandPatternsWithBraceExpansion(this._patterns);for(let r of e){let n=this._getPatternSegments(r),s=this._splitSegmentsIntoSections(n);this._storage.push({complete:s.length<=1,pattern:r,segments:n,sections:s})}}_getPatternSegments(e){return Vt.pattern.getPatternParts(e,this._micromatchOptions).map(n=>Vt.pattern.isDynamicPattern(n,this._settings)?{dynamic:!0,pattern:n,patternRe:Vt.pattern.makeRe(n,this._micromatchOptions)}:{dynamic:!1,pattern:n})}_splitSegmentsIntoSections(e){return Vt.array.splitWhen(e,r=>r.dynamic&&Vt.pattern.hasGlobStar(r.pattern))}};oi.default=el});var nl=v(ai=>{"use strict";Object.defineProperty(ai,"__esModule",{value:!0});var cy=tl(),rl=class extends cy.default{match(e){let r=e.split("/"),n=r.length,s=this._storage.filter(i=>!i.complete||i.segments.length>n);for(let i of s){let o=i.sections[0];if(!i.complete&&n>o.length||r.every((c,u)=>{let l=i.segments[u];return!!(l.dynamic&&l.patternRe.test(c)||!l.dynamic&&l.pattern===c)}))return!0}return!1}};ai.default=rl});var il=v(ci=>{"use strict";Object.defineProperty(ci,"__esModule",{value:!0});var vn=Ve(),uy=nl(),sl=class{constructor(e,r){this._settings=e,this._micromatchOptions=r}getFilter(e,r,n){let s=this._getMatcher(r),i=this._getNegativePatternsRe(n);return o=>this._filter(e,o,s,i)}_getMatcher(e){return new uy.default(e,this._settings,this._micromatchOptions)}_getNegativePatternsRe(e){let r=e.filter(vn.pattern.isAffectDepthOfReadingPattern);return vn.pattern.convertPatternsToRe(r,this._micromatchOptions)}_filter(e,r,n,s){if(this._isSkippedByDeep(e,r.path)||this._isSkippedSymbolicLink(r))return!1;let i=vn.path.removeLeadingDotSegment(r.path);return this._isSkippedByPositivePatterns(i,n)?!1:this._isSkippedByNegativePatterns(i,s)}_isSkippedByDeep(e,r){return this._settings.deep===Infinity?!1:this._getEntryLevel(e,r)>=this._settings.deep}_getEntryLevel(e,r){let n=r.split("/").length;if(e==="")return n;let s=e.split("/").length;return n-s}_isSkippedSymbolicLink(e){return!this._settings.followSymbolicLinks&&e.dirent.isSymbolicLink()}_isSkippedByPositivePatterns(e,r){return!this._settings.baseNameMatch&&!r.match(e)}_isSkippedByNegativePatterns(e,r){return!vn.pattern.matchAny(e,r)}};ci.default=sl});var al=v(ui=>{"use strict";Object.defineProperty(ui,"__esModule",{value:!0});var Jt=Ve(),ol=class{constructor(e,r){this._settings=e,this._micromatchOptions=r,this.index=new Map}getFilter(e,r){let n=Jt.pattern.convertPatternsToRe(e,this._micromatchOptions),s=Jt.pattern.convertPatternsToRe(r,this._micromatchOptions);return i=>this._filter(i,n,s)}_filter(e,r,n){if(this._settings.unique&&this._isDuplicateEntry(e)||this._onlyFileFilter(e)||this._onlyDirectoryFilter(e)||this._isSkippedByAbsoluteNegativePatterns(e.path,n))return!1;let s=this._settings.baseNameMatch?e.name:e.path,i=this._isMatchToPatterns(s,r)&&!this._isMatchToPatterns(e.path,n);return this._settings.unique&&i&&this._createIndexRecord(e),i}_isDuplicateEntry(e){return this.index.has(e.path)}_createIndexRecord(e){this.index.set(e.path,void 0)}_onlyFileFilter(e){return this._settings.onlyFiles&&!e.dirent.isFile()}_onlyDirectoryFilter(e){return this._settings.onlyDirectories&&!e.dirent.isDirectory()}_isSkippedByAbsoluteNegativePatterns(e,r){if(!this._settings.absolute)return!1;let n=Jt.path.makeAbsolute(this._settings.cwd,e);return Jt.pattern.matchAny(n,r)}_isMatchToPatterns(e,r){let n=Jt.path.removeLeadingDotSegment(e);return Jt.pattern.matchAny(n,r)}};ui.default=ol});var ul=v(li=>{"use strict";Object.defineProperty(li,"__esModule",{value:!0});var ly=Ve(),cl=class{constructor(e){this._settings=e}getFilter(){return e=>this._isNonFatalError(e)}_isNonFatalError(e){return ly.errno.isEnoentCodeError(e)||this._settings.suppressErrors}};li.default=cl});var hl=v(fi=>{"use strict";Object.defineProperty(fi,"__esModule",{value:!0});var ll=Ve(),fl=class{constructor(e){this._settings=e}getTransformer(){return e=>this._transform(e)}_transform(e){let r=e.path;return this._settings.absolute&&(r=ll.path.makeAbsolute(this._settings.cwd,r),r=ll.path.unixify(r)),this._settings.markDirectories&&e.dirent.isDirectory()&&(r+="/"),this._settings.objectMode?Object.assign(Object.assign({},e),{path:r}):r}};fi.default=fl});var An=v(hi=>{"use strict";Object.defineProperty(hi,"__esModule",{value:!0});var fy=H("path"),hy=il(),py=al(),dy=ul(),gy=hl(),pl=class{constructor(e){this._settings=e,this.errorFilter=new dy.default(this._settings),this.entryFilter=new py.default(this._settings,this._getMicromatchOptions()),this.deepFilter=new hy.default(this._settings,this._getMicromatchOptions()),this.entryTransformer=new gy.default(this._settings)}_getRootDirectory(e){return fy.resolve(this._settings.cwd,e.base)}_getReaderOptions(e){let r=e.base==="."?"":e.base;return{basePath:r,pathSegmentSeparator:"/",concurrency:this._settings.concurrency,deepFilter:this.deepFilter.getFilter(r,e.positive,e.negative),entryFilter:this.entryFilter.getFilter(e.positive,e.negative),errorFilter:this.errorFilter.getFilter(),followSymbolicLinks:this._settings.followSymbolicLinks,fs:this._settings.fs,stats:this._settings.stats,throwErrorOnBrokenSymbolicLink:this._settings.throwErrorOnBrokenSymbolicLink,transform:this.entryTransformer.getTransformer()}}_getMicromatchOptions(){return{dot:this._settings.dot,matchBase:this._settings.baseNameMatch,nobrace:!this._settings.braceExpansion,nocase:!this._settings.caseSensitiveMatch,noext:!this._settings.extglob,noglobstar:!this._settings.globstar,posix:!0,strictSlashes:!1}}};hi.default=pl});var gl=v(pi=>{"use strict";Object.defineProperty(pi,"__esModule",{value:!0});var my=ii(),yy=An(),dl=class extends yy.default{constructor(){super(...arguments);this._reader=new my.default(this._settings)}read(e){let r=this._getRootDirectory(e),n=this._getReaderOptions(e),s=[];return new Promise((i,o)=>{let a=this.api(r,e,n);a.once("error",o),a.on("data",c=>s.push(n.transform(c))),a.once("end",()=>i(s))})}api(e,r,n){return r.dynamic?this._reader.dynamic(e,n):this._reader.static(r.patterns,n)}};pi.default=dl});var yl=v(di=>{"use strict";Object.defineProperty(di,"__esModule",{value:!0});var _y=H("stream"),Sy=ii(),Ey=An(),ml=class extends Ey.default{constructor(){super(...arguments);this._reader=new Sy.default(this._settings)}read(e){let r=this._getRootDirectory(e),n=this._getReaderOptions(e),s=this.api(r,e,n),i=new _y.Readable({objectMode:!0,read:()=>{}});return s.once("error",o=>i.emit("error",o)).on("data",o=>i.emit("data",n.transform(o))).once("end",()=>i.emit("end")),i.once("close",()=>s.destroy()),i}api(e,r,n){return r.dynamic?this._reader.dynamic(e,n):this._reader.static(r.patterns,n)}};di.default=ml});var Sl=v(gi=>{"use strict";Object.defineProperty(gi,"__esModule",{value:!0});var vy=Ot(),Ay=ti(),wy=ni(),_l=class extends wy.default{constructor(){super(...arguments);this._walkSync=Ay.walkSync,this._statSync=vy.statSync}dynamic(e,r){return this._walkSync(e,r)}static(e,r){let n=[];for(let s of e){let i=this._getFullEntryPath(s),o=this._getEntry(i,s,r);o===null||!r.entryFilter(o)||n.push(o)}return n}_getEntry(e,r,n){try{let s=this._getStat(e);return this._makeEntry(s,r)}catch(s){if(n.errorFilter(s))return null;throw s}}_getStat(e){return this._statSync(e,this._fsStatSettings)}};gi.default=_l});var vl=v(mi=>{"use strict";Object.defineProperty(mi,"__esModule",{value:!0});var by=Sl(),Oy=An(),El=class extends Oy.default{constructor(){super(...arguments);this._reader=new by.default(this._settings)}read(e){let r=this._getRootDirectory(e),n=this._getReaderOptions(e);return this.api(r,e,n).map(n.transform)}api(e,r,n){return r.dynamic?this._reader.dynamic(e,n):this._reader.static(r.patterns,n)}};mi.default=El});var wl=v(Xt=>{"use strict";Object.defineProperty(Xt,"__esModule",{value:!0});Xt.DEFAULT_FILE_SYSTEM_ADAPTER=void 0;var Qt=H("fs"),Py=H("os"),Ty=Math.max(Py.cpus().length,1);Xt.DEFAULT_FILE_SYSTEM_ADAPTER={lstat:Qt.lstat,lstatSync:Qt.lstatSync,stat:Qt.stat,statSync:Qt.statSync,readdir:Qt.readdir,readdirSync:Qt.readdirSync};var Al=class{constructor(e={}){this._options=e,this.absolute=this._getValue(this._options.absolute,!1),this.baseNameMatch=this._getValue(this._options.baseNameMatch,!1),this.braceExpansion=this._getValue(this._options.braceExpansion,!0),this.caseSensitiveMatch=this._getValue(this._options.caseSensitiveMatch,!0),this.concurrency=this._getValue(this._options.concurrency,Ty),this.cwd=this._getValue(this._options.cwd,process.cwd()),this.deep=this._getValue(this._options.deep,Infinity),this.dot=this._getValue(this._options.dot,!1),this.extglob=this._getValue(this._options.extglob,!0),this.followSymbolicLinks=this._getValue(this._options.followSymbolicLinks,!0),this.fs=this._getFileSystemMethods(this._options.fs),this.globstar=this._getValue(this._options.globstar,!0),this.ignore=this._getValue(this._options.ignore,[]),this.markDirectories=this._getValue(this._options.markDirectories,!1),this.objectMode=this._getValue(this._options.objectMode,!1),this.onlyDirectories=this._getValue(this._options.onlyDirectories,!1),this.onlyFiles=this._getValue(this._options.onlyFiles,!0),this.stats=this._getValue(this._options.stats,!1),this.suppressErrors=this._getValue(this._options.suppressErrors,!1),this.throwErrorOnBrokenSymbolicLink=this._getValue(this._options.throwErrorOnBrokenSymbolicLink,!1),this.unique=this._getValue(this._options.unique,!0),this.onlyDirectories&&(this.onlyFiles=!1),this.stats&&(this.objectMode=!0)}_getValue(e,r){return e===void 0?r:e}_getFileSystemMethods(e={}){return Object.assign(Object.assign({},Xt.DEFAULT_FILE_SYSTEM_ADAPTER),e)}};Xt.default=Al});var Ei=v((rE,Ol)=>{"use strict";var bl=ru(),Ry=gl(),Ly=yl(),Ny=vl(),yi=wl(),Pt=Ve();async function _i(t,e){zt(t);let r=Si(t,Ry.default,e),n=await Promise.all(r);return Pt.array.flatten(n)}(function(t){function e(o,a){zt(o);let c=Si(o,Ny.default,a);return Pt.array.flatten(c)}t.sync=e;function r(o,a){zt(o);let c=Si(o,Ly.default,a);return Pt.stream.merge(c)}t.stream=r;function n(o,a){zt(o);let c=[].concat(o),u=new yi.default(a);return bl.generate(c,u)}t.generateTasks=n;function s(o,a){zt(o);let c=new yi.default(a);return Pt.pattern.isDynamicPattern(o,c)}t.isDynamicPattern=s;function i(o){return zt(o),Pt.path.escape(o)}t.escapePath=i})(_i||(_i={}));function Si(t,e,r){let n=[].concat(t),s=new yi.default(r),i=bl.generate(n,s),o=new e(s);return i.map(o.read,o)}function zt(t){if(![].concat(t).every(n=>Pt.string.isString(n)&&!Pt.string.isEmpty(n)))throw new TypeError("Patterns must be a string (non empty) or an array of strings")}Ol.exports=_i});var Tl=v(Tt=>{"use strict";var{promisify:My}=H("util"),Pl=H("fs");async function vi(t,e,r){if(typeof r!="string")throw new TypeError(`Expected a string, got ${typeof r}`);try{return(await My(Pl[t])(r))[e]()}catch(n){if(n.code==="ENOENT")return!1;throw n}}function Ai(t,e,r){if(typeof r!="string")throw new TypeError(`Expected a string, got ${typeof r}`);try{return Pl[t](r)[e]()}catch(n){if(n.code==="ENOENT")return!1;throw n}}Tt.isFile=vi.bind(null,"stat","isFile");Tt.isDirectory=vi.bind(null,"stat","isDirectory");Tt.isSymlink=vi.bind(null,"lstat","isSymbolicLink");Tt.isFileSync=Ai.bind(null,"statSync","isFile");Tt.isDirectorySync=Ai.bind(null,"statSync","isDirectory");Tt.isSymlinkSync=Ai.bind(null,"lstatSync","isSymbolicLink")});var xl=v((sE,wi)=>{"use strict";var Rt=H("path"),Rl=Tl(),Ll=t=>t.length>1?`{${t.join(",")}}`:t[0],Nl=(t,e)=>{let r=t[0]==="!"?t.slice(1):t;return Rt.isAbsolute(r)?r:Rt.join(e,r)},xy=(t,e)=>Rt.extname(t)?`**/${t}`:`**/${t}.${Ll(e)}`,Ml=(t,e)=>{if(e.files&&!Array.isArray(e.files))throw new TypeError(`Expected \`files\` to be of type \`Array\` but received type \`${typeof e.files}\``);if(e.extensions&&!Array.isArray(e.extensions))throw new TypeError(`Expected \`extensions\` to be of type \`Array\` but received type \`${typeof e.extensions}\``);return e.files&&e.extensions?e.files.map(r=>Rt.posix.join(t,xy(r,e.extensions))):e.files?e.files.map(r=>Rt.posix.join(t,`**/${r}`)):e.extensions?[Rt.posix.join(t,`**/*.${Ll(e.extensions)}`)]:[Rt.posix.join(t,"**")]};wi.exports=async(t,e)=>{if(e=F({cwd:process.cwd()},e),typeof e.cwd!="string")throw new TypeError(`Expected \`cwd\` to be of type \`string\` but received type \`${typeof e.cwd}\``);let r=await Promise.all([].concat(t).map(async n=>await Rl.isDirectory(Nl(n,e.cwd))?Ml(n,e):n));return[].concat.apply([],r)};wi.exports.sync=(t,e)=>{if(e=F({cwd:process.cwd()},e),typeof e.cwd!="string")throw new TypeError(`Expected \`cwd\` to be of type \`string\` but received type \`${typeof e.cwd}\``);let r=[].concat(t).map(n=>Rl.isDirectorySync(Nl(n,e.cwd))?Ml(n,e):n);return[].concat.apply([],r)}});var Yl=v((iE,jl)=>{function Cl(t){return Array.isArray(t)?t:[t]}var kl="",Il=" ",bi="\\",Cy=/^\s+$/,ky=/^\\!/,Iy=/^\\#/,$y=/\r?\n/g,Dy=/^\.*\/|^\.+$/,Oi="/",$l=typeof Symbol!="undefined"?Symbol.for("node-ignore"):"node-ignore",qy=(t,e,r)=>Object.defineProperty(t,e,{value:r}),Fy=/([0-z])-([0-z])/g,Dl=()=>!1,By=t=>t.replace(Fy,(e,r,n)=>r.charCodeAt(0)<=n.charCodeAt(0)?e:kl),Hy=t=>{let{length:e}=t;return t.slice(0,e-e%2)},jy=[[/\\?\s+$/,t=>t.indexOf("\\")===0?Il:kl],[/\\\s/g,()=>Il],[/[\\$.|*+(){^]/g,t=>`\\${t}`],[/(?!\\)\?/g,()=>"[^/]"],[/^\//,()=>"^"],[/\//g,()=>"\\/"],[/^\^*\\\*\\\*\\\//,()=>"^(?:.*\\/)?"],[/^(?=[^^])/,function(){return/\/(?!$)/.test(this)?"^":"(?:^|\\/)"}],[/\\\/\\\*\\\*(?=\\\/|$)/g,(t,e,r)=>e+6<r.length?"(?:\\/[^\\/]+)*":"\\/.+"],[/(^|[^\\]+)\\\*(?=.+)/g,(t,e)=>`${e}[^\\/]*`],[/\\\\\\(?=[$.|*+(){^])/g,()=>bi],[/\\\\/g,()=>bi],[/(\\)?\[([^\]/]*?)(\\*)($|\])/g,(t,e,r,n,s)=>e===bi?`\\[${r}${Hy(n)}${s}`:s==="]"&&n.length%2==0?`[${By(r)}${n}]`:"[]"],[/(?:[^*])$/,t=>/\/$/.test(t)?`${t}$`:`${t}(?=$|\\/$)`],[/(\^|\\\/)?\\\*$/,(t,e)=>`${e?`${e}[^/]+`:"[^/]*"}(?=$|\\/$)`]],ql=Object.create(null),Yy=(t,e)=>{let r=ql[t];return r||(r=jy.reduce((n,s)=>n.replace(s[0],s[1].bind(t)),t),ql[t]=r),e?new RegExp(r,"i"):new RegExp(r)},Pi=t=>typeof t=="string",Uy=t=>t&&Pi(t)&&!Cy.test(t)&&t.indexOf("#")!==0,Wy=t=>t.split($y),Fl=class{constructor(e,r,n,s){this.origin=e,this.pattern=r,this.negative=n,this.regex=s}},Gy=(t,e)=>{let r=t,n=!1;t.indexOf("!")===0&&(n=!0,t=t.substr(1)),t=t.replace(ky,"!").replace(Iy,"#");let s=Yy(t,e);return new Fl(r,t,n,s)},Ky=(t,e)=>{throw new e(t)},Qe=(t,e,r)=>Pi(t)?t?Qe.isNotRelative(t)?r(`path should be a \`path.relative()\`d string, but got "${e}"`,RangeError):!0:r("path must not be empty",TypeError):r(`path must be a string, but got \`${e}\``,TypeError),Bl=t=>Dy.test(t);Qe.isNotRelative=Bl;Qe.convert=t=>t;var Hl=class{constructor({ignorecase:e=!0,ignoreCase:r=e,allowRelativePaths:n=!1}={}){qy(this,$l,!0),this._rules=[],this._ignoreCase=r,this._allowRelativePaths=n,this._initCache()}_initCache(){this._ignoreCache=Object.create(null),this._testCache=Object.create(null)}_addPattern(e){if(e&&e[$l]){this._rules=this._rules.concat(e._rules),this._added=!0;return}if(Uy(e)){let r=Gy(e,this._ignoreCase);this._added=!0,this._rules.push(r)}}add(e){return this._added=!1,Cl(Pi(e)?Wy(e):e).forEach(this._addPattern,this),this._added&&this._initCache(),this}addPattern(e){return this.add(e)}_testOne(e,r){let n=!1,s=!1;return this._rules.forEach(i=>{let{negative:o}=i;if(s===o&&n!==s||o&&!n&&!s&&!r)return;i.regex.test(e)&&(n=!o,s=o)}),{ignored:n,unignored:s}}_test(e,r,n,s){let i=e&&Qe.convert(e);return Qe(i,e,this._allowRelativePaths?Dl:Ky),this._t(i,r,n,s)}_t(e,r,n,s){if(e in r)return r[e];if(s||(s=e.split(Oi)),s.pop(),!s.length)return r[e]=this._testOne(e,n);let i=this._t(s.join(Oi)+Oi,r,n,s);return r[e]=i.ignored?i:this._testOne(e,n)}ignores(e){return this._test(e,this._ignoreCache,!1).ignored}createFilter(){return e=>!this.ignores(e)}filter(e){return Cl(e).filter(this.createFilter())}test(e){return this._test(e,this._testCache,!0)}},wn=t=>new Hl(t),Vy=t=>Qe(t&&Qe.convert(t),t,Dl);wn.isPathValid=Vy;wn.default=wn;jl.exports=wn;if(typeof process!="undefined"&&(process.env&&process.env.IGNORE_TEST_WIN32||process.platform==="win32")){let t=r=>/^\\\\\?\\/.test(r)||/["<>|\u0000-\u001F]+/u.test(r)?r:r.replace(/\\/g,"/");Qe.convert=t;let e=/^[a-z]:\//i;Qe.isNotRelative=r=>e.test(r)||Bl(r)}});var Wl=v((oE,Ul)=>{"use strict";Ul.exports=t=>{let e=/^\\\\\?\\/.test(t),r=/[^\u0000-\u0080]+/.test(t);return e||r?t:t.replace(/\\/g,"/")}});var zl=v((aE,Ti)=>{"use strict";var{promisify:Jy}=H("util"),Gl=H("fs"),Xe=H("path"),Kl=Ei(),Qy=Yl(),gr=Wl(),Vl=["**/node_modules/**","**/flow-typed/**","**/coverage/**","**/.git"],Xy=Jy(Gl.readFile),zy=t=>e=>e.startsWith("!")?"!"+Xe.posix.join(t,e.slice(1)):Xe.posix.join(t,e),Zy=(t,e)=>{let r=gr(Xe.relative(e.cwd,Xe.dirname(e.fileName)));return t.split(/\r?\n/).filter(Boolean).filter(n=>!n.startsWith("#")).map(zy(r))},Jl=t=>{let e=Qy();for(let r of t)e.add(Zy(r.content,{cwd:r.cwd,fileName:r.filePath}));return e},e_=(t,e)=>{if(t=gr(t),Xe.isAbsolute(e)){if(gr(e).startsWith(t))return e;throw new Error(`Path ${e} is not in cwd ${t}`)}return Xe.join(t,e)},Ql=(t,e)=>r=>t.ignores(gr(Xe.relative(e,e_(e,r.path||r)))),t_=async(t,e)=>{let r=Xe.join(e,t),n=await Xy(r,"utf8");return{cwd:e,filePath:r,content:n}},r_=(t,e)=>{let r=Xe.join(e,t),n=Gl.readFileSync(r,"utf8");return{cwd:e,filePath:r,content:n}},Xl=({ignore:t=[],cwd:e=gr(process.cwd())}={})=>({ignore:t,cwd:e});Ti.exports=async t=>{t=Xl(t);let e=await Kl("**/.gitignore",{ignore:Vl.concat(t.ignore),cwd:t.cwd}),r=await Promise.all(e.map(s=>t_(s,t.cwd))),n=Jl(r);return Ql(n,t.cwd)};Ti.exports.sync=t=>{t=Xl(t);let r=Kl.sync("**/.gitignore",{ignore:Vl.concat(t.ignore),cwd:t.cwd}).map(s=>r_(s,t.cwd)),n=Jl(r);return Ql(n,t.cwd)}});var rf=v((cE,tf)=>{"use strict";var{Transform:n_}=H("stream"),Ri=class extends n_{constructor(){super({objectMode:!0})}},Zl=class extends Ri{constructor(e){super();this._filter=e}_transform(e,r,n){this._filter(e)&&this.push(e),n()}},ef=class extends Ri{constructor(){super();this._pushed=new Set}_transform(e,r,n){this._pushed.has(e)||(this.push(e),this._pushed.add(e)),n()}};tf.exports={FilterStream:Zl,UniqueStream:ef}});var cf=v((uE,Lt)=>{"use strict";var nf=H("fs"),bn=_a(),s_=ls(),On=Ei(),Pn=xl(),Li=zl(),{FilterStream:i_,UniqueStream:o_}=rf(),sf=()=>!1,of=t=>t[0]==="!",a_=t=>{if(!t.every(e=>typeof e=="string"))throw new TypeError("Patterns must be a string or an array of strings")},c_=(t={})=>{if(!t.cwd)return;let e;try{e=nf.statSync(t.cwd)}catch{return}if(!e.isDirectory())throw new Error("The `cwd` option must be a path to a directory")},u_=t=>t.stats instanceof nf.Stats?t.path:t,Tn=(t,e)=>{t=bn([].concat(t)),a_(t),c_(e);let r=[];e=F({ignore:[],expandDirectories:!0},e);for(let[n,s]of t.entries()){if(of(s))continue;let i=t.slice(n).filter(a=>of(a)).map(a=>a.slice(1)),o=ne(F({},e),{ignore:e.ignore.concat(i)});r.push({pattern:s,options:o})}return r},l_=(t,e)=>{let r={};return t.options.cwd&&(r.cwd=t.options.cwd),Array.isArray(t.options.expandDirectories)?r=ne(F({},r),{files:t.options.expandDirectories}):typeof t.options.expandDirectories=="object"&&(r=F(F({},r),t.options.expandDirectories)),e(t.pattern,r)},Ni=(t,e)=>t.options.expandDirectories?l_(t,e):[t.pattern],af=t=>t&&t.gitignore?Li.sync({cwd:t.cwd,ignore:t.ignore}):sf,Mi=t=>e=>{let{options:r}=t;return r.ignore&&Array.isArray(r.ignore)&&r.expandDirectories&&(r.ignore=Pn.sync(r.ignore)),{pattern:e,options:r}};Lt.exports=async(t,e)=>{let r=Tn(t,e),n=async()=>e&&e.gitignore?Li({cwd:e.cwd,ignore:e.ignore}):sf,s=async()=>{let c=await Promise.all(r.map(async u=>{let l=await Ni(u,Pn);return Promise.all(l.map(Mi(u)))}));return bn(...c)},[i,o]=await Promise.all([n(),s()]),a=await Promise.all(o.map(c=>On(c.pattern,c.options)));return bn(...a).filter(c=>!i(u_(c)))};Lt.exports.sync=(t,e)=>{let r=Tn(t,e),n=[];for(let o of r){let a=Ni(o,Pn.sync).map(Mi(o));n.push(...a)}let s=af(e),i=[];for(let o of n)i=bn(i,On.sync(o.pattern,o.options));return i.filter(o=>!s(o))};Lt.exports.stream=(t,e)=>{let r=Tn(t,e),n=[];for(let a of r){let c=Ni(a,Pn.sync).map(Mi(a));n.push(...c)}let s=af(e),i=new i_(a=>!s(a)),o=new o_;return s_(n.map(a=>On.stream(a.pattern,a.options))).pipe(i).pipe(o)};Lt.exports.generateGlobTasks=Tn;Lt.exports.hasMagic=(t,e)=>[].concat(t).some(r=>On.isDynamicPattern(r,e));Lt.exports.gitignore=Li});var p_={};Tf(p_,{DEFAULT_MANIFEST_FILE_NAME:()=>ff,DEFAULT_YAML_MANIFEST_FILE_NAME:()=>hf,default:()=>h_,handleDependenciesUpdated:()=>gf,handleYarnStart:()=>df,manifestFileName:()=>xi,normalizeDirectory:()=>$i,updateManifest:()=>Ii,updateYaml:()=>ki,yamlManifestFileName:()=>Ci});var X=er(H("@yarnpkg/fslib")),Rn=er(Un()),uf=er(Zo()),mr=er(ma()),lf=er(cf()),ff="package.json",hf="package.yml",xi=process.env.MANIFEST_FILE_NAME||ff,Ci=process.env.YAML_MANIFEST_FILE_NAME||hf,pf=t=>t!=null,ki=({manifestPath:t,yamlManifestPath:e})=>{let r=X.xfs.existsSync(e)?X.xfs.readFileSync(e).toString():"{}",n=JSON.parse(X.xfs.readFileSync(t).toString()),s=Rn.parse(r),i=(0,mr.createPatch)(s,n);i.length!==0&&X.xfs.writeFileSync(e,uf.yamlPatch(r,i))},Ii=({manifestPath:t,yamlManifestPath:e})=>{let r=Rn.parse(X.xfs.readFileSync(e).toString()),n=X.xfs.existsSync(t)?JSON.parse(X.xfs.readFileSync(t).toString()):{},s=(0,mr.createPatch)(n,r);if(s.length===0)return;let i=(0,mr.applyPatch)(n,s);(i==null?void 0:i.length)>0&&console.error(i),X.xfs.writeFileSync(t,JSON.stringify(n,null,2))},$i=t=>{let e=X.ppath.join(t,xi),r=X.ppath.join(t,Ci);if(!X.xfs.existsSync(e))if(X.xfs.existsSync(r))Ii({manifestPath:e,yamlManifestPath:r});else return;if(!X.xfs.existsSync(r)){ki({manifestPath:e,yamlManifestPath:r});return}return{manifestPath:e,yamlManifestPath:r}},df=async({projectCwd:t})=>{if(t===null)return;let e=X.ppath.join(t,Ci),r=X.ppath.join(t,xi),n=X.xfs.existsSync(e)?Rn.parse(X.xfs.readFileSync(e).toString()):X.xfs.existsSync(r)?JSON.parse(X.xfs.readFileSync(r).toString()):{},s=(n==null?void 0:n.workspaces)||[];[...lf.default.sync(s,{cwd:X.npath.fromPortablePath(t),expandDirectories:!1,onlyDirectories:!0,onlyFiles:!1,ignore:["**/node_modules","**/.git","**/.yarn"]}).map(X.npath.toPortablePath),t].map($i).filter(pf).forEach(Ii)},gf=({workspaces:t})=>{t.map(e=>e.cwd).map($i).filter(pf).forEach(ki)},mf=!1,f_={hooks:{registerPackageExtensions:t=>mf?Promise.resolve():(mf=!0,df(t)),afterAllInstalled:t=>{gf(t)}},commands:[]},h_=f_;return p_;})();
/*!
 * fill-range <https://github.com/jonschlinkert/fill-range>
 *
 * Copyright (c) 2014-present, Jon Schlinkert.
 * Licensed under the MIT License.
 */
/*!
 * https://github.com/Starcounter-Jack/JSON-Patch
 * (c) 2017 Joachim Wester
 * MIT license
 */
/*!
 * is-extglob <https://github.com/jonschlinkert/is-extglob>
 *
 * Copyright (c) 2014-2016, Jon Schlinkert.
 * Licensed under the MIT License.
 */
/*!
 * is-glob <https://github.com/jonschlinkert/is-glob>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */
/*!
 * is-number <https://github.com/jonschlinkert/is-number>
 *
 * Copyright (c) 2014-present, Jon Schlinkert.
 * Released under the MIT License.
 */
/*!
 * to-regex-range <https://github.com/micromatch/to-regex-range>
 *
 * Copyright (c) 2015-present, Jon Schlinkert.
 * Released under the MIT License.
 */
/*! queue-microtask. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */
/*! run-parallel. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */
return plugin;
}
};
